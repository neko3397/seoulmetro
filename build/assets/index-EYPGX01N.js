function B0(r,t){for(var s=0;s<t.length;s++){const o=t[s];if(typeof o!="string"&&!Array.isArray(o)){for(const a in o)if(a!=="default"&&!(a in r)){const l=Object.getOwnPropertyDescriptor(o,a);l&&Object.defineProperty(r,a,l.get?l:{enumerable:!0,get:()=>o[a]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function s(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(a){if(a.ep)return;a.ep=!0;const l=s(a);fetch(a.href,l)}})();function Vu(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function V0(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var t=r.default;if(typeof t=="function"){var s=function o(){return this instanceof o?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(r).forEach(function(o){var a=Object.getOwnPropertyDescriptor(r,o);Object.defineProperty(s,o,a.get?a:{enumerable:!0,get:function(){return r[o]}})}),s}var $c={exports:{}},To={},Mc={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sp;function W0(){if(Sp)return Ce;Sp=1;var r=Symbol.for("react.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function _(A){return A===null||typeof A!="object"?null:(A=y&&A[y]||A["@@iterator"],typeof A=="function"?A:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,b={};function k(A,V,le){this.props=A,this.context=V,this.refs=b,this.updater=le||S}k.prototype.isReactComponent={},k.prototype.setState=function(A,V){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,V,"setState")},k.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function C(){}C.prototype=k.prototype;function P(A,V,le){this.props=A,this.context=V,this.refs=b,this.updater=le||S}var R=P.prototype=new C;R.constructor=P,E(R,k.prototype),R.isPureReactComponent=!0;var T=Array.isArray,D=Object.prototype.hasOwnProperty,B={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function z(A,V,le){var ae,xe={},Se=null,X=null;if(V!=null)for(ae in V.ref!==void 0&&(X=V.ref),V.key!==void 0&&(Se=""+V.key),V)D.call(V,ae)&&!F.hasOwnProperty(ae)&&(xe[ae]=V[ae]);var pe=arguments.length-2;if(pe===1)xe.children=le;else if(1<pe){for(var we=Array(pe),be=0;be<pe;be++)we[be]=arguments[be+2];xe.children=we}if(A&&A.defaultProps)for(ae in pe=A.defaultProps,pe)xe[ae]===void 0&&(xe[ae]=pe[ae]);return{$$typeof:r,type:A,key:Se,ref:X,props:xe,_owner:B.current}}function W(A,V){return{$$typeof:r,type:A.type,key:V,ref:A.ref,props:A.props,_owner:A._owner}}function J(A){return typeof A=="object"&&A!==null&&A.$$typeof===r}function te(A){var V={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(le){return V[le]})}var Y=/\/+/g;function re(A,V){return typeof A=="object"&&A!==null&&A.key!=null?te(""+A.key):V.toString(36)}function H(A,V,le,ae,xe){var Se=typeof A;(Se==="undefined"||Se==="boolean")&&(A=null);var X=!1;if(A===null)X=!0;else switch(Se){case"string":case"number":X=!0;break;case"object":switch(A.$$typeof){case r:case t:X=!0}}if(X)return X=A,xe=xe(X),A=ae===""?"."+re(X,0):ae,T(xe)?(le="",A!=null&&(le=A.replace(Y,"$&/")+"/"),H(xe,V,le,"",function(be){return be})):xe!=null&&(J(xe)&&(xe=W(xe,le+(!xe.key||X&&X.key===xe.key?"":(""+xe.key).replace(Y,"$&/")+"/")+A)),V.push(xe)),1;if(X=0,ae=ae===""?".":ae+":",T(A))for(var pe=0;pe<A.length;pe++){Se=A[pe];var we=ae+re(Se,pe);X+=H(Se,V,le,we,xe)}else if(we=_(A),typeof we=="function")for(A=we.call(A),pe=0;!(Se=A.next()).done;)Se=Se.value,we=ae+re(Se,pe++),X+=H(Se,V,le,we,xe);else if(Se==="object")throw V=String(A),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return X}function oe(A,V,le){if(A==null)return A;var ae=[],xe=0;return H(A,ae,"","",function(Se){return V.call(le,Se,xe++)}),ae}function Z(A){if(A._status===-1){var V=A._result;V=V(),V.then(function(le){(A._status===0||A._status===-1)&&(A._status=1,A._result=le)},function(le){(A._status===0||A._status===-1)&&(A._status=2,A._result=le)}),A._status===-1&&(A._status=0,A._result=V)}if(A._status===1)return A._result.default;throw A._result}var ne={current:null},j={transition:null},U={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:j,ReactCurrentOwner:B};function K(){throw Error("act(...) is not supported in production builds of React.")}return Ce.Children={map:oe,forEach:function(A,V,le){oe(A,function(){V.apply(this,arguments)},le)},count:function(A){var V=0;return oe(A,function(){V++}),V},toArray:function(A){return oe(A,function(V){return V})||[]},only:function(A){if(!J(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},Ce.Component=k,Ce.Fragment=s,Ce.Profiler=a,Ce.PureComponent=P,Ce.StrictMode=o,Ce.Suspense=p,Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,Ce.act=K,Ce.cloneElement=function(A,V,le){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var ae=E({},A.props),xe=A.key,Se=A.ref,X=A._owner;if(V!=null){if(V.ref!==void 0&&(Se=V.ref,X=B.current),V.key!==void 0&&(xe=""+V.key),A.type&&A.type.defaultProps)var pe=A.type.defaultProps;for(we in V)D.call(V,we)&&!F.hasOwnProperty(we)&&(ae[we]=V[we]===void 0&&pe!==void 0?pe[we]:V[we])}var we=arguments.length-2;if(we===1)ae.children=le;else if(1<we){pe=Array(we);for(var be=0;be<we;be++)pe[be]=arguments[be+2];ae.children=pe}return{$$typeof:r,type:A.type,key:xe,ref:Se,props:ae,_owner:X}},Ce.createContext=function(A){return A={$$typeof:u,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:l,_context:A},A.Consumer=A},Ce.createElement=z,Ce.createFactory=function(A){var V=z.bind(null,A);return V.type=A,V},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(A){return{$$typeof:f,render:A}},Ce.isValidElement=J,Ce.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:Z}},Ce.memo=function(A,V){return{$$typeof:g,type:A,compare:V===void 0?null:V}},Ce.startTransition=function(A){var V=j.transition;j.transition={};try{A()}finally{j.transition=V}},Ce.unstable_act=K,Ce.useCallback=function(A,V){return ne.current.useCallback(A,V)},Ce.useContext=function(A){return ne.current.useContext(A)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(A){return ne.current.useDeferredValue(A)},Ce.useEffect=function(A,V){return ne.current.useEffect(A,V)},Ce.useId=function(){return ne.current.useId()},Ce.useImperativeHandle=function(A,V,le){return ne.current.useImperativeHandle(A,V,le)},Ce.useInsertionEffect=function(A,V){return ne.current.useInsertionEffect(A,V)},Ce.useLayoutEffect=function(A,V){return ne.current.useLayoutEffect(A,V)},Ce.useMemo=function(A,V){return ne.current.useMemo(A,V)},Ce.useReducer=function(A,V,le){return ne.current.useReducer(A,V,le)},Ce.useRef=function(A){return ne.current.useRef(A)},Ce.useState=function(A){return ne.current.useState(A)},Ce.useSyncExternalStore=function(A,V,le){return ne.current.useSyncExternalStore(A,V,le)},Ce.useTransition=function(){return ne.current.useTransition()},Ce.version="18.3.1",Ce}var kp;function Wu(){return kp||(kp=1,Mc.exports=W0()),Mc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ep;function H0(){if(Ep)return To;Ep=1;var r=Wu(),t=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(f,p,g){var v,y={},_=null,S=null;g!==void 0&&(_=""+g),p.key!==void 0&&(_=""+p.key),p.ref!==void 0&&(S=p.ref);for(v in p)o.call(p,v)&&!l.hasOwnProperty(v)&&(y[v]=p[v]);if(f&&f.defaultProps)for(v in p=f.defaultProps,p)y[v]===void 0&&(y[v]=p[v]);return{$$typeof:t,type:f,key:_,ref:S,props:y,_owner:a.current}}return To.Fragment=s,To.jsx=u,To.jsxs=u,To}var jp;function K0(){return jp||(jp=1,$c.exports=H0()),$c.exports}var d=K0(),ra={},Uc={exports:{}},Ct={},Fc={exports:{}},zc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp;function q0(){return Cp||(Cp=1,(function(r){function t(j,U){var K=j.length;j.push(U);e:for(;0<K;){var A=K-1>>>1,V=j[A];if(0<a(V,U))j[A]=U,j[K]=V,K=A;else break e}}function s(j){return j.length===0?null:j[0]}function o(j){if(j.length===0)return null;var U=j[0],K=j.pop();if(K!==U){j[0]=K;e:for(var A=0,V=j.length,le=V>>>1;A<le;){var ae=2*(A+1)-1,xe=j[ae],Se=ae+1,X=j[Se];if(0>a(xe,K))Se<V&&0>a(X,xe)?(j[A]=X,j[Se]=K,A=Se):(j[A]=xe,j[ae]=K,A=ae);else if(Se<V&&0>a(X,K))j[A]=X,j[Se]=K,A=Se;else break e}}return U}function a(j,U){var K=j.sortIndex-U.sortIndex;return K!==0?K:j.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();r.unstable_now=function(){return u.now()-f}}var p=[],g=[],v=1,y=null,_=3,S=!1,E=!1,b=!1,k=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(j){for(var U=s(g);U!==null;){if(U.callback===null)o(g);else if(U.startTime<=j)o(g),U.sortIndex=U.expirationTime,t(p,U);else break;U=s(g)}}function T(j){if(b=!1,R(j),!E)if(s(p)!==null)E=!0,Z(D);else{var U=s(g);U!==null&&ne(T,U.startTime-j)}}function D(j,U){E=!1,b&&(b=!1,C(z),z=-1),S=!0;var K=_;try{for(R(U),y=s(p);y!==null&&(!(y.expirationTime>U)||j&&!te());){var A=y.callback;if(typeof A=="function"){y.callback=null,_=y.priorityLevel;var V=A(y.expirationTime<=U);U=r.unstable_now(),typeof V=="function"?y.callback=V:y===s(p)&&o(p),R(U)}else o(p);y=s(p)}if(y!==null)var le=!0;else{var ae=s(g);ae!==null&&ne(T,ae.startTime-U),le=!1}return le}finally{y=null,_=K,S=!1}}var B=!1,F=null,z=-1,W=5,J=-1;function te(){return!(r.unstable_now()-J<W)}function Y(){if(F!==null){var j=r.unstable_now();J=j;var U=!0;try{U=F(!0,j)}finally{U?re():(B=!1,F=null)}}else B=!1}var re;if(typeof P=="function")re=function(){P(Y)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,oe=H.port2;H.port1.onmessage=Y,re=function(){oe.postMessage(null)}}else re=function(){k(Y,0)};function Z(j){F=j,B||(B=!0,re())}function ne(j,U){z=k(function(){j(r.unstable_now())},U)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(j){j.callback=null},r.unstable_continueExecution=function(){E||S||(E=!0,Z(D))},r.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<j?Math.floor(1e3/j):5},r.unstable_getCurrentPriorityLevel=function(){return _},r.unstable_getFirstCallbackNode=function(){return s(p)},r.unstable_next=function(j){switch(_){case 1:case 2:case 3:var U=3;break;default:U=_}var K=_;_=U;try{return j()}finally{_=K}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(j,U){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var K=_;_=j;try{return U()}finally{_=K}},r.unstable_scheduleCallback=function(j,U,K){var A=r.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?A+K:A):K=A,j){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=K+V,j={id:v++,callback:U,priorityLevel:j,startTime:K,expirationTime:V,sortIndex:-1},K>A?(j.sortIndex=K,t(g,j),s(p)===null&&j===s(g)&&(b?(C(z),z=-1):b=!0,ne(T,K-A))):(j.sortIndex=V,t(p,j),E||S||(E=!0,Z(D))),j},r.unstable_shouldYield=te,r.unstable_wrapCallback=function(j){var U=_;return function(){var K=_;_=U;try{return j.apply(this,arguments)}finally{_=K}}}})(zc)),zc}var Np;function G0(){return Np||(Np=1,Fc.exports=q0()),Fc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tp;function J0(){if(Tp)return Ct;Tp=1;var r=Wu(),t=G0();function s(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,n){u(e,n),u(e+"Capture",n)}function u(e,n){for(a[e]=n,e=0;e<n.length;e++)o.add(n[e])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},y={};function _(e){return p.call(y,e)?!0:p.call(v,e)?!1:g.test(e)?y[e]=!0:(v[e]=!0,!1)}function S(e,n,i,c){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return c?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function E(e,n,i,c){if(n===null||typeof n>"u"||S(e,n,i,c))return!0;if(c)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function b(e,n,i,c,h,m,w){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=i,this.propertyName=e,this.type=n,this.sanitizeURL=m,this.removeEmptyString=w}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){k[e]=new b(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];k[n]=new b(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){k[e]=new b(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){k[e]=new b(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){k[e]=new b(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){k[e]=new b(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){k[e]=new b(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){k[e]=new b(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){k[e]=new b(e,5,!1,e.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function P(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(C,P);k[n]=new b(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(C,P);k[n]=new b(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(C,P);k[n]=new b(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){k[e]=new b(e,1,!1,e.toLowerCase(),null,!1,!1)}),k.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){k[e]=new b(e,1,!1,e.toLowerCase(),null,!0,!0)});function R(e,n,i,c){var h=k.hasOwnProperty(n)?k[n]:null;(h!==null?h.type!==0:c||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(E(n,i,h,c)&&(i=null),c||h===null?_(n)&&(i===null?e.removeAttribute(n):e.setAttribute(n,""+i)):h.mustUseProperty?e[h.propertyName]=i===null?h.type===3?!1:"":i:(n=h.attributeName,c=h.attributeNamespace,i===null?e.removeAttribute(n):(h=h.type,i=h===3||h===4&&i===!0?"":""+i,c?e.setAttributeNS(c,n,i):e.setAttribute(n,i))))}var T=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),B=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),te=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),j=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=j&&e[j]||e["@@iterator"],typeof e=="function"?e:null)}var K=Object.assign,A;function V(e){if(A===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);A=n&&n[1]||""}return`
`+A+e}var le=!1;function ae(e,n){if(!e||le)return"";le=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(M){var c=M}Reflect.construct(e,[],n)}else{try{n.call()}catch(M){c=M}e.call(n.prototype)}else{try{throw Error()}catch(M){c=M}e()}}catch(M){if(M&&c&&typeof M.stack=="string"){for(var h=M.stack.split(`
`),m=c.stack.split(`
`),w=h.length-1,N=m.length-1;1<=w&&0<=N&&h[w]!==m[N];)N--;for(;1<=w&&0<=N;w--,N--)if(h[w]!==m[N]){if(w!==1||N!==1)do if(w--,N--,0>N||h[w]!==m[N]){var O=`
`+h[w].replace(" at new "," at ");return e.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",e.displayName)),O}while(1<=w&&0<=N);break}}}finally{le=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?V(e):""}function xe(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=ae(e.type,!1),e;case 11:return e=ae(e.type.render,!1),e;case 1:return e=ae(e.type,!0),e;default:return""}}function Se(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case F:return"Fragment";case B:return"Portal";case W:return"Profiler";case z:return"StrictMode";case re:return"Suspense";case H:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case te:return(e.displayName||"Context")+".Consumer";case J:return(e._context.displayName||"Context")+".Provider";case Y:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case oe:return n=e.displayName||null,n!==null?n:Se(e.type)||"Memo";case Z:n=e._payload,e=e._init;try{return Se(e(n))}catch{}}return null}function X(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Se(n);case 8:return n===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function pe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function we(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function be(e){var n=we(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),c=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var h=i.get,m=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(w){c=""+w,m.call(this,w)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Re(e){e._valueTracker||(e._valueTracker=be(e))}function $e(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),c="";return e&&(c=we(e)?e.checked?"true":"false":e.value),e=c,e!==i?(n.setValue(e),!0):!1}function ut(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ht(e,n){var i=n.checked;return K({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Lr(e,n){var i=n.defaultValue==null?"":n.defaultValue,c=n.checked!=null?n.checked:n.defaultChecked;i=pe(n.value!=null?n.value:i),e._wrapperState={initialChecked:c,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function $r(e,n){n=n.checked,n!=null&&R(e,"checked",n,!1)}function cr(e,n){$r(e,n);var i=pe(n.value),c=n.type;if(i!=null)c==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(c==="submit"||c==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Ka(e,n.type,i):n.hasOwnProperty("defaultValue")&&Ka(e,n.type,pe(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Rd(e,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var c=n.type;if(!(c!=="submit"&&c!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,i||n===e.value||(e.value=n),e.defaultValue=n}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Ka(e,n,i){(n!=="number"||ut(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Vs=Array.isArray;function Mr(e,n,i,c){if(e=e.options,n){n={};for(var h=0;h<i.length;h++)n["$"+i[h]]=!0;for(i=0;i<e.length;i++)h=n.hasOwnProperty("$"+e[i].value),e[i].selected!==h&&(e[i].selected=h),h&&c&&(e[i].defaultSelected=!0)}else{for(i=""+pe(i),n=null,h=0;h<e.length;h++){if(e[h].value===i){e[h].selected=!0,c&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function qa(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(s(91));return K({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Od(e,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(s(92));if(Vs(i)){if(1<i.length)throw Error(s(93));i=i[0]}n=i}n==null&&(n=""),i=n}e._wrapperState={initialValue:pe(i)}}function Ad(e,n){var i=pe(n.value),c=pe(n.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),n.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),c!=null&&(e.defaultValue=""+c)}function Id(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Dd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ga(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Dd(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Jo,Ld=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,c,h){MSApp.execUnsafeLocalFunction(function(){return e(n,i,c,h)})}:e})(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Jo=Jo||document.createElement("div"),Jo.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Jo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Ws(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var Hs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ky=["Webkit","ms","Moz","O"];Object.keys(Hs).forEach(function(e){Ky.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Hs[n]=Hs[e]})});function $d(e,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||Hs.hasOwnProperty(e)&&Hs[e]?(""+n).trim():n+"px"}function Md(e,n){e=e.style;for(var i in n)if(n.hasOwnProperty(i)){var c=i.indexOf("--")===0,h=$d(i,n[i],c);i==="float"&&(i="cssFloat"),c?e.setProperty(i,h):e[i]=h}}var qy=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ja(e,n){if(n){if(qy[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(s(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(s(61))}if(n.style!=null&&typeof n.style!="object")throw Error(s(62))}}function Qa(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ya=null;function Xa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Za=null,Ur=null,Fr=null;function Ud(e){if(e=po(e)){if(typeof Za!="function")throw Error(s(280));var n=e.stateNode;n&&(n=yi(n),Za(e.stateNode,e.type,n))}}function Fd(e){Ur?Fr?Fr.push(e):Fr=[e]:Ur=e}function zd(){if(Ur){var e=Ur,n=Fr;if(Fr=Ur=null,Ud(e),n)for(e=0;e<n.length;e++)Ud(n[e])}}function Bd(e,n){return e(n)}function Vd(){}var el=!1;function Wd(e,n,i){if(el)return e(n,i);el=!0;try{return Bd(e,n,i)}finally{el=!1,(Ur!==null||Fr!==null)&&(Vd(),zd())}}function Ks(e,n){var i=e.stateNode;if(i===null)return null;var c=yi(i);if(c===null)return null;i=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,n,typeof i));return i}var tl=!1;if(f)try{var qs={};Object.defineProperty(qs,"passive",{get:function(){tl=!0}}),window.addEventListener("test",qs,qs),window.removeEventListener("test",qs,qs)}catch{tl=!1}function Gy(e,n,i,c,h,m,w,N,O){var M=Array.prototype.slice.call(arguments,3);try{n.apply(i,M)}catch(G){this.onError(G)}}var Gs=!1,Qo=null,Yo=!1,nl=null,Jy={onError:function(e){Gs=!0,Qo=e}};function Qy(e,n,i,c,h,m,w,N,O){Gs=!1,Qo=null,Gy.apply(Jy,arguments)}function Yy(e,n,i,c,h,m,w,N,O){if(Qy.apply(this,arguments),Gs){if(Gs){var M=Qo;Gs=!1,Qo=null}else throw Error(s(198));Yo||(Yo=!0,nl=M)}}function ur(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function Hd(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Kd(e){if(ur(e)!==e)throw Error(s(188))}function Xy(e){var n=e.alternate;if(!n){if(n=ur(e),n===null)throw Error(s(188));return n!==e?null:e}for(var i=e,c=n;;){var h=i.return;if(h===null)break;var m=h.alternate;if(m===null){if(c=h.return,c!==null){i=c;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===i)return Kd(h),e;if(m===c)return Kd(h),n;m=m.sibling}throw Error(s(188))}if(i.return!==c.return)i=h,c=m;else{for(var w=!1,N=h.child;N;){if(N===i){w=!0,i=h,c=m;break}if(N===c){w=!0,c=h,i=m;break}N=N.sibling}if(!w){for(N=m.child;N;){if(N===i){w=!0,i=m,c=h;break}if(N===c){w=!0,c=m,i=h;break}N=N.sibling}if(!w)throw Error(s(189))}}if(i.alternate!==c)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:n}function qd(e){return e=Xy(e),e!==null?Gd(e):null}function Gd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Gd(e);if(n!==null)return n;e=e.sibling}return null}var Jd=t.unstable_scheduleCallback,Qd=t.unstable_cancelCallback,Zy=t.unstable_shouldYield,ew=t.unstable_requestPaint,Je=t.unstable_now,tw=t.unstable_getCurrentPriorityLevel,rl=t.unstable_ImmediatePriority,Yd=t.unstable_UserBlockingPriority,Xo=t.unstable_NormalPriority,nw=t.unstable_LowPriority,Xd=t.unstable_IdlePriority,Zo=null,an=null;function rw(e){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(Zo,e,void 0,(e.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:iw,sw=Math.log,ow=Math.LN2;function iw(e){return e>>>=0,e===0?32:31-(sw(e)/ow|0)|0}var ei=64,ti=4194304;function Js(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ni(e,n){var i=e.pendingLanes;if(i===0)return 0;var c=0,h=e.suspendedLanes,m=e.pingedLanes,w=i&268435455;if(w!==0){var N=w&~h;N!==0?c=Js(N):(m&=w,m!==0&&(c=Js(m)))}else w=i&~h,w!==0?c=Js(w):m!==0&&(c=Js(m));if(c===0)return 0;if(n!==0&&n!==c&&(n&h)===0&&(h=c&-c,m=n&-n,h>=m||h===16&&(m&4194240)!==0))return n;if((c&4)!==0&&(c|=i&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=c;0<n;)i=31-Kt(n),h=1<<i,c|=e[i],n&=~h;return c}function aw(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lw(e,n){for(var i=e.suspendedLanes,c=e.pingedLanes,h=e.expirationTimes,m=e.pendingLanes;0<m;){var w=31-Kt(m),N=1<<w,O=h[w];O===-1?((N&i)===0||(N&c)!==0)&&(h[w]=aw(N,n)):O<=n&&(e.expiredLanes|=N),m&=~N}}function sl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Zd(){var e=ei;return ei<<=1,(ei&4194240)===0&&(ei=64),e}function ol(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Qs(e,n,i){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Kt(n),e[n]=i}function cw(e,n){var i=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var c=e.eventTimes;for(e=e.expirationTimes;0<i;){var h=31-Kt(i),m=1<<h;n[h]=0,c[h]=-1,e[h]=-1,i&=~m}}function il(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var c=31-Kt(i),h=1<<c;h&n|e[c]&n&&(e[c]|=n),i&=~h}}var De=0;function ef(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var tf,al,nf,rf,sf,ll=!1,ri=[],Pn=null,Rn=null,On=null,Ys=new Map,Xs=new Map,An=[],uw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function of(e,n){switch(e){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":Rn=null;break;case"mouseover":case"mouseout":On=null;break;case"pointerover":case"pointerout":Ys.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xs.delete(n.pointerId)}}function Zs(e,n,i,c,h,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:i,eventSystemFlags:c,nativeEvent:m,targetContainers:[h]},n!==null&&(n=po(n),n!==null&&al(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function dw(e,n,i,c,h){switch(n){case"focusin":return Pn=Zs(Pn,e,n,i,c,h),!0;case"dragenter":return Rn=Zs(Rn,e,n,i,c,h),!0;case"mouseover":return On=Zs(On,e,n,i,c,h),!0;case"pointerover":var m=h.pointerId;return Ys.set(m,Zs(Ys.get(m)||null,e,n,i,c,h)),!0;case"gotpointercapture":return m=h.pointerId,Xs.set(m,Zs(Xs.get(m)||null,e,n,i,c,h)),!0}return!1}function af(e){var n=dr(e.target);if(n!==null){var i=ur(n);if(i!==null){if(n=i.tag,n===13){if(n=Hd(i),n!==null){e.blockedOn=n,sf(e.priority,function(){nf(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function si(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=ul(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var c=new i.constructor(i.type,i);Ya=c,i.target.dispatchEvent(c),Ya=null}else return n=po(i),n!==null&&al(n),e.blockedOn=i,!1;n.shift()}return!0}function lf(e,n,i){si(e)&&i.delete(n)}function fw(){ll=!1,Pn!==null&&si(Pn)&&(Pn=null),Rn!==null&&si(Rn)&&(Rn=null),On!==null&&si(On)&&(On=null),Ys.forEach(lf),Xs.forEach(lf)}function eo(e,n){e.blockedOn===n&&(e.blockedOn=null,ll||(ll=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,fw)))}function to(e){function n(h){return eo(h,e)}if(0<ri.length){eo(ri[0],e);for(var i=1;i<ri.length;i++){var c=ri[i];c.blockedOn===e&&(c.blockedOn=null)}}for(Pn!==null&&eo(Pn,e),Rn!==null&&eo(Rn,e),On!==null&&eo(On,e),Ys.forEach(n),Xs.forEach(n),i=0;i<An.length;i++)c=An[i],c.blockedOn===e&&(c.blockedOn=null);for(;0<An.length&&(i=An[0],i.blockedOn===null);)af(i),i.blockedOn===null&&An.shift()}var zr=T.ReactCurrentBatchConfig,oi=!0;function hw(e,n,i,c){var h=De,m=zr.transition;zr.transition=null;try{De=1,cl(e,n,i,c)}finally{De=h,zr.transition=m}}function pw(e,n,i,c){var h=De,m=zr.transition;zr.transition=null;try{De=4,cl(e,n,i,c)}finally{De=h,zr.transition=m}}function cl(e,n,i,c){if(oi){var h=ul(e,n,i,c);if(h===null)Cl(e,n,c,ii,i),of(e,c);else if(dw(h,e,n,i,c))c.stopPropagation();else if(of(e,c),n&4&&-1<uw.indexOf(e)){for(;h!==null;){var m=po(h);if(m!==null&&tf(m),m=ul(e,n,i,c),m===null&&Cl(e,n,c,ii,i),m===h)break;h=m}h!==null&&c.stopPropagation()}else Cl(e,n,c,null,i)}}var ii=null;function ul(e,n,i,c){if(ii=null,e=Xa(c),e=dr(e),e!==null)if(n=ur(e),n===null)e=null;else if(i=n.tag,i===13){if(e=Hd(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return ii=e,null}function cf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tw()){case rl:return 1;case Yd:return 4;case Xo:case nw:return 16;case Xd:return 536870912;default:return 16}default:return 16}}var In=null,dl=null,ai=null;function uf(){if(ai)return ai;var e,n=dl,i=n.length,c,h="value"in In?In.value:In.textContent,m=h.length;for(e=0;e<i&&n[e]===h[e];e++);var w=i-e;for(c=1;c<=w&&n[i-c]===h[m-c];c++);return ai=h.slice(e,1<c?1-c:void 0)}function li(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ci(){return!0}function df(){return!1}function Pt(e){function n(i,c,h,m,w){this._reactName=i,this._targetInst=h,this.type=c,this.nativeEvent=m,this.target=w,this.currentTarget=null;for(var N in e)e.hasOwnProperty(N)&&(i=e[N],this[N]=i?i(m):m[N]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ci:df,this.isPropagationStopped=df,this}return K(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ci)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ci)},persist:function(){},isPersistent:ci}),n}var Br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fl=Pt(Br),no=K({},Br,{view:0,detail:0}),mw=Pt(no),hl,pl,ro,ui=K({},no,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ro&&(ro&&e.type==="mousemove"?(hl=e.screenX-ro.screenX,pl=e.screenY-ro.screenY):pl=hl=0,ro=e),hl)},movementY:function(e){return"movementY"in e?e.movementY:pl}}),ff=Pt(ui),gw=K({},ui,{dataTransfer:0}),vw=Pt(gw),yw=K({},no,{relatedTarget:0}),ml=Pt(yw),ww=K({},Br,{animationName:0,elapsedTime:0,pseudoElement:0}),xw=Pt(ww),bw=K({},Br,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_w=Pt(bw),Sw=K({},Br,{data:0}),hf=Pt(Sw),kw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ew={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cw(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=jw[e])?!!n[e]:!1}function gl(){return Cw}var Nw=K({},no,{key:function(e){if(e.key){var n=kw[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=li(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ew[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gl,charCode:function(e){return e.type==="keypress"?li(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?li(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tw=Pt(Nw),Pw=K({},ui,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pf=Pt(Pw),Rw=K({},no,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gl}),Ow=Pt(Rw),Aw=K({},Br,{propertyName:0,elapsedTime:0,pseudoElement:0}),Iw=Pt(Aw),Dw=K({},ui,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Lw=Pt(Dw),$w=[9,13,27,32],vl=f&&"CompositionEvent"in window,so=null;f&&"documentMode"in document&&(so=document.documentMode);var Mw=f&&"TextEvent"in window&&!so,mf=f&&(!vl||so&&8<so&&11>=so),gf=" ",vf=!1;function yf(e,n){switch(e){case"keyup":return $w.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vr=!1;function Uw(e,n){switch(e){case"compositionend":return wf(n);case"keypress":return n.which!==32?null:(vf=!0,gf);case"textInput":return e=n.data,e===gf&&vf?null:e;default:return null}}function Fw(e,n){if(Vr)return e==="compositionend"||!vl&&yf(e,n)?(e=uf(),ai=dl=In=null,Vr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return mf&&n.locale!=="ko"?null:n.data;default:return null}}var zw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!zw[e.type]:n==="textarea"}function bf(e,n,i,c){Fd(c),n=mi(n,"onChange"),0<n.length&&(i=new fl("onChange","change",null,i,c),e.push({event:i,listeners:n}))}var oo=null,io=null;function Bw(e){Uf(e,0)}function di(e){var n=Gr(e);if($e(n))return e}function Vw(e,n){if(e==="change")return n}var _f=!1;if(f){var yl;if(f){var wl="oninput"in document;if(!wl){var Sf=document.createElement("div");Sf.setAttribute("oninput","return;"),wl=typeof Sf.oninput=="function"}yl=wl}else yl=!1;_f=yl&&(!document.documentMode||9<document.documentMode)}function kf(){oo&&(oo.detachEvent("onpropertychange",Ef),io=oo=null)}function Ef(e){if(e.propertyName==="value"&&di(io)){var n=[];bf(n,io,e,Xa(e)),Wd(Bw,n)}}function Ww(e,n,i){e==="focusin"?(kf(),oo=n,io=i,oo.attachEvent("onpropertychange",Ef)):e==="focusout"&&kf()}function Hw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return di(io)}function Kw(e,n){if(e==="click")return di(n)}function qw(e,n){if(e==="input"||e==="change")return di(n)}function Gw(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var qt=typeof Object.is=="function"?Object.is:Gw;function ao(e,n){if(qt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),c=Object.keys(n);if(i.length!==c.length)return!1;for(c=0;c<i.length;c++){var h=i[c];if(!p.call(n,h)||!qt(e[h],n[h]))return!1}return!0}function jf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cf(e,n){var i=jf(e);e=0;for(var c;i;){if(i.nodeType===3){if(c=e+i.textContent.length,e<=n&&c>=n)return{node:i,offset:n-e};e=c}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=jf(i)}}function Nf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Nf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Tf(){for(var e=window,n=ut();n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=ut(e.document)}return n}function xl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Jw(e){var n=Tf(),i=e.focusedElem,c=e.selectionRange;if(n!==i&&i&&i.ownerDocument&&Nf(i.ownerDocument.documentElement,i)){if(c!==null&&xl(i)){if(n=c.start,e=c.end,e===void 0&&(e=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(e,i.value.length);else if(e=(n=i.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var h=i.textContent.length,m=Math.min(c.start,h);c=c.end===void 0?m:Math.min(c.end,h),!e.extend&&m>c&&(h=c,c=m,m=h),h=Cf(i,m);var w=Cf(i,c);h&&w&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==w.node||e.focusOffset!==w.offset)&&(n=n.createRange(),n.setStart(h.node,h.offset),e.removeAllRanges(),m>c?(e.addRange(n),e.extend(w.node,w.offset)):(n.setEnd(w.node,w.offset),e.addRange(n)))}}for(n=[],e=i;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)e=n[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Qw=f&&"documentMode"in document&&11>=document.documentMode,Wr=null,bl=null,lo=null,_l=!1;function Pf(e,n,i){var c=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;_l||Wr==null||Wr!==ut(c)||(c=Wr,"selectionStart"in c&&xl(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),lo&&ao(lo,c)||(lo=c,c=mi(bl,"onSelect"),0<c.length&&(n=new fl("onSelect","select",null,n,i),e.push({event:n,listeners:c}),n.target=Wr)))}function fi(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Hr={animationend:fi("Animation","AnimationEnd"),animationiteration:fi("Animation","AnimationIteration"),animationstart:fi("Animation","AnimationStart"),transitionend:fi("Transition","TransitionEnd")},Sl={},Rf={};f&&(Rf=document.createElement("div").style,"AnimationEvent"in window||(delete Hr.animationend.animation,delete Hr.animationiteration.animation,delete Hr.animationstart.animation),"TransitionEvent"in window||delete Hr.transitionend.transition);function hi(e){if(Sl[e])return Sl[e];if(!Hr[e])return e;var n=Hr[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in Rf)return Sl[e]=n[i];return e}var Of=hi("animationend"),Af=hi("animationiteration"),If=hi("animationstart"),Df=hi("transitionend"),Lf=new Map,$f="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dn(e,n){Lf.set(e,n),l(n,[e])}for(var kl=0;kl<$f.length;kl++){var El=$f[kl],Yw=El.toLowerCase(),Xw=El[0].toUpperCase()+El.slice(1);Dn(Yw,"on"+Xw)}Dn(Of,"onAnimationEnd"),Dn(Af,"onAnimationIteration"),Dn(If,"onAnimationStart"),Dn("dblclick","onDoubleClick"),Dn("focusin","onFocus"),Dn("focusout","onBlur"),Dn(Df,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zw=new Set("cancel close invalid load scroll toggle".split(" ").concat(co));function Mf(e,n,i){var c=e.type||"unknown-event";e.currentTarget=i,Yy(c,n,void 0,e),e.currentTarget=null}function Uf(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var c=e[i],h=c.event;c=c.listeners;e:{var m=void 0;if(n)for(var w=c.length-1;0<=w;w--){var N=c[w],O=N.instance,M=N.currentTarget;if(N=N.listener,O!==m&&h.isPropagationStopped())break e;Mf(h,N,M),m=O}else for(w=0;w<c.length;w++){if(N=c[w],O=N.instance,M=N.currentTarget,N=N.listener,O!==m&&h.isPropagationStopped())break e;Mf(h,N,M),m=O}}}if(Yo)throw e=nl,Yo=!1,nl=null,e}function Be(e,n){var i=n[Al];i===void 0&&(i=n[Al]=new Set);var c=e+"__bubble";i.has(c)||(Ff(n,e,2,!1),i.add(c))}function jl(e,n,i){var c=0;n&&(c|=4),Ff(i,e,c,n)}var pi="_reactListening"+Math.random().toString(36).slice(2);function uo(e){if(!e[pi]){e[pi]=!0,o.forEach(function(i){i!=="selectionchange"&&(Zw.has(i)||jl(i,!1,e),jl(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[pi]||(n[pi]=!0,jl("selectionchange",!1,n))}}function Ff(e,n,i,c){switch(cf(n)){case 1:var h=hw;break;case 4:h=pw;break;default:h=cl}i=h.bind(null,n,i,e),h=void 0,!tl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),c?h!==void 0?e.addEventListener(n,i,{capture:!0,passive:h}):e.addEventListener(n,i,!0):h!==void 0?e.addEventListener(n,i,{passive:h}):e.addEventListener(n,i,!1)}function Cl(e,n,i,c,h){var m=c;if((n&1)===0&&(n&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var N=c.stateNode.containerInfo;if(N===h||N.nodeType===8&&N.parentNode===h)break;if(w===4)for(w=c.return;w!==null;){var O=w.tag;if((O===3||O===4)&&(O=w.stateNode.containerInfo,O===h||O.nodeType===8&&O.parentNode===h))return;w=w.return}for(;N!==null;){if(w=dr(N),w===null)return;if(O=w.tag,O===5||O===6){c=m=w;continue e}N=N.parentNode}}c=c.return}Wd(function(){var M=m,G=Xa(i),Q=[];e:{var q=Lf.get(e);if(q!==void 0){var se=fl,ce=e;switch(e){case"keypress":if(li(i)===0)break e;case"keydown":case"keyup":se=Tw;break;case"focusin":ce="focus",se=ml;break;case"focusout":ce="blur",se=ml;break;case"beforeblur":case"afterblur":se=ml;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=ff;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=vw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=Ow;break;case Of:case Af:case If:se=xw;break;case Df:se=Iw;break;case"scroll":se=mw;break;case"wheel":se=Lw;break;case"copy":case"cut":case"paste":se=_w;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=pf}var fe=(n&4)!==0,Qe=!fe&&e==="scroll",L=fe?q!==null?q+"Capture":null:q;fe=[];for(var I=M,$;I!==null;){$=I;var ee=$.stateNode;if($.tag===5&&ee!==null&&($=ee,L!==null&&(ee=Ks(I,L),ee!=null&&fe.push(fo(I,ee,$)))),Qe)break;I=I.return}0<fe.length&&(q=new se(q,ce,null,i,G),Q.push({event:q,listeners:fe}))}}if((n&7)===0){e:{if(q=e==="mouseover"||e==="pointerover",se=e==="mouseout"||e==="pointerout",q&&i!==Ya&&(ce=i.relatedTarget||i.fromElement)&&(dr(ce)||ce[yn]))break e;if((se||q)&&(q=G.window===G?G:(q=G.ownerDocument)?q.defaultView||q.parentWindow:window,se?(ce=i.relatedTarget||i.toElement,se=M,ce=ce?dr(ce):null,ce!==null&&(Qe=ur(ce),ce!==Qe||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(se=null,ce=M),se!==ce)){if(fe=ff,ee="onMouseLeave",L="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(fe=pf,ee="onPointerLeave",L="onPointerEnter",I="pointer"),Qe=se==null?q:Gr(se),$=ce==null?q:Gr(ce),q=new fe(ee,I+"leave",se,i,G),q.target=Qe,q.relatedTarget=$,ee=null,dr(G)===M&&(fe=new fe(L,I+"enter",ce,i,G),fe.target=$,fe.relatedTarget=Qe,ee=fe),Qe=ee,se&&ce)t:{for(fe=se,L=ce,I=0,$=fe;$;$=Kr($))I++;for($=0,ee=L;ee;ee=Kr(ee))$++;for(;0<I-$;)fe=Kr(fe),I--;for(;0<$-I;)L=Kr(L),$--;for(;I--;){if(fe===L||L!==null&&fe===L.alternate)break t;fe=Kr(fe),L=Kr(L)}fe=null}else fe=null;se!==null&&zf(Q,q,se,fe,!1),ce!==null&&Qe!==null&&zf(Q,Qe,ce,fe,!0)}}e:{if(q=M?Gr(M):window,se=q.nodeName&&q.nodeName.toLowerCase(),se==="select"||se==="input"&&q.type==="file")var he=Vw;else if(xf(q))if(_f)he=qw;else{he=Hw;var me=Ww}else(se=q.nodeName)&&se.toLowerCase()==="input"&&(q.type==="checkbox"||q.type==="radio")&&(he=Kw);if(he&&(he=he(e,M))){bf(Q,he,i,G);break e}me&&me(e,q,M),e==="focusout"&&(me=q._wrapperState)&&me.controlled&&q.type==="number"&&Ka(q,"number",q.value)}switch(me=M?Gr(M):window,e){case"focusin":(xf(me)||me.contentEditable==="true")&&(Wr=me,bl=M,lo=null);break;case"focusout":lo=bl=Wr=null;break;case"mousedown":_l=!0;break;case"contextmenu":case"mouseup":case"dragend":_l=!1,Pf(Q,i,G);break;case"selectionchange":if(Qw)break;case"keydown":case"keyup":Pf(Q,i,G)}var ge;if(vl)e:{switch(e){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Vr?yf(e,i)&&(ye="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ye="onCompositionStart");ye&&(mf&&i.locale!=="ko"&&(Vr||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Vr&&(ge=uf()):(In=G,dl="value"in In?In.value:In.textContent,Vr=!0)),me=mi(M,ye),0<me.length&&(ye=new hf(ye,e,null,i,G),Q.push({event:ye,listeners:me}),ge?ye.data=ge:(ge=wf(i),ge!==null&&(ye.data=ge)))),(ge=Mw?Uw(e,i):Fw(e,i))&&(M=mi(M,"onBeforeInput"),0<M.length&&(G=new hf("onBeforeInput","beforeinput",null,i,G),Q.push({event:G,listeners:M}),G.data=ge))}Uf(Q,n)})}function fo(e,n,i){return{instance:e,listener:n,currentTarget:i}}function mi(e,n){for(var i=n+"Capture",c=[];e!==null;){var h=e,m=h.stateNode;h.tag===5&&m!==null&&(h=m,m=Ks(e,i),m!=null&&c.unshift(fo(e,m,h)),m=Ks(e,n),m!=null&&c.push(fo(e,m,h))),e=e.return}return c}function Kr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function zf(e,n,i,c,h){for(var m=n._reactName,w=[];i!==null&&i!==c;){var N=i,O=N.alternate,M=N.stateNode;if(O!==null&&O===c)break;N.tag===5&&M!==null&&(N=M,h?(O=Ks(i,m),O!=null&&w.unshift(fo(i,O,N))):h||(O=Ks(i,m),O!=null&&w.push(fo(i,O,N)))),i=i.return}w.length!==0&&e.push({event:n,listeners:w})}var e0=/\r\n?/g,t0=/\u0000|\uFFFD/g;function Bf(e){return(typeof e=="string"?e:""+e).replace(e0,`
`).replace(t0,"")}function gi(e,n,i){if(n=Bf(n),Bf(e)!==n&&i)throw Error(s(425))}function vi(){}var Nl=null,Tl=null;function Pl(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Rl=typeof setTimeout=="function"?setTimeout:void 0,n0=typeof clearTimeout=="function"?clearTimeout:void 0,Vf=typeof Promise=="function"?Promise:void 0,r0=typeof queueMicrotask=="function"?queueMicrotask:typeof Vf<"u"?function(e){return Vf.resolve(null).then(e).catch(s0)}:Rl;function s0(e){setTimeout(function(){throw e})}function Ol(e,n){var i=n,c=0;do{var h=i.nextSibling;if(e.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(c===0){e.removeChild(h),to(n);return}c--}else i!=="$"&&i!=="$?"&&i!=="$!"||c++;i=h}while(i);to(n)}function Ln(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Wf(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}var qr=Math.random().toString(36).slice(2),ln="__reactFiber$"+qr,ho="__reactProps$"+qr,yn="__reactContainer$"+qr,Al="__reactEvents$"+qr,o0="__reactListeners$"+qr,i0="__reactHandles$"+qr;function dr(e){var n=e[ln];if(n)return n;for(var i=e.parentNode;i;){if(n=i[yn]||i[ln]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=Wf(e);e!==null;){if(i=e[ln])return i;e=Wf(e)}return n}e=i,i=e.parentNode}return null}function po(e){return e=e[ln]||e[yn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function yi(e){return e[ho]||null}var Il=[],Jr=-1;function $n(e){return{current:e}}function Ve(e){0>Jr||(e.current=Il[Jr],Il[Jr]=null,Jr--)}function Fe(e,n){Jr++,Il[Jr]=e.current,e.current=n}var Mn={},pt=$n(Mn),_t=$n(!1),fr=Mn;function Qr(e,n){var i=e.type.contextTypes;if(!i)return Mn;var c=e.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===n)return c.__reactInternalMemoizedMaskedChildContext;var h={},m;for(m in i)h[m]=n[m];return c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=h),h}function St(e){return e=e.childContextTypes,e!=null}function wi(){Ve(_t),Ve(pt)}function Hf(e,n,i){if(pt.current!==Mn)throw Error(s(168));Fe(pt,n),Fe(_t,i)}function Kf(e,n,i){var c=e.stateNode;if(n=n.childContextTypes,typeof c.getChildContext!="function")return i;c=c.getChildContext();for(var h in c)if(!(h in n))throw Error(s(108,X(e)||"Unknown",h));return K({},i,c)}function xi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mn,fr=pt.current,Fe(pt,e),Fe(_t,_t.current),!0}function qf(e,n,i){var c=e.stateNode;if(!c)throw Error(s(169));i?(e=Kf(e,n,fr),c.__reactInternalMemoizedMergedChildContext=e,Ve(_t),Ve(pt),Fe(pt,e)):Ve(_t),Fe(_t,i)}var wn=null,bi=!1,Dl=!1;function Gf(e){wn===null?wn=[e]:wn.push(e)}function a0(e){bi=!0,Gf(e)}function Un(){if(!Dl&&wn!==null){Dl=!0;var e=0,n=De;try{var i=wn;for(De=1;e<i.length;e++){var c=i[e];do c=c(!0);while(c!==null)}wn=null,bi=!1}catch(h){throw wn!==null&&(wn=wn.slice(e+1)),Jd(rl,Un),h}finally{De=n,Dl=!1}}return null}var Yr=[],Xr=0,_i=null,Si=0,$t=[],Mt=0,hr=null,xn=1,bn="";function pr(e,n){Yr[Xr++]=Si,Yr[Xr++]=_i,_i=e,Si=n}function Jf(e,n,i){$t[Mt++]=xn,$t[Mt++]=bn,$t[Mt++]=hr,hr=e;var c=xn;e=bn;var h=32-Kt(c)-1;c&=~(1<<h),i+=1;var m=32-Kt(n)+h;if(30<m){var w=h-h%5;m=(c&(1<<w)-1).toString(32),c>>=w,h-=w,xn=1<<32-Kt(n)+h|i<<h|c,bn=m+e}else xn=1<<m|i<<h|c,bn=e}function Ll(e){e.return!==null&&(pr(e,1),Jf(e,1,0))}function $l(e){for(;e===_i;)_i=Yr[--Xr],Yr[Xr]=null,Si=Yr[--Xr],Yr[Xr]=null;for(;e===hr;)hr=$t[--Mt],$t[Mt]=null,bn=$t[--Mt],$t[Mt]=null,xn=$t[--Mt],$t[Mt]=null}var Rt=null,Ot=null,He=!1,Gt=null;function Qf(e,n){var i=Bt(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=e,n=e.deletions,n===null?(e.deletions=[i],e.flags|=16):n.push(i)}function Yf(e,n){switch(e.tag){case 5:var i=e.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Rt=e,Ot=Ln(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Rt=e,Ot=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=hr!==null?{id:xn,overflow:bn}:null,e.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=Bt(18,null,null,0),i.stateNode=n,i.return=e,e.child=i,Rt=e,Ot=null,!0):!1;default:return!1}}function Ml(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ul(e){if(He){var n=Ot;if(n){var i=n;if(!Yf(e,n)){if(Ml(e))throw Error(s(418));n=Ln(i.nextSibling);var c=Rt;n&&Yf(e,n)?Qf(c,i):(e.flags=e.flags&-4097|2,He=!1,Rt=e)}}else{if(Ml(e))throw Error(s(418));e.flags=e.flags&-4097|2,He=!1,Rt=e}}}function Xf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Rt=e}function ki(e){if(e!==Rt)return!1;if(!He)return Xf(e),He=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Pl(e.type,e.memoizedProps)),n&&(n=Ot)){if(Ml(e))throw Zf(),Error(s(418));for(;n;)Qf(e,n),n=Ln(n.nextSibling)}if(Xf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(n===0){Ot=Ln(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}e=e.nextSibling}Ot=null}}else Ot=Rt?Ln(e.stateNode.nextSibling):null;return!0}function Zf(){for(var e=Ot;e;)e=Ln(e.nextSibling)}function Zr(){Ot=Rt=null,He=!1}function Fl(e){Gt===null?Gt=[e]:Gt.push(e)}var l0=T.ReactCurrentBatchConfig;function mo(e,n,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(s(309));var c=i.stateNode}if(!c)throw Error(s(147,e));var h=c,m=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===m?n.ref:(n=function(w){var N=h.refs;w===null?delete N[m]:N[m]=w},n._stringRef=m,n)}if(typeof e!="string")throw Error(s(284));if(!i._owner)throw Error(s(290,e))}return e}function Ei(e,n){throw e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function eh(e){var n=e._init;return n(e._payload)}function th(e){function n(L,I){if(e){var $=L.deletions;$===null?(L.deletions=[I],L.flags|=16):$.push(I)}}function i(L,I){if(!e)return null;for(;I!==null;)n(L,I),I=I.sibling;return null}function c(L,I){for(L=new Map;I!==null;)I.key!==null?L.set(I.key,I):L.set(I.index,I),I=I.sibling;return L}function h(L,I){return L=qn(L,I),L.index=0,L.sibling=null,L}function m(L,I,$){return L.index=$,e?($=L.alternate,$!==null?($=$.index,$<I?(L.flags|=2,I):$):(L.flags|=2,I)):(L.flags|=1048576,I)}function w(L){return e&&L.alternate===null&&(L.flags|=2),L}function N(L,I,$,ee){return I===null||I.tag!==6?(I=Rc($,L.mode,ee),I.return=L,I):(I=h(I,$),I.return=L,I)}function O(L,I,$,ee){var he=$.type;return he===F?G(L,I,$.props.children,ee,$.key):I!==null&&(I.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Z&&eh(he)===I.type)?(ee=h(I,$.props),ee.ref=mo(L,I,$),ee.return=L,ee):(ee=Ji($.type,$.key,$.props,null,L.mode,ee),ee.ref=mo(L,I,$),ee.return=L,ee)}function M(L,I,$,ee){return I===null||I.tag!==4||I.stateNode.containerInfo!==$.containerInfo||I.stateNode.implementation!==$.implementation?(I=Oc($,L.mode,ee),I.return=L,I):(I=h(I,$.children||[]),I.return=L,I)}function G(L,I,$,ee,he){return I===null||I.tag!==7?(I=_r($,L.mode,ee,he),I.return=L,I):(I=h(I,$),I.return=L,I)}function Q(L,I,$){if(typeof I=="string"&&I!==""||typeof I=="number")return I=Rc(""+I,L.mode,$),I.return=L,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case D:return $=Ji(I.type,I.key,I.props,null,L.mode,$),$.ref=mo(L,null,I),$.return=L,$;case B:return I=Oc(I,L.mode,$),I.return=L,I;case Z:var ee=I._init;return Q(L,ee(I._payload),$)}if(Vs(I)||U(I))return I=_r(I,L.mode,$,null),I.return=L,I;Ei(L,I)}return null}function q(L,I,$,ee){var he=I!==null?I.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return he!==null?null:N(L,I,""+$,ee);if(typeof $=="object"&&$!==null){switch($.$$typeof){case D:return $.key===he?O(L,I,$,ee):null;case B:return $.key===he?M(L,I,$,ee):null;case Z:return he=$._init,q(L,I,he($._payload),ee)}if(Vs($)||U($))return he!==null?null:G(L,I,$,ee,null);Ei(L,$)}return null}function se(L,I,$,ee,he){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return L=L.get($)||null,N(I,L,""+ee,he);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case D:return L=L.get(ee.key===null?$:ee.key)||null,O(I,L,ee,he);case B:return L=L.get(ee.key===null?$:ee.key)||null,M(I,L,ee,he);case Z:var me=ee._init;return se(L,I,$,me(ee._payload),he)}if(Vs(ee)||U(ee))return L=L.get($)||null,G(I,L,ee,he,null);Ei(I,ee)}return null}function ce(L,I,$,ee){for(var he=null,me=null,ge=I,ye=I=0,at=null;ge!==null&&ye<$.length;ye++){ge.index>ye?(at=ge,ge=null):at=ge.sibling;var Ie=q(L,ge,$[ye],ee);if(Ie===null){ge===null&&(ge=at);break}e&&ge&&Ie.alternate===null&&n(L,ge),I=m(Ie,I,ye),me===null?he=Ie:me.sibling=Ie,me=Ie,ge=at}if(ye===$.length)return i(L,ge),He&&pr(L,ye),he;if(ge===null){for(;ye<$.length;ye++)ge=Q(L,$[ye],ee),ge!==null&&(I=m(ge,I,ye),me===null?he=ge:me.sibling=ge,me=ge);return He&&pr(L,ye),he}for(ge=c(L,ge);ye<$.length;ye++)at=se(ge,L,ye,$[ye],ee),at!==null&&(e&&at.alternate!==null&&ge.delete(at.key===null?ye:at.key),I=m(at,I,ye),me===null?he=at:me.sibling=at,me=at);return e&&ge.forEach(function(Gn){return n(L,Gn)}),He&&pr(L,ye),he}function fe(L,I,$,ee){var he=U($);if(typeof he!="function")throw Error(s(150));if($=he.call($),$==null)throw Error(s(151));for(var me=he=null,ge=I,ye=I=0,at=null,Ie=$.next();ge!==null&&!Ie.done;ye++,Ie=$.next()){ge.index>ye?(at=ge,ge=null):at=ge.sibling;var Gn=q(L,ge,Ie.value,ee);if(Gn===null){ge===null&&(ge=at);break}e&&ge&&Gn.alternate===null&&n(L,ge),I=m(Gn,I,ye),me===null?he=Gn:me.sibling=Gn,me=Gn,ge=at}if(Ie.done)return i(L,ge),He&&pr(L,ye),he;if(ge===null){for(;!Ie.done;ye++,Ie=$.next())Ie=Q(L,Ie.value,ee),Ie!==null&&(I=m(Ie,I,ye),me===null?he=Ie:me.sibling=Ie,me=Ie);return He&&pr(L,ye),he}for(ge=c(L,ge);!Ie.done;ye++,Ie=$.next())Ie=se(ge,L,ye,Ie.value,ee),Ie!==null&&(e&&Ie.alternate!==null&&ge.delete(Ie.key===null?ye:Ie.key),I=m(Ie,I,ye),me===null?he=Ie:me.sibling=Ie,me=Ie);return e&&ge.forEach(function(z0){return n(L,z0)}),He&&pr(L,ye),he}function Qe(L,I,$,ee){if(typeof $=="object"&&$!==null&&$.type===F&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case D:e:{for(var he=$.key,me=I;me!==null;){if(me.key===he){if(he=$.type,he===F){if(me.tag===7){i(L,me.sibling),I=h(me,$.props.children),I.return=L,L=I;break e}}else if(me.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Z&&eh(he)===me.type){i(L,me.sibling),I=h(me,$.props),I.ref=mo(L,me,$),I.return=L,L=I;break e}i(L,me);break}else n(L,me);me=me.sibling}$.type===F?(I=_r($.props.children,L.mode,ee,$.key),I.return=L,L=I):(ee=Ji($.type,$.key,$.props,null,L.mode,ee),ee.ref=mo(L,I,$),ee.return=L,L=ee)}return w(L);case B:e:{for(me=$.key;I!==null;){if(I.key===me)if(I.tag===4&&I.stateNode.containerInfo===$.containerInfo&&I.stateNode.implementation===$.implementation){i(L,I.sibling),I=h(I,$.children||[]),I.return=L,L=I;break e}else{i(L,I);break}else n(L,I);I=I.sibling}I=Oc($,L.mode,ee),I.return=L,L=I}return w(L);case Z:return me=$._init,Qe(L,I,me($._payload),ee)}if(Vs($))return ce(L,I,$,ee);if(U($))return fe(L,I,$,ee);Ei(L,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,I!==null&&I.tag===6?(i(L,I.sibling),I=h(I,$),I.return=L,L=I):(i(L,I),I=Rc($,L.mode,ee),I.return=L,L=I),w(L)):i(L,I)}return Qe}var es=th(!0),nh=th(!1),ji=$n(null),Ci=null,ts=null,zl=null;function Bl(){zl=ts=Ci=null}function Vl(e){var n=ji.current;Ve(ji),e._currentValue=n}function Wl(e,n,i){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===i)break;e=e.return}}function ns(e,n){Ci=e,zl=ts=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(kt=!0),e.firstContext=null)}function Ut(e){var n=e._currentValue;if(zl!==e)if(e={context:e,memoizedValue:n,next:null},ts===null){if(Ci===null)throw Error(s(308));ts=e,Ci.dependencies={lanes:0,firstContext:e}}else ts=ts.next=e;return n}var mr=null;function Hl(e){mr===null?mr=[e]:mr.push(e)}function rh(e,n,i,c){var h=n.interleaved;return h===null?(i.next=i,Hl(n)):(i.next=h.next,h.next=i),n.interleaved=i,_n(e,c)}function _n(e,n){e.lanes|=n;var i=e.alternate;for(i!==null&&(i.lanes|=n),i=e,e=e.return;e!==null;)e.childLanes|=n,i=e.alternate,i!==null&&(i.childLanes|=n),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Fn=!1;function Kl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Sn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function zn(e,n,i){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(Oe&2)!==0){var h=c.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),c.pending=n,_n(e,i)}return h=c.interleaved,h===null?(n.next=n,Hl(c)):(n.next=h.next,h.next=n),c.interleaved=n,_n(e,i)}function Ni(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var c=n.lanes;c&=e.pendingLanes,i|=c,n.lanes=i,il(e,i)}}function oh(e,n){var i=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,i===c)){var h=null,m=null;if(i=i.firstBaseUpdate,i!==null){do{var w={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};m===null?h=m=w:m=m.next=w,i=i.next}while(i!==null);m===null?h=m=n:m=m.next=n}else h=m=n;i={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:c.shared,effects:c.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}function Ti(e,n,i,c){var h=e.updateQueue;Fn=!1;var m=h.firstBaseUpdate,w=h.lastBaseUpdate,N=h.shared.pending;if(N!==null){h.shared.pending=null;var O=N,M=O.next;O.next=null,w===null?m=M:w.next=M,w=O;var G=e.alternate;G!==null&&(G=G.updateQueue,N=G.lastBaseUpdate,N!==w&&(N===null?G.firstBaseUpdate=M:N.next=M,G.lastBaseUpdate=O))}if(m!==null){var Q=h.baseState;w=0,G=M=O=null,N=m;do{var q=N.lane,se=N.eventTime;if((c&q)===q){G!==null&&(G=G.next={eventTime:se,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var ce=e,fe=N;switch(q=n,se=i,fe.tag){case 1:if(ce=fe.payload,typeof ce=="function"){Q=ce.call(se,Q,q);break e}Q=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=fe.payload,q=typeof ce=="function"?ce.call(se,Q,q):ce,q==null)break e;Q=K({},Q,q);break e;case 2:Fn=!0}}N.callback!==null&&N.lane!==0&&(e.flags|=64,q=h.effects,q===null?h.effects=[N]:q.push(N))}else se={eventTime:se,lane:q,tag:N.tag,payload:N.payload,callback:N.callback,next:null},G===null?(M=G=se,O=Q):G=G.next=se,w|=q;if(N=N.next,N===null){if(N=h.shared.pending,N===null)break;q=N,N=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);if(G===null&&(O=Q),h.baseState=O,h.firstBaseUpdate=M,h.lastBaseUpdate=G,n=h.shared.interleaved,n!==null){h=n;do w|=h.lane,h=h.next;while(h!==n)}else m===null&&(h.shared.lanes=0);yr|=w,e.lanes=w,e.memoizedState=Q}}function ih(e,n,i){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var c=e[n],h=c.callback;if(h!==null){if(c.callback=null,c=i,typeof h!="function")throw Error(s(191,h));h.call(c)}}}var go={},cn=$n(go),vo=$n(go),yo=$n(go);function gr(e){if(e===go)throw Error(s(174));return e}function ql(e,n){switch(Fe(yo,n),Fe(vo,e),Fe(cn,go),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Ga(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Ga(n,e)}Ve(cn),Fe(cn,n)}function rs(){Ve(cn),Ve(vo),Ve(yo)}function ah(e){gr(yo.current);var n=gr(cn.current),i=Ga(n,e.type);n!==i&&(Fe(vo,e),Fe(cn,i))}function Gl(e){vo.current===e&&(Ve(cn),Ve(vo))}var Ke=$n(0);function Pi(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Jl=[];function Ql(){for(var e=0;e<Jl.length;e++)Jl[e]._workInProgressVersionPrimary=null;Jl.length=0}var Ri=T.ReactCurrentDispatcher,Yl=T.ReactCurrentBatchConfig,vr=0,qe=null,tt=null,ot=null,Oi=!1,wo=!1,xo=0,c0=0;function mt(){throw Error(s(321))}function Xl(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!qt(e[i],n[i]))return!1;return!0}function Zl(e,n,i,c,h,m){if(vr=m,qe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Ri.current=e===null||e.memoizedState===null?h0:p0,e=i(c,h),wo){m=0;do{if(wo=!1,xo=0,25<=m)throw Error(s(301));m+=1,ot=tt=null,n.updateQueue=null,Ri.current=m0,e=i(c,h)}while(wo)}if(Ri.current=Di,n=tt!==null&&tt.next!==null,vr=0,ot=tt=qe=null,Oi=!1,n)throw Error(s(300));return e}function ec(){var e=xo!==0;return xo=0,e}function un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?qe.memoizedState=ot=e:ot=ot.next=e,ot}function Ft(){if(tt===null){var e=qe.alternate;e=e!==null?e.memoizedState:null}else e=tt.next;var n=ot===null?qe.memoizedState:ot.next;if(n!==null)ot=n,tt=e;else{if(e===null)throw Error(s(310));tt=e,e={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},ot===null?qe.memoizedState=ot=e:ot=ot.next=e}return ot}function bo(e,n){return typeof n=="function"?n(e):n}function tc(e){var n=Ft(),i=n.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var c=tt,h=c.baseQueue,m=i.pending;if(m!==null){if(h!==null){var w=h.next;h.next=m.next,m.next=w}c.baseQueue=h=m,i.pending=null}if(h!==null){m=h.next,c=c.baseState;var N=w=null,O=null,M=m;do{var G=M.lane;if((vr&G)===G)O!==null&&(O=O.next={lane:0,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),c=M.hasEagerState?M.eagerState:e(c,M.action);else{var Q={lane:G,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null};O===null?(N=O=Q,w=c):O=O.next=Q,qe.lanes|=G,yr|=G}M=M.next}while(M!==null&&M!==m);O===null?w=c:O.next=N,qt(c,n.memoizedState)||(kt=!0),n.memoizedState=c,n.baseState=w,n.baseQueue=O,i.lastRenderedState=c}if(e=i.interleaved,e!==null){h=e;do m=h.lane,qe.lanes|=m,yr|=m,h=h.next;while(h!==e)}else h===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function nc(e){var n=Ft(),i=n.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var c=i.dispatch,h=i.pending,m=n.memoizedState;if(h!==null){i.pending=null;var w=h=h.next;do m=e(m,w.action),w=w.next;while(w!==h);qt(m,n.memoizedState)||(kt=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),i.lastRenderedState=m}return[m,c]}function lh(){}function ch(e,n){var i=qe,c=Ft(),h=n(),m=!qt(c.memoizedState,h);if(m&&(c.memoizedState=h,kt=!0),c=c.queue,rc(fh.bind(null,i,c,e),[e]),c.getSnapshot!==n||m||ot!==null&&ot.memoizedState.tag&1){if(i.flags|=2048,_o(9,dh.bind(null,i,c,h,n),void 0,null),it===null)throw Error(s(349));(vr&30)!==0||uh(i,n,h)}return h}function uh(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=qe.updateQueue,n===null?(n={lastEffect:null,stores:null},qe.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function dh(e,n,i,c){n.value=i,n.getSnapshot=c,hh(n)&&ph(e)}function fh(e,n,i){return i(function(){hh(n)&&ph(e)})}function hh(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!qt(e,i)}catch{return!0}}function ph(e){var n=_n(e,1);n!==null&&Xt(n,e,1,-1)}function mh(e){var n=un();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:e},n.queue=e,e=e.dispatch=f0.bind(null,qe,e),[n.memoizedState,e]}function _o(e,n,i,c){return e={tag:e,create:n,destroy:i,deps:c,next:null},n=qe.updateQueue,n===null?(n={lastEffect:null,stores:null},qe.updateQueue=n,n.lastEffect=e.next=e):(i=n.lastEffect,i===null?n.lastEffect=e.next=e:(c=i.next,i.next=e,e.next=c,n.lastEffect=e)),e}function gh(){return Ft().memoizedState}function Ai(e,n,i,c){var h=un();qe.flags|=e,h.memoizedState=_o(1|n,i,void 0,c===void 0?null:c)}function Ii(e,n,i,c){var h=Ft();c=c===void 0?null:c;var m=void 0;if(tt!==null){var w=tt.memoizedState;if(m=w.destroy,c!==null&&Xl(c,w.deps)){h.memoizedState=_o(n,i,m,c);return}}qe.flags|=e,h.memoizedState=_o(1|n,i,m,c)}function vh(e,n){return Ai(8390656,8,e,n)}function rc(e,n){return Ii(2048,8,e,n)}function yh(e,n){return Ii(4,2,e,n)}function wh(e,n){return Ii(4,4,e,n)}function xh(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function bh(e,n,i){return i=i!=null?i.concat([e]):null,Ii(4,4,xh.bind(null,n,e),i)}function sc(){}function _h(e,n){var i=Ft();n=n===void 0?null:n;var c=i.memoizedState;return c!==null&&n!==null&&Xl(n,c[1])?c[0]:(i.memoizedState=[e,n],e)}function Sh(e,n){var i=Ft();n=n===void 0?null:n;var c=i.memoizedState;return c!==null&&n!==null&&Xl(n,c[1])?c[0]:(e=e(),i.memoizedState=[e,n],e)}function kh(e,n,i){return(vr&21)===0?(e.baseState&&(e.baseState=!1,kt=!0),e.memoizedState=i):(qt(i,n)||(i=Zd(),qe.lanes|=i,yr|=i,e.baseState=!0),n)}function u0(e,n){var i=De;De=i!==0&&4>i?i:4,e(!0);var c=Yl.transition;Yl.transition={};try{e(!1),n()}finally{De=i,Yl.transition=c}}function Eh(){return Ft().memoizedState}function d0(e,n,i){var c=Hn(e);if(i={lane:c,action:i,hasEagerState:!1,eagerState:null,next:null},jh(e))Ch(n,i);else if(i=rh(e,n,i,c),i!==null){var h=bt();Xt(i,e,c,h),Nh(i,n,c)}}function f0(e,n,i){var c=Hn(e),h={lane:c,action:i,hasEagerState:!1,eagerState:null,next:null};if(jh(e))Ch(n,h);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var w=n.lastRenderedState,N=m(w,i);if(h.hasEagerState=!0,h.eagerState=N,qt(N,w)){var O=n.interleaved;O===null?(h.next=h,Hl(n)):(h.next=O.next,O.next=h),n.interleaved=h;return}}catch{}finally{}i=rh(e,n,h,c),i!==null&&(h=bt(),Xt(i,e,c,h),Nh(i,n,c))}}function jh(e){var n=e.alternate;return e===qe||n!==null&&n===qe}function Ch(e,n){wo=Oi=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function Nh(e,n,i){if((i&4194240)!==0){var c=n.lanes;c&=e.pendingLanes,i|=c,n.lanes=i,il(e,i)}}var Di={readContext:Ut,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useInsertionEffect:mt,useLayoutEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useMutableSource:mt,useSyncExternalStore:mt,useId:mt,unstable_isNewReconciler:!1},h0={readContext:Ut,useCallback:function(e,n){return un().memoizedState=[e,n===void 0?null:n],e},useContext:Ut,useEffect:vh,useImperativeHandle:function(e,n,i){return i=i!=null?i.concat([e]):null,Ai(4194308,4,xh.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Ai(4194308,4,e,n)},useInsertionEffect:function(e,n){return Ai(4,2,e,n)},useMemo:function(e,n){var i=un();return n=n===void 0?null:n,e=e(),i.memoizedState=[e,n],e},useReducer:function(e,n,i){var c=un();return n=i!==void 0?i(n):n,c.memoizedState=c.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},c.queue=e,e=e.dispatch=d0.bind(null,qe,e),[c.memoizedState,e]},useRef:function(e){var n=un();return e={current:e},n.memoizedState=e},useState:mh,useDebugValue:sc,useDeferredValue:function(e){return un().memoizedState=e},useTransition:function(){var e=mh(!1),n=e[0];return e=u0.bind(null,e[1]),un().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,i){var c=qe,h=un();if(He){if(i===void 0)throw Error(s(407));i=i()}else{if(i=n(),it===null)throw Error(s(349));(vr&30)!==0||uh(c,n,i)}h.memoizedState=i;var m={value:i,getSnapshot:n};return h.queue=m,vh(fh.bind(null,c,m,e),[e]),c.flags|=2048,_o(9,dh.bind(null,c,m,i,n),void 0,null),i},useId:function(){var e=un(),n=it.identifierPrefix;if(He){var i=bn,c=xn;i=(c&~(1<<32-Kt(c)-1)).toString(32)+i,n=":"+n+"R"+i,i=xo++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=c0++,n=":"+n+"r"+i.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},p0={readContext:Ut,useCallback:_h,useContext:Ut,useEffect:rc,useImperativeHandle:bh,useInsertionEffect:yh,useLayoutEffect:wh,useMemo:Sh,useReducer:tc,useRef:gh,useState:function(){return tc(bo)},useDebugValue:sc,useDeferredValue:function(e){var n=Ft();return kh(n,tt.memoizedState,e)},useTransition:function(){var e=tc(bo)[0],n=Ft().memoizedState;return[e,n]},useMutableSource:lh,useSyncExternalStore:ch,useId:Eh,unstable_isNewReconciler:!1},m0={readContext:Ut,useCallback:_h,useContext:Ut,useEffect:rc,useImperativeHandle:bh,useInsertionEffect:yh,useLayoutEffect:wh,useMemo:Sh,useReducer:nc,useRef:gh,useState:function(){return nc(bo)},useDebugValue:sc,useDeferredValue:function(e){var n=Ft();return tt===null?n.memoizedState=e:kh(n,tt.memoizedState,e)},useTransition:function(){var e=nc(bo)[0],n=Ft().memoizedState;return[e,n]},useMutableSource:lh,useSyncExternalStore:ch,useId:Eh,unstable_isNewReconciler:!1};function Jt(e,n){if(e&&e.defaultProps){n=K({},n),e=e.defaultProps;for(var i in e)n[i]===void 0&&(n[i]=e[i]);return n}return n}function oc(e,n,i,c){n=e.memoizedState,i=i(c,n),i=i==null?n:K({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Li={isMounted:function(e){return(e=e._reactInternals)?ur(e)===e:!1},enqueueSetState:function(e,n,i){e=e._reactInternals;var c=bt(),h=Hn(e),m=Sn(c,h);m.payload=n,i!=null&&(m.callback=i),n=zn(e,m,h),n!==null&&(Xt(n,e,h,c),Ni(n,e,h))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var c=bt(),h=Hn(e),m=Sn(c,h);m.tag=1,m.payload=n,i!=null&&(m.callback=i),n=zn(e,m,h),n!==null&&(Xt(n,e,h,c),Ni(n,e,h))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=bt(),c=Hn(e),h=Sn(i,c);h.tag=2,n!=null&&(h.callback=n),n=zn(e,h,c),n!==null&&(Xt(n,e,c,i),Ni(n,e,c))}};function Th(e,n,i,c,h,m,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,m,w):n.prototype&&n.prototype.isPureReactComponent?!ao(i,c)||!ao(h,m):!0}function Ph(e,n,i){var c=!1,h=Mn,m=n.contextType;return typeof m=="object"&&m!==null?m=Ut(m):(h=St(n)?fr:pt.current,c=n.contextTypes,m=(c=c!=null)?Qr(e,h):Mn),n=new n(i,m),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Li,e.stateNode=n,n._reactInternals=e,c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=m),n}function Rh(e,n,i,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,c),n.state!==e&&Li.enqueueReplaceState(n,n.state,null)}function ic(e,n,i,c){var h=e.stateNode;h.props=i,h.state=e.memoizedState,h.refs={},Kl(e);var m=n.contextType;typeof m=="object"&&m!==null?h.context=Ut(m):(m=St(n)?fr:pt.current,h.context=Qr(e,m)),h.state=e.memoizedState,m=n.getDerivedStateFromProps,typeof m=="function"&&(oc(e,n,m,i),h.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(n=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),n!==h.state&&Li.enqueueReplaceState(h,h.state,null),Ti(e,i,h,c),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function ss(e,n){try{var i="",c=n;do i+=xe(c),c=c.return;while(c);var h=i}catch(m){h=`
Error generating stack: `+m.message+`
`+m.stack}return{value:e,source:n,stack:h,digest:null}}function ac(e,n,i){return{value:e,source:null,stack:i??null,digest:n??null}}function lc(e,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var g0=typeof WeakMap=="function"?WeakMap:Map;function Oh(e,n,i){i=Sn(-1,i),i.tag=3,i.payload={element:null};var c=n.value;return i.callback=function(){Vi||(Vi=!0,Sc=c),lc(e,n)},i}function Ah(e,n,i){i=Sn(-1,i),i.tag=3;var c=e.type.getDerivedStateFromError;if(typeof c=="function"){var h=n.value;i.payload=function(){return c(h)},i.callback=function(){lc(e,n)}}var m=e.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(i.callback=function(){lc(e,n),typeof c!="function"&&(Vn===null?Vn=new Set([this]):Vn.add(this));var w=n.stack;this.componentDidCatch(n.value,{componentStack:w!==null?w:""})}),i}function Ih(e,n,i){var c=e.pingCache;if(c===null){c=e.pingCache=new g0;var h=new Set;c.set(n,h)}else h=c.get(n),h===void 0&&(h=new Set,c.set(n,h));h.has(i)||(h.add(i),e=P0.bind(null,e,n,i),n.then(e,e))}function Dh(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Lh(e,n,i,c,h){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=Sn(-1,1),n.tag=2,zn(i,n,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=h,e)}var v0=T.ReactCurrentOwner,kt=!1;function xt(e,n,i,c){n.child=e===null?nh(n,null,i,c):es(n,e.child,i,c)}function $h(e,n,i,c,h){i=i.render;var m=n.ref;return ns(n,h),c=Zl(e,n,i,c,m,h),i=ec(),e!==null&&!kt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~h,kn(e,n,h)):(He&&i&&Ll(n),n.flags|=1,xt(e,n,c,h),n.child)}function Mh(e,n,i,c,h){if(e===null){var m=i.type;return typeof m=="function"&&!Pc(m)&&m.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=m,Uh(e,n,m,c,h)):(e=Ji(i.type,null,c,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,(e.lanes&h)===0){var w=m.memoizedProps;if(i=i.compare,i=i!==null?i:ao,i(w,c)&&e.ref===n.ref)return kn(e,n,h)}return n.flags|=1,e=qn(m,c),e.ref=n.ref,e.return=n,n.child=e}function Uh(e,n,i,c,h){if(e!==null){var m=e.memoizedProps;if(ao(m,c)&&e.ref===n.ref)if(kt=!1,n.pendingProps=c=m,(e.lanes&h)!==0)(e.flags&131072)!==0&&(kt=!0);else return n.lanes=e.lanes,kn(e,n,h)}return cc(e,n,i,c,h)}function Fh(e,n,i){var c=n.pendingProps,h=c.children,m=e!==null?e.memoizedState:null;if(c.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(is,At),At|=i;else{if((i&1073741824)===0)return e=m!==null?m.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Fe(is,At),At|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:i,Fe(is,At),At|=c}else m!==null?(c=m.baseLanes|i,n.memoizedState=null):c=i,Fe(is,At),At|=c;return xt(e,n,h,i),n.child}function zh(e,n){var i=n.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function cc(e,n,i,c,h){var m=St(i)?fr:pt.current;return m=Qr(n,m),ns(n,h),i=Zl(e,n,i,c,m,h),c=ec(),e!==null&&!kt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~h,kn(e,n,h)):(He&&c&&Ll(n),n.flags|=1,xt(e,n,i,h),n.child)}function Bh(e,n,i,c,h){if(St(i)){var m=!0;xi(n)}else m=!1;if(ns(n,h),n.stateNode===null)Mi(e,n),Ph(n,i,c),ic(n,i,c,h),c=!0;else if(e===null){var w=n.stateNode,N=n.memoizedProps;w.props=N;var O=w.context,M=i.contextType;typeof M=="object"&&M!==null?M=Ut(M):(M=St(i)?fr:pt.current,M=Qr(n,M));var G=i.getDerivedStateFromProps,Q=typeof G=="function"||typeof w.getSnapshotBeforeUpdate=="function";Q||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(N!==c||O!==M)&&Rh(n,w,c,M),Fn=!1;var q=n.memoizedState;w.state=q,Ti(n,c,w,h),O=n.memoizedState,N!==c||q!==O||_t.current||Fn?(typeof G=="function"&&(oc(n,i,G,c),O=n.memoizedState),(N=Fn||Th(n,i,N,c,q,O,M))?(Q||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(n.flags|=4194308)):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=O),w.props=c,w.state=O,w.context=M,c=N):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{w=n.stateNode,sh(e,n),N=n.memoizedProps,M=n.type===n.elementType?N:Jt(n.type,N),w.props=M,Q=n.pendingProps,q=w.context,O=i.contextType,typeof O=="object"&&O!==null?O=Ut(O):(O=St(i)?fr:pt.current,O=Qr(n,O));var se=i.getDerivedStateFromProps;(G=typeof se=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(N!==Q||q!==O)&&Rh(n,w,c,O),Fn=!1,q=n.memoizedState,w.state=q,Ti(n,c,w,h);var ce=n.memoizedState;N!==Q||q!==ce||_t.current||Fn?(typeof se=="function"&&(oc(n,i,se,c),ce=n.memoizedState),(M=Fn||Th(n,i,M,c,q,ce,O)||!1)?(G||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(c,ce,O),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(c,ce,O)),typeof w.componentDidUpdate=="function"&&(n.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof w.componentDidUpdate!="function"||N===e.memoizedProps&&q===e.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&q===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=ce),w.props=c,w.state=ce,w.context=O,c=M):(typeof w.componentDidUpdate!="function"||N===e.memoizedProps&&q===e.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&q===e.memoizedState||(n.flags|=1024),c=!1)}return uc(e,n,i,c,m,h)}function uc(e,n,i,c,h,m){zh(e,n);var w=(n.flags&128)!==0;if(!c&&!w)return h&&qf(n,i,!1),kn(e,n,m);c=n.stateNode,v0.current=n;var N=w&&typeof i.getDerivedStateFromError!="function"?null:c.render();return n.flags|=1,e!==null&&w?(n.child=es(n,e.child,null,m),n.child=es(n,null,N,m)):xt(e,n,N,m),n.memoizedState=c.state,h&&qf(n,i,!0),n.child}function Vh(e){var n=e.stateNode;n.pendingContext?Hf(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Hf(e,n.context,!1),ql(e,n.containerInfo)}function Wh(e,n,i,c,h){return Zr(),Fl(h),n.flags|=256,xt(e,n,i,c),n.child}var dc={dehydrated:null,treeContext:null,retryLane:0};function fc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Hh(e,n,i){var c=n.pendingProps,h=Ke.current,m=!1,w=(n.flags&128)!==0,N;if((N=w)||(N=e!==null&&e.memoizedState===null?!1:(h&2)!==0),N?(m=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),Fe(Ke,h&1),e===null)return Ul(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(w=c.children,e=c.fallback,m?(c=n.mode,m=n.child,w={mode:"hidden",children:w},(c&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=w):m=Qi(w,c,0,null),e=_r(e,c,i,null),m.return=n,e.return=n,m.sibling=e,n.child=m,n.child.memoizedState=fc(i),n.memoizedState=dc,e):hc(n,w));if(h=e.memoizedState,h!==null&&(N=h.dehydrated,N!==null))return y0(e,n,w,c,N,h,i);if(m){m=c.fallback,w=n.mode,h=e.child,N=h.sibling;var O={mode:"hidden",children:c.children};return(w&1)===0&&n.child!==h?(c=n.child,c.childLanes=0,c.pendingProps=O,n.deletions=null):(c=qn(h,O),c.subtreeFlags=h.subtreeFlags&14680064),N!==null?m=qn(N,m):(m=_r(m,w,i,null),m.flags|=2),m.return=n,c.return=n,c.sibling=m,n.child=c,c=m,m=n.child,w=e.child.memoizedState,w=w===null?fc(i):{baseLanes:w.baseLanes|i,cachePool:null,transitions:w.transitions},m.memoizedState=w,m.childLanes=e.childLanes&~i,n.memoizedState=dc,c}return m=e.child,e=m.sibling,c=qn(m,{mode:"visible",children:c.children}),(n.mode&1)===0&&(c.lanes=i),c.return=n,c.sibling=null,e!==null&&(i=n.deletions,i===null?(n.deletions=[e],n.flags|=16):i.push(e)),n.child=c,n.memoizedState=null,c}function hc(e,n){return n=Qi({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function $i(e,n,i,c){return c!==null&&Fl(c),es(n,e.child,null,i),e=hc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function y0(e,n,i,c,h,m,w){if(i)return n.flags&256?(n.flags&=-257,c=ac(Error(s(422))),$i(e,n,w,c)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(m=c.fallback,h=n.mode,c=Qi({mode:"visible",children:c.children},h,0,null),m=_r(m,h,w,null),m.flags|=2,c.return=n,m.return=n,c.sibling=m,n.child=c,(n.mode&1)!==0&&es(n,e.child,null,w),n.child.memoizedState=fc(w),n.memoizedState=dc,m);if((n.mode&1)===0)return $i(e,n,w,null);if(h.data==="$!"){if(c=h.nextSibling&&h.nextSibling.dataset,c)var N=c.dgst;return c=N,m=Error(s(419)),c=ac(m,c,void 0),$i(e,n,w,c)}if(N=(w&e.childLanes)!==0,kt||N){if(c=it,c!==null){switch(w&-w){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(c.suspendedLanes|w))!==0?0:h,h!==0&&h!==m.retryLane&&(m.retryLane=h,_n(e,h),Xt(c,e,h,-1))}return Tc(),c=ac(Error(s(421))),$i(e,n,w,c)}return h.data==="$?"?(n.flags|=128,n.child=e.child,n=R0.bind(null,e),h._reactRetry=n,null):(e=m.treeContext,Ot=Ln(h.nextSibling),Rt=n,He=!0,Gt=null,e!==null&&($t[Mt++]=xn,$t[Mt++]=bn,$t[Mt++]=hr,xn=e.id,bn=e.overflow,hr=n),n=hc(n,c.children),n.flags|=4096,n)}function Kh(e,n,i){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),Wl(e.return,n,i)}function pc(e,n,i,c,h){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:i,tailMode:h}:(m.isBackwards=n,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=i,m.tailMode=h)}function qh(e,n,i){var c=n.pendingProps,h=c.revealOrder,m=c.tail;if(xt(e,n,c.children,i),c=Ke.current,(c&2)!==0)c=c&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kh(e,i,n);else if(e.tag===19)Kh(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}if(Fe(Ke,c),(n.mode&1)===0)n.memoizedState=null;else switch(h){case"forwards":for(i=n.child,h=null;i!==null;)e=i.alternate,e!==null&&Pi(e)===null&&(h=i),i=i.sibling;i=h,i===null?(h=n.child,n.child=null):(h=i.sibling,i.sibling=null),pc(n,!1,h,i,m);break;case"backwards":for(i=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Pi(e)===null){n.child=h;break}e=h.sibling,h.sibling=i,i=h,h=e}pc(n,!0,i,null,m);break;case"together":pc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Mi(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function kn(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),yr|=n.lanes,(i&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,i=qn(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=qn(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function w0(e,n,i){switch(n.tag){case 3:Vh(n),Zr();break;case 5:ah(n);break;case 1:St(n.type)&&xi(n);break;case 4:ql(n,n.stateNode.containerInfo);break;case 10:var c=n.type._context,h=n.memoizedProps.value;Fe(ji,c._currentValue),c._currentValue=h;break;case 13:if(c=n.memoizedState,c!==null)return c.dehydrated!==null?(Fe(Ke,Ke.current&1),n.flags|=128,null):(i&n.child.childLanes)!==0?Hh(e,n,i):(Fe(Ke,Ke.current&1),e=kn(e,n,i),e!==null?e.sibling:null);Fe(Ke,Ke.current&1);break;case 19:if(c=(i&n.childLanes)!==0,(e.flags&128)!==0){if(c)return qh(e,n,i);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Fe(Ke,Ke.current),c)break;return null;case 22:case 23:return n.lanes=0,Fh(e,n,i)}return kn(e,n,i)}var Gh,mc,Jh,Qh;Gh=function(e,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},mc=function(){},Jh=function(e,n,i,c){var h=e.memoizedProps;if(h!==c){e=n.stateNode,gr(cn.current);var m=null;switch(i){case"input":h=Ht(e,h),c=Ht(e,c),m=[];break;case"select":h=K({},h,{value:void 0}),c=K({},c,{value:void 0}),m=[];break;case"textarea":h=qa(e,h),c=qa(e,c),m=[];break;default:typeof h.onClick!="function"&&typeof c.onClick=="function"&&(e.onclick=vi)}Ja(i,c);var w;i=null;for(M in h)if(!c.hasOwnProperty(M)&&h.hasOwnProperty(M)&&h[M]!=null)if(M==="style"){var N=h[M];for(w in N)N.hasOwnProperty(w)&&(i||(i={}),i[w]="")}else M!=="dangerouslySetInnerHTML"&&M!=="children"&&M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(a.hasOwnProperty(M)?m||(m=[]):(m=m||[]).push(M,null));for(M in c){var O=c[M];if(N=h?.[M],c.hasOwnProperty(M)&&O!==N&&(O!=null||N!=null))if(M==="style")if(N){for(w in N)!N.hasOwnProperty(w)||O&&O.hasOwnProperty(w)||(i||(i={}),i[w]="");for(w in O)O.hasOwnProperty(w)&&N[w]!==O[w]&&(i||(i={}),i[w]=O[w])}else i||(m||(m=[]),m.push(M,i)),i=O;else M==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,N=N?N.__html:void 0,O!=null&&N!==O&&(m=m||[]).push(M,O)):M==="children"?typeof O!="string"&&typeof O!="number"||(m=m||[]).push(M,""+O):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&(a.hasOwnProperty(M)?(O!=null&&M==="onScroll"&&Be("scroll",e),m||N===O||(m=[])):(m=m||[]).push(M,O))}i&&(m=m||[]).push("style",i);var M=m;(n.updateQueue=M)&&(n.flags|=4)}},Qh=function(e,n,i,c){i!==c&&(n.flags|=4)};function So(e,n){if(!He)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function gt(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,c=0;if(n)for(var h=e.child;h!==null;)i|=h.lanes|h.childLanes,c|=h.subtreeFlags&14680064,c|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)i|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=c,e.childLanes=i,n}function x0(e,n,i){var c=n.pendingProps;switch($l(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(n),null;case 1:return St(n.type)&&wi(),gt(n),null;case 3:return c=n.stateNode,rs(),Ve(_t),Ve(pt),Ql(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(e===null||e.child===null)&&(ki(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Gt!==null&&(jc(Gt),Gt=null))),mc(e,n),gt(n),null;case 5:Gl(n);var h=gr(yo.current);if(i=n.type,e!==null&&n.stateNode!=null)Jh(e,n,i,c,h),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!c){if(n.stateNode===null)throw Error(s(166));return gt(n),null}if(e=gr(cn.current),ki(n)){c=n.stateNode,i=n.type;var m=n.memoizedProps;switch(c[ln]=n,c[ho]=m,e=(n.mode&1)!==0,i){case"dialog":Be("cancel",c),Be("close",c);break;case"iframe":case"object":case"embed":Be("load",c);break;case"video":case"audio":for(h=0;h<co.length;h++)Be(co[h],c);break;case"source":Be("error",c);break;case"img":case"image":case"link":Be("error",c),Be("load",c);break;case"details":Be("toggle",c);break;case"input":Lr(c,m),Be("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},Be("invalid",c);break;case"textarea":Od(c,m),Be("invalid",c)}Ja(i,m),h=null;for(var w in m)if(m.hasOwnProperty(w)){var N=m[w];w==="children"?typeof N=="string"?c.textContent!==N&&(m.suppressHydrationWarning!==!0&&gi(c.textContent,N,e),h=["children",N]):typeof N=="number"&&c.textContent!==""+N&&(m.suppressHydrationWarning!==!0&&gi(c.textContent,N,e),h=["children",""+N]):a.hasOwnProperty(w)&&N!=null&&w==="onScroll"&&Be("scroll",c)}switch(i){case"input":Re(c),Rd(c,m,!0);break;case"textarea":Re(c),Id(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=vi)}c=h,n.updateQueue=c,c!==null&&(n.flags|=4)}else{w=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Dd(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=w.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof c.is=="string"?e=w.createElement(i,{is:c.is}):(e=w.createElement(i),i==="select"&&(w=e,c.multiple?w.multiple=!0:c.size&&(w.size=c.size))):e=w.createElementNS(e,i),e[ln]=n,e[ho]=c,Gh(e,n,!1,!1),n.stateNode=e;e:{switch(w=Qa(i,c),i){case"dialog":Be("cancel",e),Be("close",e),h=c;break;case"iframe":case"object":case"embed":Be("load",e),h=c;break;case"video":case"audio":for(h=0;h<co.length;h++)Be(co[h],e);h=c;break;case"source":Be("error",e),h=c;break;case"img":case"image":case"link":Be("error",e),Be("load",e),h=c;break;case"details":Be("toggle",e),h=c;break;case"input":Lr(e,c),h=Ht(e,c),Be("invalid",e);break;case"option":h=c;break;case"select":e._wrapperState={wasMultiple:!!c.multiple},h=K({},c,{value:void 0}),Be("invalid",e);break;case"textarea":Od(e,c),h=qa(e,c),Be("invalid",e);break;default:h=c}Ja(i,h),N=h;for(m in N)if(N.hasOwnProperty(m)){var O=N[m];m==="style"?Md(e,O):m==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&Ld(e,O)):m==="children"?typeof O=="string"?(i!=="textarea"||O!=="")&&Ws(e,O):typeof O=="number"&&Ws(e,""+O):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(a.hasOwnProperty(m)?O!=null&&m==="onScroll"&&Be("scroll",e):O!=null&&R(e,m,O,w))}switch(i){case"input":Re(e),Rd(e,c,!1);break;case"textarea":Re(e),Id(e);break;case"option":c.value!=null&&e.setAttribute("value",""+pe(c.value));break;case"select":e.multiple=!!c.multiple,m=c.value,m!=null?Mr(e,!!c.multiple,m,!1):c.defaultValue!=null&&Mr(e,!!c.multiple,c.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=vi)}switch(i){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return gt(n),null;case 6:if(e&&n.stateNode!=null)Qh(e,n,e.memoizedProps,c);else{if(typeof c!="string"&&n.stateNode===null)throw Error(s(166));if(i=gr(yo.current),gr(cn.current),ki(n)){if(c=n.stateNode,i=n.memoizedProps,c[ln]=n,(m=c.nodeValue!==i)&&(e=Rt,e!==null))switch(e.tag){case 3:gi(c.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&gi(c.nodeValue,i,(e.mode&1)!==0)}m&&(n.flags|=4)}else c=(i.nodeType===9?i:i.ownerDocument).createTextNode(c),c[ln]=n,n.stateNode=c}return gt(n),null;case 13:if(Ve(Ke),c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(He&&Ot!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Zf(),Zr(),n.flags|=98560,m=!1;else if(m=ki(n),c!==null&&c.dehydrated!==null){if(e===null){if(!m)throw Error(s(318));if(m=n.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[ln]=n}else Zr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;gt(n),m=!1}else Gt!==null&&(jc(Gt),Gt=null),m=!0;if(!m)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=i,n):(c=c!==null,c!==(e!==null&&e.memoizedState!==null)&&c&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(Ke.current&1)!==0?nt===0&&(nt=3):Tc())),n.updateQueue!==null&&(n.flags|=4),gt(n),null);case 4:return rs(),mc(e,n),e===null&&uo(n.stateNode.containerInfo),gt(n),null;case 10:return Vl(n.type._context),gt(n),null;case 17:return St(n.type)&&wi(),gt(n),null;case 19:if(Ve(Ke),m=n.memoizedState,m===null)return gt(n),null;if(c=(n.flags&128)!==0,w=m.rendering,w===null)if(c)So(m,!1);else{if(nt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(w=Pi(e),w!==null){for(n.flags|=128,So(m,!1),c=w.updateQueue,c!==null&&(n.updateQueue=c,n.flags|=4),n.subtreeFlags=0,c=i,i=n.child;i!==null;)m=i,e=c,m.flags&=14680066,w=m.alternate,w===null?(m.childLanes=0,m.lanes=e,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=w.childLanes,m.lanes=w.lanes,m.child=w.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=w.memoizedProps,m.memoizedState=w.memoizedState,m.updateQueue=w.updateQueue,m.type=w.type,e=w.dependencies,m.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Fe(Ke,Ke.current&1|2),n.child}e=e.sibling}m.tail!==null&&Je()>as&&(n.flags|=128,c=!0,So(m,!1),n.lanes=4194304)}else{if(!c)if(e=Pi(w),e!==null){if(n.flags|=128,c=!0,i=e.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),So(m,!0),m.tail===null&&m.tailMode==="hidden"&&!w.alternate&&!He)return gt(n),null}else 2*Je()-m.renderingStartTime>as&&i!==1073741824&&(n.flags|=128,c=!0,So(m,!1),n.lanes=4194304);m.isBackwards?(w.sibling=n.child,n.child=w):(i=m.last,i!==null?i.sibling=w:n.child=w,m.last=w)}return m.tail!==null?(n=m.tail,m.rendering=n,m.tail=n.sibling,m.renderingStartTime=Je(),n.sibling=null,i=Ke.current,Fe(Ke,c?i&1|2:i&1),n):(gt(n),null);case 22:case 23:return Nc(),c=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==c&&(n.flags|=8192),c&&(n.mode&1)!==0?(At&1073741824)!==0&&(gt(n),n.subtreeFlags&6&&(n.flags|=8192)):gt(n),null;case 24:return null;case 25:return null}throw Error(s(156,n.tag))}function b0(e,n){switch($l(n),n.tag){case 1:return St(n.type)&&wi(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return rs(),Ve(_t),Ve(pt),Ql(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return Gl(n),null;case 13:if(Ve(Ke),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Zr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Ve(Ke),null;case 4:return rs(),null;case 10:return Vl(n.type._context),null;case 22:case 23:return Nc(),null;case 24:return null;default:return null}}var Ui=!1,vt=!1,_0=typeof WeakSet=="function"?WeakSet:Set,ie=null;function os(e,n){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(c){Ge(e,n,c)}else i.current=null}function gc(e,n,i){try{i()}catch(c){Ge(e,n,c)}}var Yh=!1;function S0(e,n){if(Nl=oi,e=Tf(),xl(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var c=i.getSelection&&i.getSelection();if(c&&c.rangeCount!==0){i=c.anchorNode;var h=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{i.nodeType,m.nodeType}catch{i=null;break e}var w=0,N=-1,O=-1,M=0,G=0,Q=e,q=null;t:for(;;){for(var se;Q!==i||h!==0&&Q.nodeType!==3||(N=w+h),Q!==m||c!==0&&Q.nodeType!==3||(O=w+c),Q.nodeType===3&&(w+=Q.nodeValue.length),(se=Q.firstChild)!==null;)q=Q,Q=se;for(;;){if(Q===e)break t;if(q===i&&++M===h&&(N=w),q===m&&++G===c&&(O=w),(se=Q.nextSibling)!==null)break;Q=q,q=Q.parentNode}Q=se}i=N===-1||O===-1?null:{start:N,end:O}}else i=null}i=i||{start:0,end:0}}else i=null;for(Tl={focusedElem:e,selectionRange:i},oi=!1,ie=n;ie!==null;)if(n=ie,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ie=e;else for(;ie!==null;){n=ie;try{var ce=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var fe=ce.memoizedProps,Qe=ce.memoizedState,L=n.stateNode,I=L.getSnapshotBeforeUpdate(n.elementType===n.type?fe:Jt(n.type,fe),Qe);L.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var $=n.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(ee){Ge(n,n.return,ee)}if(e=n.sibling,e!==null){e.return=n.return,ie=e;break}ie=n.return}return ce=Yh,Yh=!1,ce}function ko(e,n,i){var c=n.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&e)===e){var m=h.destroy;h.destroy=void 0,m!==void 0&&gc(n,i,m)}h=h.next}while(h!==c)}}function Fi(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var c=i.create;i.destroy=c()}i=i.next}while(i!==n)}}function vc(e){var n=e.ref;if(n!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof n=="function"?n(e):n.current=e}}function Xh(e){var n=e.alternate;n!==null&&(e.alternate=null,Xh(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[ln],delete n[ho],delete n[Al],delete n[o0],delete n[i0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zh(e){return e.tag===5||e.tag===3||e.tag===4}function ep(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yc(e,n,i){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(e,n):i.insertBefore(e,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(e,i)):(n=i,n.appendChild(e)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=vi));else if(c!==4&&(e=e.child,e!==null))for(yc(e,n,i),e=e.sibling;e!==null;)yc(e,n,i),e=e.sibling}function wc(e,n,i){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(c!==4&&(e=e.child,e!==null))for(wc(e,n,i),e=e.sibling;e!==null;)wc(e,n,i),e=e.sibling}var dt=null,Qt=!1;function Bn(e,n,i){for(i=i.child;i!==null;)tp(e,n,i),i=i.sibling}function tp(e,n,i){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(Zo,i)}catch{}switch(i.tag){case 5:vt||os(i,n);case 6:var c=dt,h=Qt;dt=null,Bn(e,n,i),dt=c,Qt=h,dt!==null&&(Qt?(e=dt,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):dt.removeChild(i.stateNode));break;case 18:dt!==null&&(Qt?(e=dt,i=i.stateNode,e.nodeType===8?Ol(e.parentNode,i):e.nodeType===1&&Ol(e,i),to(e)):Ol(dt,i.stateNode));break;case 4:c=dt,h=Qt,dt=i.stateNode.containerInfo,Qt=!0,Bn(e,n,i),dt=c,Qt=h;break;case 0:case 11:case 14:case 15:if(!vt&&(c=i.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){h=c=c.next;do{var m=h,w=m.destroy;m=m.tag,w!==void 0&&((m&2)!==0||(m&4)!==0)&&gc(i,n,w),h=h.next}while(h!==c)}Bn(e,n,i);break;case 1:if(!vt&&(os(i,n),c=i.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=i.memoizedProps,c.state=i.memoizedState,c.componentWillUnmount()}catch(N){Ge(i,n,N)}Bn(e,n,i);break;case 21:Bn(e,n,i);break;case 22:i.mode&1?(vt=(c=vt)||i.memoizedState!==null,Bn(e,n,i),vt=c):Bn(e,n,i);break;default:Bn(e,n,i)}}function np(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new _0),n.forEach(function(c){var h=O0.bind(null,e,c);i.has(c)||(i.add(c),c.then(h,h))})}}function Yt(e,n){var i=n.deletions;if(i!==null)for(var c=0;c<i.length;c++){var h=i[c];try{var m=e,w=n,N=w;e:for(;N!==null;){switch(N.tag){case 5:dt=N.stateNode,Qt=!1;break e;case 3:dt=N.stateNode.containerInfo,Qt=!0;break e;case 4:dt=N.stateNode.containerInfo,Qt=!0;break e}N=N.return}if(dt===null)throw Error(s(160));tp(m,w,h),dt=null,Qt=!1;var O=h.alternate;O!==null&&(O.return=null),h.return=null}catch(M){Ge(h,n,M)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)rp(n,e),n=n.sibling}function rp(e,n){var i=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Yt(n,e),dn(e),c&4){try{ko(3,e,e.return),Fi(3,e)}catch(fe){Ge(e,e.return,fe)}try{ko(5,e,e.return)}catch(fe){Ge(e,e.return,fe)}}break;case 1:Yt(n,e),dn(e),c&512&&i!==null&&os(i,i.return);break;case 5:if(Yt(n,e),dn(e),c&512&&i!==null&&os(i,i.return),e.flags&32){var h=e.stateNode;try{Ws(h,"")}catch(fe){Ge(e,e.return,fe)}}if(c&4&&(h=e.stateNode,h!=null)){var m=e.memoizedProps,w=i!==null?i.memoizedProps:m,N=e.type,O=e.updateQueue;if(e.updateQueue=null,O!==null)try{N==="input"&&m.type==="radio"&&m.name!=null&&$r(h,m),Qa(N,w);var M=Qa(N,m);for(w=0;w<O.length;w+=2){var G=O[w],Q=O[w+1];G==="style"?Md(h,Q):G==="dangerouslySetInnerHTML"?Ld(h,Q):G==="children"?Ws(h,Q):R(h,G,Q,M)}switch(N){case"input":cr(h,m);break;case"textarea":Ad(h,m);break;case"select":var q=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!m.multiple;var se=m.value;se!=null?Mr(h,!!m.multiple,se,!1):q!==!!m.multiple&&(m.defaultValue!=null?Mr(h,!!m.multiple,m.defaultValue,!0):Mr(h,!!m.multiple,m.multiple?[]:"",!1))}h[ho]=m}catch(fe){Ge(e,e.return,fe)}}break;case 6:if(Yt(n,e),dn(e),c&4){if(e.stateNode===null)throw Error(s(162));h=e.stateNode,m=e.memoizedProps;try{h.nodeValue=m}catch(fe){Ge(e,e.return,fe)}}break;case 3:if(Yt(n,e),dn(e),c&4&&i!==null&&i.memoizedState.isDehydrated)try{to(n.containerInfo)}catch(fe){Ge(e,e.return,fe)}break;case 4:Yt(n,e),dn(e);break;case 13:Yt(n,e),dn(e),h=e.child,h.flags&8192&&(m=h.memoizedState!==null,h.stateNode.isHidden=m,!m||h.alternate!==null&&h.alternate.memoizedState!==null||(_c=Je())),c&4&&np(e);break;case 22:if(G=i!==null&&i.memoizedState!==null,e.mode&1?(vt=(M=vt)||G,Yt(n,e),vt=M):Yt(n,e),dn(e),c&8192){if(M=e.memoizedState!==null,(e.stateNode.isHidden=M)&&!G&&(e.mode&1)!==0)for(ie=e,G=e.child;G!==null;){for(Q=ie=G;ie!==null;){switch(q=ie,se=q.child,q.tag){case 0:case 11:case 14:case 15:ko(4,q,q.return);break;case 1:os(q,q.return);var ce=q.stateNode;if(typeof ce.componentWillUnmount=="function"){c=q,i=q.return;try{n=c,ce.props=n.memoizedProps,ce.state=n.memoizedState,ce.componentWillUnmount()}catch(fe){Ge(c,i,fe)}}break;case 5:os(q,q.return);break;case 22:if(q.memoizedState!==null){ip(Q);continue}}se!==null?(se.return=q,ie=se):ip(Q)}G=G.sibling}e:for(G=null,Q=e;;){if(Q.tag===5){if(G===null){G=Q;try{h=Q.stateNode,M?(m=h.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(N=Q.stateNode,O=Q.memoizedProps.style,w=O!=null&&O.hasOwnProperty("display")?O.display:null,N.style.display=$d("display",w))}catch(fe){Ge(e,e.return,fe)}}}else if(Q.tag===6){if(G===null)try{Q.stateNode.nodeValue=M?"":Q.memoizedProps}catch(fe){Ge(e,e.return,fe)}}else if((Q.tag!==22&&Q.tag!==23||Q.memoizedState===null||Q===e)&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===e)break e;for(;Q.sibling===null;){if(Q.return===null||Q.return===e)break e;G===Q&&(G=null),Q=Q.return}G===Q&&(G=null),Q.sibling.return=Q.return,Q=Q.sibling}}break;case 19:Yt(n,e),dn(e),c&4&&np(e);break;case 21:break;default:Yt(n,e),dn(e)}}function dn(e){var n=e.flags;if(n&2){try{e:{for(var i=e.return;i!==null;){if(Zh(i)){var c=i;break e}i=i.return}throw Error(s(160))}switch(c.tag){case 5:var h=c.stateNode;c.flags&32&&(Ws(h,""),c.flags&=-33);var m=ep(e);wc(e,m,h);break;case 3:case 4:var w=c.stateNode.containerInfo,N=ep(e);yc(e,N,w);break;default:throw Error(s(161))}}catch(O){Ge(e,e.return,O)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function k0(e,n,i){ie=e,sp(e)}function sp(e,n,i){for(var c=(e.mode&1)!==0;ie!==null;){var h=ie,m=h.child;if(h.tag===22&&c){var w=h.memoizedState!==null||Ui;if(!w){var N=h.alternate,O=N!==null&&N.memoizedState!==null||vt;N=Ui;var M=vt;if(Ui=w,(vt=O)&&!M)for(ie=h;ie!==null;)w=ie,O=w.child,w.tag===22&&w.memoizedState!==null?ap(h):O!==null?(O.return=w,ie=O):ap(h);for(;m!==null;)ie=m,sp(m),m=m.sibling;ie=h,Ui=N,vt=M}op(e)}else(h.subtreeFlags&8772)!==0&&m!==null?(m.return=h,ie=m):op(e)}}function op(e){for(;ie!==null;){var n=ie;if((n.flags&8772)!==0){var i=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:vt||Fi(5,n);break;case 1:var c=n.stateNode;if(n.flags&4&&!vt)if(i===null)c.componentDidMount();else{var h=n.elementType===n.type?i.memoizedProps:Jt(n.type,i.memoizedProps);c.componentDidUpdate(h,i.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=n.updateQueue;m!==null&&ih(n,m,c);break;case 3:var w=n.updateQueue;if(w!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}ih(n,w,i)}break;case 5:var N=n.stateNode;if(i===null&&n.flags&4){i=N;var O=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&i.focus();break;case"img":O.src&&(i.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var M=n.alternate;if(M!==null){var G=M.memoizedState;if(G!==null){var Q=G.dehydrated;Q!==null&&to(Q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}vt||n.flags&512&&vc(n)}catch(q){Ge(n,n.return,q)}}if(n===e){ie=null;break}if(i=n.sibling,i!==null){i.return=n.return,ie=i;break}ie=n.return}}function ip(e){for(;ie!==null;){var n=ie;if(n===e){ie=null;break}var i=n.sibling;if(i!==null){i.return=n.return,ie=i;break}ie=n.return}}function ap(e){for(;ie!==null;){var n=ie;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{Fi(4,n)}catch(O){Ge(n,i,O)}break;case 1:var c=n.stateNode;if(typeof c.componentDidMount=="function"){var h=n.return;try{c.componentDidMount()}catch(O){Ge(n,h,O)}}var m=n.return;try{vc(n)}catch(O){Ge(n,m,O)}break;case 5:var w=n.return;try{vc(n)}catch(O){Ge(n,w,O)}}}catch(O){Ge(n,n.return,O)}if(n===e){ie=null;break}var N=n.sibling;if(N!==null){N.return=n.return,ie=N;break}ie=n.return}}var E0=Math.ceil,zi=T.ReactCurrentDispatcher,xc=T.ReactCurrentOwner,zt=T.ReactCurrentBatchConfig,Oe=0,it=null,Xe=null,ft=0,At=0,is=$n(0),nt=0,Eo=null,yr=0,Bi=0,bc=0,jo=null,Et=null,_c=0,as=1/0,En=null,Vi=!1,Sc=null,Vn=null,Wi=!1,Wn=null,Hi=0,Co=0,kc=null,Ki=-1,qi=0;function bt(){return(Oe&6)!==0?Je():Ki!==-1?Ki:Ki=Je()}function Hn(e){return(e.mode&1)===0?1:(Oe&2)!==0&&ft!==0?ft&-ft:l0.transition!==null?(qi===0&&(qi=Zd()),qi):(e=De,e!==0||(e=window.event,e=e===void 0?16:cf(e.type)),e)}function Xt(e,n,i,c){if(50<Co)throw Co=0,kc=null,Error(s(185));Qs(e,i,c),((Oe&2)===0||e!==it)&&(e===it&&((Oe&2)===0&&(Bi|=i),nt===4&&Kn(e,ft)),jt(e,c),i===1&&Oe===0&&(n.mode&1)===0&&(as=Je()+500,bi&&Un()))}function jt(e,n){var i=e.callbackNode;lw(e,n);var c=ni(e,e===it?ft:0);if(c===0)i!==null&&Qd(i),e.callbackNode=null,e.callbackPriority=0;else if(n=c&-c,e.callbackPriority!==n){if(i!=null&&Qd(i),n===1)e.tag===0?a0(cp.bind(null,e)):Gf(cp.bind(null,e)),r0(function(){(Oe&6)===0&&Un()}),i=null;else{switch(ef(c)){case 1:i=rl;break;case 4:i=Yd;break;case 16:i=Xo;break;case 536870912:i=Xd;break;default:i=Xo}i=vp(i,lp.bind(null,e))}e.callbackPriority=n,e.callbackNode=i}}function lp(e,n){if(Ki=-1,qi=0,(Oe&6)!==0)throw Error(s(327));var i=e.callbackNode;if(ls()&&e.callbackNode!==i)return null;var c=ni(e,e===it?ft:0);if(c===0)return null;if((c&30)!==0||(c&e.expiredLanes)!==0||n)n=Gi(e,c);else{n=c;var h=Oe;Oe|=2;var m=dp();(it!==e||ft!==n)&&(En=null,as=Je()+500,xr(e,n));do try{N0();break}catch(N){up(e,N)}while(!0);Bl(),zi.current=m,Oe=h,Xe!==null?n=0:(it=null,ft=0,n=nt)}if(n!==0){if(n===2&&(h=sl(e),h!==0&&(c=h,n=Ec(e,h))),n===1)throw i=Eo,xr(e,0),Kn(e,c),jt(e,Je()),i;if(n===6)Kn(e,c);else{if(h=e.current.alternate,(c&30)===0&&!j0(h)&&(n=Gi(e,c),n===2&&(m=sl(e),m!==0&&(c=m,n=Ec(e,m))),n===1))throw i=Eo,xr(e,0),Kn(e,c),jt(e,Je()),i;switch(e.finishedWork=h,e.finishedLanes=c,n){case 0:case 1:throw Error(s(345));case 2:br(e,Et,En);break;case 3:if(Kn(e,c),(c&130023424)===c&&(n=_c+500-Je(),10<n)){if(ni(e,0)!==0)break;if(h=e.suspendedLanes,(h&c)!==c){bt(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=Rl(br.bind(null,e,Et,En),n);break}br(e,Et,En);break;case 4:if(Kn(e,c),(c&4194240)===c)break;for(n=e.eventTimes,h=-1;0<c;){var w=31-Kt(c);m=1<<w,w=n[w],w>h&&(h=w),c&=~m}if(c=h,c=Je()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*E0(c/1960))-c,10<c){e.timeoutHandle=Rl(br.bind(null,e,Et,En),c);break}br(e,Et,En);break;case 5:br(e,Et,En);break;default:throw Error(s(329))}}}return jt(e,Je()),e.callbackNode===i?lp.bind(null,e):null}function Ec(e,n){var i=jo;return e.current.memoizedState.isDehydrated&&(xr(e,n).flags|=256),e=Gi(e,n),e!==2&&(n=Et,Et=i,n!==null&&jc(n)),e}function jc(e){Et===null?Et=e:Et.push.apply(Et,e)}function j0(e){for(var n=e;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var c=0;c<i.length;c++){var h=i[c],m=h.getSnapshot;h=h.value;try{if(!qt(m(),h))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Kn(e,n){for(n&=~bc,n&=~Bi,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var i=31-Kt(n),c=1<<i;e[i]=-1,n&=~c}}function cp(e){if((Oe&6)!==0)throw Error(s(327));ls();var n=ni(e,0);if((n&1)===0)return jt(e,Je()),null;var i=Gi(e,n);if(e.tag!==0&&i===2){var c=sl(e);c!==0&&(n=c,i=Ec(e,c))}if(i===1)throw i=Eo,xr(e,0),Kn(e,n),jt(e,Je()),i;if(i===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,br(e,Et,En),jt(e,Je()),null}function Cc(e,n){var i=Oe;Oe|=1;try{return e(n)}finally{Oe=i,Oe===0&&(as=Je()+500,bi&&Un())}}function wr(e){Wn!==null&&Wn.tag===0&&(Oe&6)===0&&ls();var n=Oe;Oe|=1;var i=zt.transition,c=De;try{if(zt.transition=null,De=1,e)return e()}finally{De=c,zt.transition=i,Oe=n,(Oe&6)===0&&Un()}}function Nc(){At=is.current,Ve(is)}function xr(e,n){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,n0(i)),Xe!==null)for(i=Xe.return;i!==null;){var c=i;switch($l(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&wi();break;case 3:rs(),Ve(_t),Ve(pt),Ql();break;case 5:Gl(c);break;case 4:rs();break;case 13:Ve(Ke);break;case 19:Ve(Ke);break;case 10:Vl(c.type._context);break;case 22:case 23:Nc()}i=i.return}if(it=e,Xe=e=qn(e.current,null),ft=At=n,nt=0,Eo=null,bc=Bi=yr=0,Et=jo=null,mr!==null){for(n=0;n<mr.length;n++)if(i=mr[n],c=i.interleaved,c!==null){i.interleaved=null;var h=c.next,m=i.pending;if(m!==null){var w=m.next;m.next=h,c.next=w}i.pending=c}mr=null}return e}function up(e,n){do{var i=Xe;try{if(Bl(),Ri.current=Di,Oi){for(var c=qe.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}Oi=!1}if(vr=0,ot=tt=qe=null,wo=!1,xo=0,xc.current=null,i===null||i.return===null){nt=1,Eo=n,Xe=null;break}e:{var m=e,w=i.return,N=i,O=n;if(n=ft,N.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var M=O,G=N,Q=G.tag;if((G.mode&1)===0&&(Q===0||Q===11||Q===15)){var q=G.alternate;q?(G.updateQueue=q.updateQueue,G.memoizedState=q.memoizedState,G.lanes=q.lanes):(G.updateQueue=null,G.memoizedState=null)}var se=Dh(w);if(se!==null){se.flags&=-257,Lh(se,w,N,m,n),se.mode&1&&Ih(m,M,n),n=se,O=M;var ce=n.updateQueue;if(ce===null){var fe=new Set;fe.add(O),n.updateQueue=fe}else ce.add(O);break e}else{if((n&1)===0){Ih(m,M,n),Tc();break e}O=Error(s(426))}}else if(He&&N.mode&1){var Qe=Dh(w);if(Qe!==null){(Qe.flags&65536)===0&&(Qe.flags|=256),Lh(Qe,w,N,m,n),Fl(ss(O,N));break e}}m=O=ss(O,N),nt!==4&&(nt=2),jo===null?jo=[m]:jo.push(m),m=w;do{switch(m.tag){case 3:m.flags|=65536,n&=-n,m.lanes|=n;var L=Oh(m,O,n);oh(m,L);break e;case 1:N=O;var I=m.type,$=m.stateNode;if((m.flags&128)===0&&(typeof I.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(Vn===null||!Vn.has($)))){m.flags|=65536,n&=-n,m.lanes|=n;var ee=Ah(m,N,n);oh(m,ee);break e}}m=m.return}while(m!==null)}hp(i)}catch(he){n=he,Xe===i&&i!==null&&(Xe=i=i.return);continue}break}while(!0)}function dp(){var e=zi.current;return zi.current=Di,e===null?Di:e}function Tc(){(nt===0||nt===3||nt===2)&&(nt=4),it===null||(yr&268435455)===0&&(Bi&268435455)===0||Kn(it,ft)}function Gi(e,n){var i=Oe;Oe|=2;var c=dp();(it!==e||ft!==n)&&(En=null,xr(e,n));do try{C0();break}catch(h){up(e,h)}while(!0);if(Bl(),Oe=i,zi.current=c,Xe!==null)throw Error(s(261));return it=null,ft=0,nt}function C0(){for(;Xe!==null;)fp(Xe)}function N0(){for(;Xe!==null&&!Zy();)fp(Xe)}function fp(e){var n=gp(e.alternate,e,At);e.memoizedProps=e.pendingProps,n===null?hp(e):Xe=n,xc.current=null}function hp(e){var n=e;do{var i=n.alternate;if(e=n.return,(n.flags&32768)===0){if(i=x0(i,n,At),i!==null){Xe=i;return}}else{if(i=b0(i,n),i!==null){i.flags&=32767,Xe=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{nt=6,Xe=null;return}}if(n=n.sibling,n!==null){Xe=n;return}Xe=n=e}while(n!==null);nt===0&&(nt=5)}function br(e,n,i){var c=De,h=zt.transition;try{zt.transition=null,De=1,T0(e,n,i,c)}finally{zt.transition=h,De=c}return null}function T0(e,n,i,c){do ls();while(Wn!==null);if((Oe&6)!==0)throw Error(s(327));i=e.finishedWork;var h=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var m=i.lanes|i.childLanes;if(cw(e,m),e===it&&(Xe=it=null,ft=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Wi||(Wi=!0,vp(Xo,function(){return ls(),null})),m=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||m){m=zt.transition,zt.transition=null;var w=De;De=1;var N=Oe;Oe|=4,xc.current=null,S0(e,i),rp(i,e),Jw(Tl),oi=!!Nl,Tl=Nl=null,e.current=i,k0(i),ew(),Oe=N,De=w,zt.transition=m}else e.current=i;if(Wi&&(Wi=!1,Wn=e,Hi=h),m=e.pendingLanes,m===0&&(Vn=null),rw(i.stateNode),jt(e,Je()),n!==null)for(c=e.onRecoverableError,i=0;i<n.length;i++)h=n[i],c(h.value,{componentStack:h.stack,digest:h.digest});if(Vi)throw Vi=!1,e=Sc,Sc=null,e;return(Hi&1)!==0&&e.tag!==0&&ls(),m=e.pendingLanes,(m&1)!==0?e===kc?Co++:(Co=0,kc=e):Co=0,Un(),null}function ls(){if(Wn!==null){var e=ef(Hi),n=zt.transition,i=De;try{if(zt.transition=null,De=16>e?16:e,Wn===null)var c=!1;else{if(e=Wn,Wn=null,Hi=0,(Oe&6)!==0)throw Error(s(331));var h=Oe;for(Oe|=4,ie=e.current;ie!==null;){var m=ie,w=m.child;if((ie.flags&16)!==0){var N=m.deletions;if(N!==null){for(var O=0;O<N.length;O++){var M=N[O];for(ie=M;ie!==null;){var G=ie;switch(G.tag){case 0:case 11:case 15:ko(8,G,m)}var Q=G.child;if(Q!==null)Q.return=G,ie=Q;else for(;ie!==null;){G=ie;var q=G.sibling,se=G.return;if(Xh(G),G===M){ie=null;break}if(q!==null){q.return=se,ie=q;break}ie=se}}}var ce=m.alternate;if(ce!==null){var fe=ce.child;if(fe!==null){ce.child=null;do{var Qe=fe.sibling;fe.sibling=null,fe=Qe}while(fe!==null)}}ie=m}}if((m.subtreeFlags&2064)!==0&&w!==null)w.return=m,ie=w;else e:for(;ie!==null;){if(m=ie,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:ko(9,m,m.return)}var L=m.sibling;if(L!==null){L.return=m.return,ie=L;break e}ie=m.return}}var I=e.current;for(ie=I;ie!==null;){w=ie;var $=w.child;if((w.subtreeFlags&2064)!==0&&$!==null)$.return=w,ie=$;else e:for(w=I;ie!==null;){if(N=ie,(N.flags&2048)!==0)try{switch(N.tag){case 0:case 11:case 15:Fi(9,N)}}catch(he){Ge(N,N.return,he)}if(N===w){ie=null;break e}var ee=N.sibling;if(ee!==null){ee.return=N.return,ie=ee;break e}ie=N.return}}if(Oe=h,Un(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(Zo,e)}catch{}c=!0}return c}finally{De=i,zt.transition=n}}return!1}function pp(e,n,i){n=ss(i,n),n=Oh(e,n,1),e=zn(e,n,1),n=bt(),e!==null&&(Qs(e,1,n),jt(e,n))}function Ge(e,n,i){if(e.tag===3)pp(e,e,i);else for(;n!==null;){if(n.tag===3){pp(n,e,i);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Vn===null||!Vn.has(c))){e=ss(i,e),e=Ah(n,e,1),n=zn(n,e,1),e=bt(),n!==null&&(Qs(n,1,e),jt(n,e));break}}n=n.return}}function P0(e,n,i){var c=e.pingCache;c!==null&&c.delete(n),n=bt(),e.pingedLanes|=e.suspendedLanes&i,it===e&&(ft&i)===i&&(nt===4||nt===3&&(ft&130023424)===ft&&500>Je()-_c?xr(e,0):bc|=i),jt(e,n)}function mp(e,n){n===0&&((e.mode&1)===0?n=1:(n=ti,ti<<=1,(ti&130023424)===0&&(ti=4194304)));var i=bt();e=_n(e,n),e!==null&&(Qs(e,n,i),jt(e,i))}function R0(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),mp(e,i)}function O0(e,n){var i=0;switch(e.tag){case 13:var c=e.stateNode,h=e.memoizedState;h!==null&&(i=h.retryLane);break;case 19:c=e.stateNode;break;default:throw Error(s(314))}c!==null&&c.delete(n),mp(e,i)}var gp;gp=function(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps||_t.current)kt=!0;else{if((e.lanes&i)===0&&(n.flags&128)===0)return kt=!1,w0(e,n,i);kt=(e.flags&131072)!==0}else kt=!1,He&&(n.flags&1048576)!==0&&Jf(n,Si,n.index);switch(n.lanes=0,n.tag){case 2:var c=n.type;Mi(e,n),e=n.pendingProps;var h=Qr(n,pt.current);ns(n,i),h=Zl(null,n,c,e,h,i);var m=ec();return n.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,St(c)?(m=!0,xi(n)):m=!1,n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Kl(n),h.updater=Li,n.stateNode=h,h._reactInternals=n,ic(n,c,e,i),n=uc(null,n,c,!0,m,i)):(n.tag=0,He&&m&&Ll(n),xt(null,n,h,i),n=n.child),n;case 16:c=n.elementType;e:{switch(Mi(e,n),e=n.pendingProps,h=c._init,c=h(c._payload),n.type=c,h=n.tag=I0(c),e=Jt(c,e),h){case 0:n=cc(null,n,c,e,i);break e;case 1:n=Bh(null,n,c,e,i);break e;case 11:n=$h(null,n,c,e,i);break e;case 14:n=Mh(null,n,c,Jt(c.type,e),i);break e}throw Error(s(306,c,""))}return n;case 0:return c=n.type,h=n.pendingProps,h=n.elementType===c?h:Jt(c,h),cc(e,n,c,h,i);case 1:return c=n.type,h=n.pendingProps,h=n.elementType===c?h:Jt(c,h),Bh(e,n,c,h,i);case 3:e:{if(Vh(n),e===null)throw Error(s(387));c=n.pendingProps,m=n.memoizedState,h=m.element,sh(e,n),Ti(n,c,null,i);var w=n.memoizedState;if(c=w.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){h=ss(Error(s(423)),n),n=Wh(e,n,c,i,h);break e}else if(c!==h){h=ss(Error(s(424)),n),n=Wh(e,n,c,i,h);break e}else for(Ot=Ln(n.stateNode.containerInfo.firstChild),Rt=n,He=!0,Gt=null,i=nh(n,null,c,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Zr(),c===h){n=kn(e,n,i);break e}xt(e,n,c,i)}n=n.child}return n;case 5:return ah(n),e===null&&Ul(n),c=n.type,h=n.pendingProps,m=e!==null?e.memoizedProps:null,w=h.children,Pl(c,h)?w=null:m!==null&&Pl(c,m)&&(n.flags|=32),zh(e,n),xt(e,n,w,i),n.child;case 6:return e===null&&Ul(n),null;case 13:return Hh(e,n,i);case 4:return ql(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=es(n,null,c,i):xt(e,n,c,i),n.child;case 11:return c=n.type,h=n.pendingProps,h=n.elementType===c?h:Jt(c,h),$h(e,n,c,h,i);case 7:return xt(e,n,n.pendingProps,i),n.child;case 8:return xt(e,n,n.pendingProps.children,i),n.child;case 12:return xt(e,n,n.pendingProps.children,i),n.child;case 10:e:{if(c=n.type._context,h=n.pendingProps,m=n.memoizedProps,w=h.value,Fe(ji,c._currentValue),c._currentValue=w,m!==null)if(qt(m.value,w)){if(m.children===h.children&&!_t.current){n=kn(e,n,i);break e}}else for(m=n.child,m!==null&&(m.return=n);m!==null;){var N=m.dependencies;if(N!==null){w=m.child;for(var O=N.firstContext;O!==null;){if(O.context===c){if(m.tag===1){O=Sn(-1,i&-i),O.tag=2;var M=m.updateQueue;if(M!==null){M=M.shared;var G=M.pending;G===null?O.next=O:(O.next=G.next,G.next=O),M.pending=O}}m.lanes|=i,O=m.alternate,O!==null&&(O.lanes|=i),Wl(m.return,i,n),N.lanes|=i;break}O=O.next}}else if(m.tag===10)w=m.type===n.type?null:m.child;else if(m.tag===18){if(w=m.return,w===null)throw Error(s(341));w.lanes|=i,N=w.alternate,N!==null&&(N.lanes|=i),Wl(w,i,n),w=m.sibling}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===n){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}xt(e,n,h.children,i),n=n.child}return n;case 9:return h=n.type,c=n.pendingProps.children,ns(n,i),h=Ut(h),c=c(h),n.flags|=1,xt(e,n,c,i),n.child;case 14:return c=n.type,h=Jt(c,n.pendingProps),h=Jt(c.type,h),Mh(e,n,c,h,i);case 15:return Uh(e,n,n.type,n.pendingProps,i);case 17:return c=n.type,h=n.pendingProps,h=n.elementType===c?h:Jt(c,h),Mi(e,n),n.tag=1,St(c)?(e=!0,xi(n)):e=!1,ns(n,i),Ph(n,c,h),ic(n,c,h,i),uc(null,n,c,!0,e,i);case 19:return qh(e,n,i);case 22:return Fh(e,n,i)}throw Error(s(156,n.tag))};function vp(e,n){return Jd(e,n)}function A0(e,n,i,c){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(e,n,i,c){return new A0(e,n,i,c)}function Pc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function I0(e){if(typeof e=="function")return Pc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Y)return 11;if(e===oe)return 14}return 2}function qn(e,n){var i=e.alternate;return i===null?(i=Bt(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Ji(e,n,i,c,h,m){var w=2;if(c=e,typeof e=="function")Pc(e)&&(w=1);else if(typeof e=="string")w=5;else e:switch(e){case F:return _r(i.children,h,m,n);case z:w=8,h|=8;break;case W:return e=Bt(12,i,n,h|2),e.elementType=W,e.lanes=m,e;case re:return e=Bt(13,i,n,h),e.elementType=re,e.lanes=m,e;case H:return e=Bt(19,i,n,h),e.elementType=H,e.lanes=m,e;case ne:return Qi(i,h,m,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case J:w=10;break e;case te:w=9;break e;case Y:w=11;break e;case oe:w=14;break e;case Z:w=16,c=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return n=Bt(w,i,n,h),n.elementType=e,n.type=c,n.lanes=m,n}function _r(e,n,i,c){return e=Bt(7,e,c,n),e.lanes=i,e}function Qi(e,n,i,c){return e=Bt(22,e,c,n),e.elementType=ne,e.lanes=i,e.stateNode={isHidden:!1},e}function Rc(e,n,i){return e=Bt(6,e,null,n),e.lanes=i,e}function Oc(e,n,i){return n=Bt(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function D0(e,n,i,c,h){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ol(0),this.expirationTimes=ol(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ol(0),this.identifierPrefix=c,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Ac(e,n,i,c,h,m,w,N,O){return e=new D0(e,n,i,N,O),n===1?(n=1,m===!0&&(n|=8)):n=0,m=Bt(3,null,null,n),e.current=m,m.stateNode=e,m.memoizedState={element:c,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kl(m),e}function L0(e,n,i){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:c==null?null:""+c,children:e,containerInfo:n,implementation:i}}function yp(e){if(!e)return Mn;e=e._reactInternals;e:{if(ur(e)!==e||e.tag!==1)throw Error(s(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(St(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(s(171))}if(e.tag===1){var i=e.type;if(St(i))return Kf(e,i,n)}return n}function wp(e,n,i,c,h,m,w,N,O){return e=Ac(i,c,!0,e,h,m,w,N,O),e.context=yp(null),i=e.current,c=bt(),h=Hn(i),m=Sn(c,h),m.callback=n??null,zn(i,m,h),e.current.lanes=h,Qs(e,h,c),jt(e,c),e}function Yi(e,n,i,c){var h=n.current,m=bt(),w=Hn(h);return i=yp(i),n.context===null?n.context=i:n.pendingContext=i,n=Sn(m,w),n.payload={element:e},c=c===void 0?null:c,c!==null&&(n.callback=c),e=zn(h,n,w),e!==null&&(Xt(e,h,w,m),Ni(e,h,w)),w}function Xi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function xp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function Ic(e,n){xp(e,n),(e=e.alternate)&&xp(e,n)}function $0(){return null}var bp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Dc(e){this._internalRoot=e}Zi.prototype.render=Dc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));Yi(e,n,null,null)},Zi.prototype.unmount=Dc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;wr(function(){Yi(null,e,null,null)}),n[yn]=null}};function Zi(e){this._internalRoot=e}Zi.prototype.unstable_scheduleHydration=function(e){if(e){var n=rf();e={blockedOn:null,target:e,priority:n};for(var i=0;i<An.length&&n!==0&&n<An[i].priority;i++);An.splice(i,0,e),i===0&&af(e)}};function Lc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ea(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _p(){}function M0(e,n,i,c,h){if(h){if(typeof c=="function"){var m=c;c=function(){var M=Xi(w);m.call(M)}}var w=wp(n,c,e,0,null,!1,!1,"",_p);return e._reactRootContainer=w,e[yn]=w.current,uo(e.nodeType===8?e.parentNode:e),wr(),w}for(;h=e.lastChild;)e.removeChild(h);if(typeof c=="function"){var N=c;c=function(){var M=Xi(O);N.call(M)}}var O=Ac(e,0,!1,null,null,!1,!1,"",_p);return e._reactRootContainer=O,e[yn]=O.current,uo(e.nodeType===8?e.parentNode:e),wr(function(){Yi(n,O,i,c)}),O}function ta(e,n,i,c,h){var m=i._reactRootContainer;if(m){var w=m;if(typeof h=="function"){var N=h;h=function(){var O=Xi(w);N.call(O)}}Yi(n,w,e,h)}else w=M0(i,n,e,h,c);return Xi(w)}tf=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var i=Js(n.pendingLanes);i!==0&&(il(n,i|1),jt(n,Je()),(Oe&6)===0&&(as=Je()+500,Un()))}break;case 13:wr(function(){var c=_n(e,1);if(c!==null){var h=bt();Xt(c,e,1,h)}}),Ic(e,1)}},al=function(e){if(e.tag===13){var n=_n(e,134217728);if(n!==null){var i=bt();Xt(n,e,134217728,i)}Ic(e,134217728)}},nf=function(e){if(e.tag===13){var n=Hn(e),i=_n(e,n);if(i!==null){var c=bt();Xt(i,e,n,c)}Ic(e,n)}},rf=function(){return De},sf=function(e,n){var i=De;try{return De=e,n()}finally{De=i}},Za=function(e,n,i){switch(n){case"input":if(cr(e,i),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var c=i[n];if(c!==e&&c.form===e.form){var h=yi(c);if(!h)throw Error(s(90));$e(c),cr(c,h)}}}break;case"textarea":Ad(e,i);break;case"select":n=i.value,n!=null&&Mr(e,!!i.multiple,n,!1)}},Bd=Cc,Vd=wr;var U0={usingClientEntryPoint:!1,Events:[po,Gr,yi,Fd,zd,Cc]},No={findFiberByHostInstance:dr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},F0={bundleType:No.bundleType,version:No.version,rendererPackageName:No.rendererPackageName,rendererConfig:No.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=qd(e),e===null?null:e.stateNode},findFiberByHostInstance:No.findFiberByHostInstance||$0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var na=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!na.isDisabled&&na.supportsFiber)try{Zo=na.inject(F0),an=na}catch{}}return Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U0,Ct.createPortal=function(e,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lc(n))throw Error(s(200));return L0(e,n,null,i)},Ct.createRoot=function(e,n){if(!Lc(e))throw Error(s(299));var i=!1,c="",h=bp;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),n=Ac(e,1,!1,null,null,i,!1,c,h),e[yn]=n.current,uo(e.nodeType===8?e.parentNode:e),new Dc(n)},Ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=qd(n),e=e===null?null:e.stateNode,e},Ct.flushSync=function(e){return wr(e)},Ct.hydrate=function(e,n,i){if(!ea(n))throw Error(s(200));return ta(null,e,n,!0,i)},Ct.hydrateRoot=function(e,n,i){if(!Lc(e))throw Error(s(405));var c=i!=null&&i.hydratedSources||null,h=!1,m="",w=bp;if(i!=null&&(i.unstable_strictMode===!0&&(h=!0),i.identifierPrefix!==void 0&&(m=i.identifierPrefix),i.onRecoverableError!==void 0&&(w=i.onRecoverableError)),n=wp(n,null,e,1,i??null,h,!1,m,w),e[yn]=n.current,uo(e),c)for(e=0;e<c.length;e++)i=c[e],h=i._getVersion,h=h(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,h]:n.mutableSourceEagerHydrationData.push(i,h);return new Zi(n)},Ct.render=function(e,n,i){if(!ea(n))throw Error(s(200));return ta(null,e,n,!1,i)},Ct.unmountComponentAtNode=function(e){if(!ea(e))throw Error(s(40));return e._reactRootContainer?(wr(function(){ta(null,null,e,!1,function(){e._reactRootContainer=null,e[yn]=null})}),!0):!1},Ct.unstable_batchedUpdates=Cc,Ct.unstable_renderSubtreeIntoContainer=function(e,n,i,c){if(!ea(i))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return ta(e,n,i,!1,c)},Ct.version="18.3.1-next-f1338f8080-20240426",Ct}var Pp;function zm(){if(Pp)return Uc.exports;Pp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Uc.exports=J0(),Uc.exports}var Rp;function Q0(){if(Rp)return ra;Rp=1;var r=zm();return ra.createRoot=r.createRoot,ra.hydrateRoot=r.hydrateRoot,ra}var Y0=Q0(),x=Wu();const Yn=Vu(x),Bm=B0({__proto__:null,default:Yn},[x]),Bc={fire:[{id:"fire-1",title:"지하철 화재 발생 시 초기 대응",description:"지하철에서 화재가 발생했을 때 승무원이 취해야 할 초기 대응 방법을 학습합니다.",youtubeId:"dQw4w9WgXcQ",videoType:"youtube",duration:330,thumbnail:"https://img.youtube.com/vi/dQw4w9WgXcQ/mqdefault.jpg",category:"fire"},{id:"fire-2",title:"승객 대피 유도 방법",description:"화재 발생 시 승객을 안전하게 대피시키는 방법과 유의사항을 학습합니다.",youtubeId:"dQw4w9WgXcQ",videoType:"youtube",duration:435,thumbnail:"https://img.youtube.com/vi/dQw4w9WgXcQ/mqdefault.jpg",category:"fire"}],troubleshooting:[{id:"js-1",title:"JavaScript 변수와 데이터 타입",description:"JavaScript의 기본 변수 선언 방법과 다양한 데이터 타입에 대해 알아봅니다. let, const, var의 차이점과 원시 타입, 참조 타입의 특징을 학습합니다.",youtubeId:"W6NZfCO5SIk",videoType:"youtube",duration:1200,thumbnail:"https://img.youtube.com/vi/W6NZfCO5SIk/mqdefault.jpg",category:"troubleshooting"}],basic:[{id:"react-1",title:"React 시작하기",description:"React의 기본 개념과 컴포넌트 기반 개발 방식을 이해합니다. JSX 문법과 가상 DOM의 동작 원리를 학습합니다.",youtubeId:"Ke90Tje7VS0",videoType:"youtube",duration:1680,thumbnail:"https://img.youtube.com/vi/Ke90Tje7VS0/mqdefault.jpg",category:"react"},{id:"react-2",title:"State와 Props",description:"React 컴포넌트의 state와 props를 활용한 데이터 관리 방법을 학습합니다.",youtubeId:"O6P86uwfdR0",videoType:"youtube",duration:1440,thumbnail:"https://img.youtube.com/vi/O6P86uwfdR0/mqdefault.jpg",category:"react"},{id:"react-3",title:"React Hooks 완전정복",description:"useState, useEffect를 비롯한 다양한 React Hooks의 사용법을 마스터합니다.",youtubeId:"TNhaISOUy6Q",videoType:"youtube",duration:2400,thumbnail:"https://img.youtube.com/vi/TNhaISOUy6Q/mqdefault.jpg",category:"react"}]};function Vm(r){var t,s,o="";if(typeof r=="string"||typeof r=="number")o+=r;else if(typeof r=="object")if(Array.isArray(r)){var a=r.length;for(t=0;t<a;t++)r[t]&&(s=Vm(r[t]))&&(o&&(o+=" "),o+=s)}else for(s in r)r[s]&&(o&&(o+=" "),o+=s);return o}function Hu(){for(var r,t,s=0,o="",a=arguments.length;s<a;s++)(r=arguments[s])&&(t=Vm(r))&&(o&&(o+=" "),o+=t);return o}const Ku="-",X0=r=>{const t=ex(r),{conflictingClassGroups:s,conflictingClassGroupModifiers:o}=r;return{getClassGroupId:u=>{const f=u.split(Ku);return f[0]===""&&f.length!==1&&f.shift(),Wm(f,t)||Z0(u)},getConflictingClassGroupIds:(u,f)=>{const p=s[u]||[];return f&&o[u]?[...p,...o[u]]:p}}},Wm=(r,t)=>{if(r.length===0)return t.classGroupId;const s=r[0],o=t.nextPart.get(s),a=o?Wm(r.slice(1),o):void 0;if(a)return a;if(t.validators.length===0)return;const l=r.join(Ku);return t.validators.find(({validator:u})=>u(l))?.classGroupId},Op=/^\[(.+)\]$/,Z0=r=>{if(Op.test(r)){const t=Op.exec(r)[1],s=t?.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},ex=r=>{const{theme:t,classGroups:s}=r,o={nextPart:new Map,validators:[]};for(const a in s)uu(s[a],o,a,t);return o},uu=(r,t,s,o)=>{r.forEach(a=>{if(typeof a=="string"){const l=a===""?t:Ap(t,a);l.classGroupId=s;return}if(typeof a=="function"){if(tx(a)){uu(a(o),t,s,o);return}t.validators.push({validator:a,classGroupId:s});return}Object.entries(a).forEach(([l,u])=>{uu(u,Ap(t,l),s,o)})})},Ap=(r,t)=>{let s=r;return t.split(Ku).forEach(o=>{s.nextPart.has(o)||s.nextPart.set(o,{nextPart:new Map,validators:[]}),s=s.nextPart.get(o)}),s},tx=r=>r.isThemeGetter,nx=r=>{if(r<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,o=new Map;const a=(l,u)=>{s.set(l,u),t++,t>r&&(t=0,o=s,s=new Map)};return{get(l){let u=s.get(l);if(u!==void 0)return u;if((u=o.get(l))!==void 0)return a(l,u),u},set(l,u){s.has(l)?s.set(l,u):a(l,u)}}},du="!",fu=":",rx=fu.length,sx=r=>{const{prefix:t,experimentalParseClassName:s}=r;let o=a=>{const l=[];let u=0,f=0,p=0,g;for(let E=0;E<a.length;E++){let b=a[E];if(u===0&&f===0){if(b===fu){l.push(a.slice(p,E)),p=E+rx;continue}if(b==="/"){g=E;continue}}b==="["?u++:b==="]"?u--:b==="("?f++:b===")"&&f--}const v=l.length===0?a:a.substring(p),y=ox(v),_=y!==v,S=g&&g>p?g-p:void 0;return{modifiers:l,hasImportantModifier:_,baseClassName:y,maybePostfixModifierPosition:S}};if(t){const a=t+fu,l=o;o=u=>u.startsWith(a)?l(u.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(s){const a=o;o=l=>s({className:l,parseClassName:a})}return o},ox=r=>r.endsWith(du)?r.substring(0,r.length-1):r.startsWith(du)?r.substring(1):r,ix=r=>{const t=Object.fromEntries(r.orderSensitiveModifiers.map(o=>[o,!0]));return o=>{if(o.length<=1)return o;const a=[];let l=[];return o.forEach(u=>{u[0]==="["||t[u]?(a.push(...l.sort(),u),l=[]):l.push(u)}),a.push(...l.sort()),a}},ax=r=>({cache:nx(r.cacheSize),parseClassName:sx(r),sortModifiers:ix(r),...X0(r)}),lx=/\s+/,cx=(r,t)=>{const{parseClassName:s,getClassGroupId:o,getConflictingClassGroupIds:a,sortModifiers:l}=t,u=[],f=r.trim().split(lx);let p="";for(let g=f.length-1;g>=0;g-=1){const v=f[g],{isExternal:y,modifiers:_,hasImportantModifier:S,baseClassName:E,maybePostfixModifierPosition:b}=s(v);if(y){p=v+(p.length>0?" "+p:p);continue}let k=!!b,C=o(k?E.substring(0,b):E);if(!C){if(!k){p=v+(p.length>0?" "+p:p);continue}if(C=o(E),!C){p=v+(p.length>0?" "+p:p);continue}k=!1}const P=l(_).join(":"),R=S?P+du:P,T=R+C;if(u.includes(T))continue;u.push(T);const D=a(C,k);for(let B=0;B<D.length;++B){const F=D[B];u.push(R+F)}p=v+(p.length>0?" "+p:p)}return p};function ux(){let r=0,t,s,o="";for(;r<arguments.length;)(t=arguments[r++])&&(s=Hm(t))&&(o&&(o+=" "),o+=s);return o}const Hm=r=>{if(typeof r=="string")return r;let t,s="";for(let o=0;o<r.length;o++)r[o]&&(t=Hm(r[o]))&&(s&&(s+=" "),s+=t);return s};function dx(r,...t){let s,o,a,l=u;function u(p){const g=t.reduce((v,y)=>y(v),r());return s=ax(g),o=s.cache.get,a=s.cache.set,l=f,f(p)}function f(p){const g=o(p);if(g)return g;const v=cx(p,s);return a(p,v),v}return function(){return l(ux.apply(null,arguments))}}const rt=r=>{const t=s=>s[r]||[];return t.isThemeGetter=!0,t},Km=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,qm=/^\((?:(\w[\w-]*):)?(.+)\)$/i,fx=/^\d+\/\d+$/,hx=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,px=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,mx=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,gx=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,vx=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,cs=r=>fx.test(r),je=r=>!!r&&!Number.isNaN(Number(r)),Jn=r=>!!r&&Number.isInteger(Number(r)),Vc=r=>r.endsWith("%")&&je(r.slice(0,-1)),jn=r=>hx.test(r),yx=()=>!0,wx=r=>px.test(r)&&!mx.test(r),Gm=()=>!1,xx=r=>gx.test(r),bx=r=>vx.test(r),_x=r=>!ue(r)&&!de(r),Sx=r=>Ls(r,Ym,Gm),ue=r=>Km.test(r),Sr=r=>Ls(r,Xm,wx),Wc=r=>Ls(r,Nx,je),Ip=r=>Ls(r,Jm,Gm),kx=r=>Ls(r,Qm,bx),sa=r=>Ls(r,Zm,xx),de=r=>qm.test(r),Po=r=>$s(r,Xm),Ex=r=>$s(r,Tx),Dp=r=>$s(r,Jm),jx=r=>$s(r,Ym),Cx=r=>$s(r,Qm),oa=r=>$s(r,Zm,!0),Ls=(r,t,s)=>{const o=Km.exec(r);return o?o[1]?t(o[1]):s(o[2]):!1},$s=(r,t,s=!1)=>{const o=qm.exec(r);return o?o[1]?t(o[1]):s:!1},Jm=r=>r==="position"||r==="percentage",Qm=r=>r==="image"||r==="url",Ym=r=>r==="length"||r==="size"||r==="bg-size",Xm=r=>r==="length",Nx=r=>r==="number",Tx=r=>r==="family-name",Zm=r=>r==="shadow",Px=()=>{const r=rt("color"),t=rt("font"),s=rt("text"),o=rt("font-weight"),a=rt("tracking"),l=rt("leading"),u=rt("breakpoint"),f=rt("container"),p=rt("spacing"),g=rt("radius"),v=rt("shadow"),y=rt("inset-shadow"),_=rt("text-shadow"),S=rt("drop-shadow"),E=rt("blur"),b=rt("perspective"),k=rt("aspect"),C=rt("ease"),P=rt("animate"),R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],D=()=>[...T(),de,ue],B=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto","contain","none"],z=()=>[de,ue,p],W=()=>[cs,"full","auto",...z()],J=()=>[Jn,"none","subgrid",de,ue],te=()=>["auto",{span:["full",Jn,de,ue]},Jn,de,ue],Y=()=>[Jn,"auto",de,ue],re=()=>["auto","min","max","fr",de,ue],H=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],oe=()=>["start","end","center","stretch","center-safe","end-safe"],Z=()=>["auto",...z()],ne=()=>[cs,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...z()],j=()=>[r,de,ue],U=()=>[...T(),Dp,Ip,{position:[de,ue]}],K=()=>["no-repeat",{repeat:["","x","y","space","round"]}],A=()=>["auto","cover","contain",jx,Sx,{size:[de,ue]}],V=()=>[Vc,Po,Sr],le=()=>["","none","full",g,de,ue],ae=()=>["",je,Po,Sr],xe=()=>["solid","dashed","dotted","double"],Se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>[je,Vc,Dp,Ip],pe=()=>["","none",E,de,ue],we=()=>["none",je,de,ue],be=()=>["none",je,de,ue],Re=()=>[je,de,ue],$e=()=>[cs,"full",...z()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[jn],breakpoint:[jn],color:[yx],container:[jn],"drop-shadow":[jn],ease:["in","out","in-out"],font:[_x],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[jn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[jn],shadow:[jn],spacing:["px",je],text:[jn],"text-shadow":[jn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",cs,ue,de,k]}],container:["container"],columns:[{columns:[je,ue,de,f]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:D()}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:W()}],"inset-x":[{"inset-x":W()}],"inset-y":[{"inset-y":W()}],start:[{start:W()}],end:[{end:W()}],top:[{top:W()}],right:[{right:W()}],bottom:[{bottom:W()}],left:[{left:W()}],visibility:["visible","invisible","collapse"],z:[{z:[Jn,"auto",de,ue]}],basis:[{basis:[cs,"full","auto",f,...z()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[je,cs,"auto","initial","none",ue]}],grow:[{grow:["",je,de,ue]}],shrink:[{shrink:["",je,de,ue]}],order:[{order:[Jn,"first","last","none",de,ue]}],"grid-cols":[{"grid-cols":J()}],"col-start-end":[{col:te()}],"col-start":[{"col-start":Y()}],"col-end":[{"col-end":Y()}],"grid-rows":[{"grid-rows":J()}],"row-start-end":[{row:te()}],"row-start":[{"row-start":Y()}],"row-end":[{"row-end":Y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":re()}],"auto-rows":[{"auto-rows":re()}],gap:[{gap:z()}],"gap-x":[{"gap-x":z()}],"gap-y":[{"gap-y":z()}],"justify-content":[{justify:[...H(),"normal"]}],"justify-items":[{"justify-items":[...oe(),"normal"]}],"justify-self":[{"justify-self":["auto",...oe()]}],"align-content":[{content:["normal",...H()]}],"align-items":[{items:[...oe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...oe(),{baseline:["","last"]}]}],"place-content":[{"place-content":H()}],"place-items":[{"place-items":[...oe(),"baseline"]}],"place-self":[{"place-self":["auto",...oe()]}],p:[{p:z()}],px:[{px:z()}],py:[{py:z()}],ps:[{ps:z()}],pe:[{pe:z()}],pt:[{pt:z()}],pr:[{pr:z()}],pb:[{pb:z()}],pl:[{pl:z()}],m:[{m:Z()}],mx:[{mx:Z()}],my:[{my:Z()}],ms:[{ms:Z()}],me:[{me:Z()}],mt:[{mt:Z()}],mr:[{mr:Z()}],mb:[{mb:Z()}],ml:[{ml:Z()}],"space-x":[{"space-x":z()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":z()}],"space-y-reverse":["space-y-reverse"],size:[{size:ne()}],w:[{w:[f,"screen",...ne()]}],"min-w":[{"min-w":[f,"screen","none",...ne()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...ne()]}],h:[{h:["screen","lh",...ne()]}],"min-h":[{"min-h":["screen","lh","none",...ne()]}],"max-h":[{"max-h":["screen","lh",...ne()]}],"font-size":[{text:["base",s,Po,Sr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,de,Wc]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Vc,ue]}],"font-family":[{font:[Ex,ue,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,de,ue]}],"line-clamp":[{"line-clamp":[je,"none",de,Wc]}],leading:[{leading:[l,...z()]}],"list-image":[{"list-image":["none",de,ue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",de,ue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:j()}],"text-color":[{text:j()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...xe(),"wavy"]}],"text-decoration-thickness":[{decoration:[je,"from-font","auto",de,Sr]}],"text-decoration-color":[{decoration:j()}],"underline-offset":[{"underline-offset":[je,"auto",de,ue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",de,ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",de,ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:U()}],"bg-repeat":[{bg:K()}],"bg-size":[{bg:A()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Jn,de,ue],radial:["",de,ue],conic:[Jn,de,ue]},Cx,kx]}],"bg-color":[{bg:j()}],"gradient-from-pos":[{from:V()}],"gradient-via-pos":[{via:V()}],"gradient-to-pos":[{to:V()}],"gradient-from":[{from:j()}],"gradient-via":[{via:j()}],"gradient-to":[{to:j()}],rounded:[{rounded:le()}],"rounded-s":[{"rounded-s":le()}],"rounded-e":[{"rounded-e":le()}],"rounded-t":[{"rounded-t":le()}],"rounded-r":[{"rounded-r":le()}],"rounded-b":[{"rounded-b":le()}],"rounded-l":[{"rounded-l":le()}],"rounded-ss":[{"rounded-ss":le()}],"rounded-se":[{"rounded-se":le()}],"rounded-ee":[{"rounded-ee":le()}],"rounded-es":[{"rounded-es":le()}],"rounded-tl":[{"rounded-tl":le()}],"rounded-tr":[{"rounded-tr":le()}],"rounded-br":[{"rounded-br":le()}],"rounded-bl":[{"rounded-bl":le()}],"border-w":[{border:ae()}],"border-w-x":[{"border-x":ae()}],"border-w-y":[{"border-y":ae()}],"border-w-s":[{"border-s":ae()}],"border-w-e":[{"border-e":ae()}],"border-w-t":[{"border-t":ae()}],"border-w-r":[{"border-r":ae()}],"border-w-b":[{"border-b":ae()}],"border-w-l":[{"border-l":ae()}],"divide-x":[{"divide-x":ae()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ae()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...xe(),"hidden","none"]}],"divide-style":[{divide:[...xe(),"hidden","none"]}],"border-color":[{border:j()}],"border-color-x":[{"border-x":j()}],"border-color-y":[{"border-y":j()}],"border-color-s":[{"border-s":j()}],"border-color-e":[{"border-e":j()}],"border-color-t":[{"border-t":j()}],"border-color-r":[{"border-r":j()}],"border-color-b":[{"border-b":j()}],"border-color-l":[{"border-l":j()}],"divide-color":[{divide:j()}],"outline-style":[{outline:[...xe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[je,de,ue]}],"outline-w":[{outline:["",je,Po,Sr]}],"outline-color":[{outline:j()}],shadow:[{shadow:["","none",v,oa,sa]}],"shadow-color":[{shadow:j()}],"inset-shadow":[{"inset-shadow":["none",y,oa,sa]}],"inset-shadow-color":[{"inset-shadow":j()}],"ring-w":[{ring:ae()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:j()}],"ring-offset-w":[{"ring-offset":[je,Sr]}],"ring-offset-color":[{"ring-offset":j()}],"inset-ring-w":[{"inset-ring":ae()}],"inset-ring-color":[{"inset-ring":j()}],"text-shadow":[{"text-shadow":["none",_,oa,sa]}],"text-shadow-color":[{"text-shadow":j()}],opacity:[{opacity:[je,de,ue]}],"mix-blend":[{"mix-blend":[...Se(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Se()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[je]}],"mask-image-linear-from-pos":[{"mask-linear-from":X()}],"mask-image-linear-to-pos":[{"mask-linear-to":X()}],"mask-image-linear-from-color":[{"mask-linear-from":j()}],"mask-image-linear-to-color":[{"mask-linear-to":j()}],"mask-image-t-from-pos":[{"mask-t-from":X()}],"mask-image-t-to-pos":[{"mask-t-to":X()}],"mask-image-t-from-color":[{"mask-t-from":j()}],"mask-image-t-to-color":[{"mask-t-to":j()}],"mask-image-r-from-pos":[{"mask-r-from":X()}],"mask-image-r-to-pos":[{"mask-r-to":X()}],"mask-image-r-from-color":[{"mask-r-from":j()}],"mask-image-r-to-color":[{"mask-r-to":j()}],"mask-image-b-from-pos":[{"mask-b-from":X()}],"mask-image-b-to-pos":[{"mask-b-to":X()}],"mask-image-b-from-color":[{"mask-b-from":j()}],"mask-image-b-to-color":[{"mask-b-to":j()}],"mask-image-l-from-pos":[{"mask-l-from":X()}],"mask-image-l-to-pos":[{"mask-l-to":X()}],"mask-image-l-from-color":[{"mask-l-from":j()}],"mask-image-l-to-color":[{"mask-l-to":j()}],"mask-image-x-from-pos":[{"mask-x-from":X()}],"mask-image-x-to-pos":[{"mask-x-to":X()}],"mask-image-x-from-color":[{"mask-x-from":j()}],"mask-image-x-to-color":[{"mask-x-to":j()}],"mask-image-y-from-pos":[{"mask-y-from":X()}],"mask-image-y-to-pos":[{"mask-y-to":X()}],"mask-image-y-from-color":[{"mask-y-from":j()}],"mask-image-y-to-color":[{"mask-y-to":j()}],"mask-image-radial":[{"mask-radial":[de,ue]}],"mask-image-radial-from-pos":[{"mask-radial-from":X()}],"mask-image-radial-to-pos":[{"mask-radial-to":X()}],"mask-image-radial-from-color":[{"mask-radial-from":j()}],"mask-image-radial-to-color":[{"mask-radial-to":j()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":T()}],"mask-image-conic-pos":[{"mask-conic":[je]}],"mask-image-conic-from-pos":[{"mask-conic-from":X()}],"mask-image-conic-to-pos":[{"mask-conic-to":X()}],"mask-image-conic-from-color":[{"mask-conic-from":j()}],"mask-image-conic-to-color":[{"mask-conic-to":j()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:U()}],"mask-repeat":[{mask:K()}],"mask-size":[{mask:A()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",de,ue]}],filter:[{filter:["","none",de,ue]}],blur:[{blur:pe()}],brightness:[{brightness:[je,de,ue]}],contrast:[{contrast:[je,de,ue]}],"drop-shadow":[{"drop-shadow":["","none",S,oa,sa]}],"drop-shadow-color":[{"drop-shadow":j()}],grayscale:[{grayscale:["",je,de,ue]}],"hue-rotate":[{"hue-rotate":[je,de,ue]}],invert:[{invert:["",je,de,ue]}],saturate:[{saturate:[je,de,ue]}],sepia:[{sepia:["",je,de,ue]}],"backdrop-filter":[{"backdrop-filter":["","none",de,ue]}],"backdrop-blur":[{"backdrop-blur":pe()}],"backdrop-brightness":[{"backdrop-brightness":[je,de,ue]}],"backdrop-contrast":[{"backdrop-contrast":[je,de,ue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",je,de,ue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[je,de,ue]}],"backdrop-invert":[{"backdrop-invert":["",je,de,ue]}],"backdrop-opacity":[{"backdrop-opacity":[je,de,ue]}],"backdrop-saturate":[{"backdrop-saturate":[je,de,ue]}],"backdrop-sepia":[{"backdrop-sepia":["",je,de,ue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":z()}],"border-spacing-x":[{"border-spacing-x":z()}],"border-spacing-y":[{"border-spacing-y":z()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",de,ue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[je,"initial",de,ue]}],ease:[{ease:["linear","initial",C,de,ue]}],delay:[{delay:[je,de,ue]}],animate:[{animate:["none",P,de,ue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,de,ue]}],"perspective-origin":[{"perspective-origin":D()}],rotate:[{rotate:we()}],"rotate-x":[{"rotate-x":we()}],"rotate-y":[{"rotate-y":we()}],"rotate-z":[{"rotate-z":we()}],scale:[{scale:be()}],"scale-x":[{"scale-x":be()}],"scale-y":[{"scale-y":be()}],"scale-z":[{"scale-z":be()}],"scale-3d":["scale-3d"],skew:[{skew:Re()}],"skew-x":[{"skew-x":Re()}],"skew-y":[{"skew-y":Re()}],transform:[{transform:[de,ue,"","none","gpu","cpu"]}],"transform-origin":[{origin:D()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:$e()}],"translate-x":[{"translate-x":$e()}],"translate-y":[{"translate-y":$e()}],"translate-z":[{"translate-z":$e()}],"translate-none":["translate-none"],accent:[{accent:j()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:j()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",de,ue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",de,ue]}],fill:[{fill:["none",...j()]}],"stroke-w":[{stroke:[je,Po,Sr,Wc]}],stroke:[{stroke:["none",...j()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},eg=dx(Px);function Ne(...r){return eg(Hu(r))}function ct({className:r,...t}){return d.jsx("div",{"data-slot":"card",className:Ne("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",r),...t})}function Vt({className:r,...t}){return d.jsx("div",{"data-slot":"card-header",className:Ne("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",r),...t})}function Wt({className:r,...t}){return d.jsx("h4",{"data-slot":"card-title",className:Ne("leading-none",r),...t})}function Pr({className:r,...t}){return d.jsx("p",{"data-slot":"card-description",className:Ne("text-muted-foreground",r),...t})}function ht({className:r,...t}){return d.jsx("div",{"data-slot":"card-content",className:Ne("px-6 [&:last-child]:pb-6",r),...t})}function Lp(r,t){if(typeof r=="function")return r(t);r!=null&&(r.current=t)}function tg(...r){return t=>{let s=!1;const o=r.map(a=>{const l=Lp(a,t);return!s&&typeof l=="function"&&(s=!0),l});if(s)return()=>{for(let a=0;a<o.length;a++){const l=o[a];typeof l=="function"?l():Lp(r[a],null)}}}}function Ue(...r){return x.useCallback(tg(...r),r)}function Rs(r){const t=Rx(r),s=x.forwardRef((o,a)=>{const{children:l,...u}=o,f=x.Children.toArray(l),p=f.find(Ax);if(p){const g=p.props.children,v=f.map(y=>y===p?x.Children.count(g)>1?x.Children.only(null):x.isValidElement(g)?g.props.children:null:y);return d.jsx(t,{...u,ref:a,children:x.isValidElement(g)?x.cloneElement(g,void 0,v):null})}return d.jsx(t,{...u,ref:a,children:l})});return s.displayName=`${r}.Slot`,s}var ng=Rs("Slot");function Rx(r){const t=x.forwardRef((s,o)=>{const{children:a,...l}=s;if(x.isValidElement(a)){const u=Dx(a),f=Ix(l,a.props);return a.type!==x.Fragment&&(f.ref=o?tg(o,u):u),x.cloneElement(a,f)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${r}.SlotClone`,t}var Ox=Symbol("radix.slottable");function Ax(r){return x.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===Ox}function Ix(r,t){const s={...t};for(const o in t){const a=r[o],l=t[o];/^on[A-Z]/.test(o)?a&&l?s[o]=(...f)=>{const p=l(...f);return a(...f),p}:a&&(s[o]=a):o==="style"?s[o]={...a,...l}:o==="className"&&(s[o]=[a,l].filter(Boolean).join(" "))}return{...r,...s}}function Dx(r){let t=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?r.ref:(t=Object.getOwnPropertyDescriptor(r,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?r.props.ref:r.props.ref||r.ref)}const $p=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,Mp=Hu,qu=(r,t)=>s=>{var o;if(t?.variants==null)return Mp(r,s?.class,s?.className);const{variants:a,defaultVariants:l}=t,u=Object.keys(a).map(g=>{const v=s?.[g],y=l?.[g];if(v===null)return null;const _=$p(v)||$p(y);return a[g][_]}),f=s&&Object.entries(s).reduce((g,v)=>{let[y,_]=v;return _===void 0||(g[y]=_),g},{}),p=t==null||(o=t.compoundVariants)===null||o===void 0?void 0:o.reduce((g,v)=>{let{class:y,className:_,...S}=v;return Object.entries(S).every(E=>{let[b,k]=E;return Array.isArray(k)?k.includes({...l,...f}[b]):{...l,...f}[b]===k})?[...g,y,_]:g},[]);return Mp(r,u,p,s?.class,s?.className)},Lx=qu("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function nn({className:r,variant:t,asChild:s=!1,...o}){const a=s?ng:"span";return d.jsx(a,{"data-slot":"badge",className:Ne(Lx({variant:t}),r),...o})}const $x=({topic:r,onSelect:t})=>d.jsxs(ct,{className:"cursor-pointer hover:shadow-lg transition-shadow duration-200 overflow-hidden",onClick:()=>t(r.id),children:[d.jsx("div",{className:"aspect-video w-full overflow-hidden",children:d.jsx("img",{src:r.thumbnail,alt:r.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-200"})}),d.jsxs(ht,{className:"p-4",children:[d.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[d.jsx("h3",{className:"line-clamp-1",children:r.title}),d.jsxs(nn,{variant:"secondary",className:"shrink-0",children:[r.videoCount,"개"]})]}),d.jsx("p",{className:"text-muted-foreground line-clamp-2",children:r.description})]})]});function Mx(r,t){const s=x.createContext(t),o=l=>{const{children:u,...f}=l,p=x.useMemo(()=>f,Object.values(f));return d.jsx(s.Provider,{value:p,children:u})};o.displayName=r+"Provider";function a(l){const u=x.useContext(s);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${r}\``)}return[o,a]}function or(r,t=[]){let s=[];function o(l,u){const f=x.createContext(u),p=s.length;s=[...s,u];const g=y=>{const{scope:_,children:S,...E}=y,b=_?.[r]?.[p]||f,k=x.useMemo(()=>E,Object.values(E));return d.jsx(b.Provider,{value:k,children:S})};g.displayName=l+"Provider";function v(y,_){const S=_?.[r]?.[p]||f,E=x.useContext(S);if(E)return E;if(u!==void 0)return u;throw new Error(`\`${y}\` must be used within \`${l}\``)}return[g,v]}const a=()=>{const l=s.map(u=>x.createContext(u));return function(f){const p=f?.[r]||l;return x.useMemo(()=>({[`__scope${r}`]:{...f,[r]:p}}),[f,p])}};return a.scopeName=r,[o,Ux(a,...t)]}function Ux(...r){const t=r[0];if(r.length===1)return t;const s=()=>{const o=r.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const u=o.reduce((f,{useScope:p,scopeName:g})=>{const y=p(l)[`__scope${g}`];return{...f,...y}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return s.scopeName=t.scopeName,s}var Vo=zm();const Fx=Vu(Vo);var zx=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ee=zx.reduce((r,t)=>{const s=Rs(`Primitive.${t}`),o=x.forwardRef((a,l)=>{const{asChild:u,...f}=a,p=u?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(p,{...f,ref:l})});return o.displayName=`Primitive.${t}`,{...r,[t]:o}},{});function Bx(r,t){r&&Vo.flushSync(()=>r.dispatchEvent(t))}var Gu="Progress",Ju=100,[Vx]=or(Gu),[Wx,Hx]=Vx(Gu),rg=x.forwardRef((r,t)=>{const{__scopeProgress:s,value:o=null,max:a,getValueLabel:l=Kx,...u}=r;(a||a===0)&&!Up(a)&&console.error(qx(`${a}`,"Progress"));const f=Up(a)?a:Ju;o!==null&&!Fp(o,f)&&console.error(Gx(`${o}`,"Progress"));const p=Fp(o,f)?o:null,g=xa(p)?l(p,f):void 0;return d.jsx(Wx,{scope:s,value:p,max:f,children:d.jsx(Ee.div,{"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":xa(p)?p:void 0,"aria-valuetext":g,role:"progressbar","data-state":ig(p,f),"data-value":p??void 0,"data-max":f,...u,ref:t})})});rg.displayName=Gu;var sg="ProgressIndicator",og=x.forwardRef((r,t)=>{const{__scopeProgress:s,...o}=r,a=Hx(sg,s);return d.jsx(Ee.div,{"data-state":ig(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...o,ref:t})});og.displayName=sg;function Kx(r,t){return`${Math.round(r/t*100)}%`}function ig(r,t){return r==null?"indeterminate":r===t?"complete":"loading"}function xa(r){return typeof r=="number"}function Up(r){return xa(r)&&!isNaN(r)&&r>0}function Fp(r,t){return xa(r)&&!isNaN(r)&&r<=t&&r>=0}function qx(r,t){return`Invalid prop \`max\` of value \`${r}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Ju}\`.`}function Gx(r,t){return`Invalid prop \`value\` of value \`${r}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Ju} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var ag=rg,Jx=og;function Qx(...r){return eg(Hu(r))}const Os=x.forwardRef(({className:r,value:t,...s},o)=>d.jsx(ag,{ref:o,className:Qx("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",r),...s,children:d.jsx(Jx,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Os.displayName=ag.displayName;const Me="nkowcjmjqaszwtrvgedt",We="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5rb3djam1qcWFzend0cnZnZWR0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAwOTk3MTMsImV4cCI6MjA3NTY3NTcxM30.y3wgX9ndQFrplUT8A7C0unZbe6E-H1Ygz1hpiJW2am4",Yx=()=>{let r=localStorage.getItem("learningHubUserId");return r||(r=`user_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("learningHubUserId",r)),r},zp=async(r,t,s,o)=>{const a=Yx();console.log("💾 progressTracker.saveProgress called:",{userId:a,videoId:r,categoryId:t,progress:s,watchTime:o});const l=`progress_${r}`,u={userId:a,videoId:r,categoryId:t,progress:s,watchTime:o,lastWatched:new Date().toISOString()};localStorage.setItem(l,JSON.stringify(u)),console.log("✅ Saved to localStorage with key:",l);try{const f=Date.now();console.log("🌐 Attempting backend save to:",`https://${Me}.supabase.co/functions/v1/make-server-a8898ff1/progress?v=${f}`);const p=await fetch(`https://${Me}.supabase.co/functions/v1/make-server-a8898ff1/progress?v=${f}`,{method:"POST",cache:"no-store",headers:{"Content-Type":"application/json",Authorization:`Bearer ${We}`,"Cache-Control":"no-cache"},body:JSON.stringify({userId:a,videoId:r,categoryId:t,progress:s,watchTime:o})});p.ok?console.log("✅ Backend save successful"):console.error("❌ Backend save failed with status:",p.status)}catch(f){console.error("❌ Backend save error:",f)}},Qu=()=>{const[r,t]=x.useState({}),s=()=>{const f=localStorage.getItem("currentUser");if(f)try{return JSON.parse(f)}catch(p){console.error("Failed to parse current user:",p)}return null};x.useEffect(()=>{const f=s(),p=f?`video-progress-${f.employeeId}`:"video-progress",g=localStorage.getItem(p);if(g)try{t(JSON.parse(g))}catch(v){console.error("Failed to parse progress data:",v)}else t({})},[]);const o=x.useCallback(f=>{const p=s(),g=p?`video-progress-${p.employeeId}`:"video-progress";localStorage.setItem(g,JSON.stringify(f)),t(f)},[]),a=x.useCallback(async(f,p,g,v)=>{const y=p>=g*.9,_=Math.min(p/g*100,100);console.log("💾 Saving progress:",{videoId:f,watchedSeconds:p,totalDuration:g,progressPercentage:_.toFixed(1)+"%",categoryId:v,completed:y});const S={videoId:f,watchedSeconds:p,completed:y,lastWatchedAt:new Date().toISOString()},E={...r,[f]:S};if(o(E),console.log("✅ Saved to localStorage"),v)try{console.log("🌐 Attempting backend save..."),await zp(f,v,_,p),console.log("✅ Backend save successful")}catch(b){console.error("❌ Failed to save progress to backend:",b)}else console.log("⚠️ No categoryId provided, skipping backend save")},[r,zp]),l=x.useCallback(f=>r[f]||null,[r]),u=x.useCallback((f,p)=>{const g=l(f);return g?Math.min(g.watchedSeconds/p*100,100):0},[l]);return{updateProgress:a,getProgress:l,getProgressPercentage:u,progressData:r}};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Zx=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,s,o)=>o?o.toUpperCase():s.toLowerCase()),Bp=r=>{const t=Zx(r);return t.charAt(0).toUpperCase()+t.slice(1)},lg=(...r)=>r.filter((t,s,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===s).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=x.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,iconNode:u,...f},p)=>x.createElement("svg",{ref:p,...eb,width:t,height:t,stroke:r,strokeWidth:o?Number(s)*24/Number(t):s,className:lg("lucide",a),...f},[...u.map(([g,v])=>x.createElement(g,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=(r,t)=>{const s=x.forwardRef(({className:o,...a},l)=>x.createElement(tb,{ref:l,iconNode:t,className:lg(`lucide-${Xx(Bp(r))}`,`lucide-${r}`,o),...a}));return s.displayName=Bp(r),s};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Yu=Pe("arrow-left",nb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],sb=Pe("check",rb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],cg=Pe("chevron-down",ob);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ab=Pe("chevron-up",ib);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],cb=Pe("circle-alert",lb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ug=Pe("circle-check-big",ub);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],dg=Pe("circle-play",db);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],hu=Pe("clock",fb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],pu=Pe("external-link",hb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mb=Pe("eye",pb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]],ia=Pe("file-video",gb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],fg=Pe("folder-open",vb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Vp=Pe("info",yb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],hg=Pe("log-out",wb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],bb=Pe("maximize",xb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],Sb=Pe("pause",_b);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],mu=Pe("play",kb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Xu=Pe("plus",Eb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Cb=Pe("refresh-ccw",jb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Tb=Pe("rotate-ccw",Nb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Rb=Pe("search",Pb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pg=Pe("settings",Ob);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ib=Pe("shield",Ab);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Zu=Pe("square-pen",Db);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ed=Pe("trash-2",Lb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Mb=Pe("triangle-alert",$b);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],mg=Pe("upload",Ub);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],gg=Pe("user",Fb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],vg=Pe("users",zb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],yg=Pe("video",Bb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Wb=Pe("volume-2",Vb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],Kb=Pe("volume-x",Hb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wg=Pe("x",qb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],Hc=Pe("youtube",Gb),Jb=({video:r,onSelect:t})=>{const{getProgressPercentage:s,getProgress:o}=Qu(),a=s(r.id,r.duration),u=o(r.id)?.completed||!1,f=p=>{const g=Math.floor(p/60),v=p%60;return`${g}:${v.toString().padStart(2,"0")}`};return d.jsx(ct,{className:"cursor-pointer hover:shadow-md transition-shadow duration-200 overflow-hidden",onClick:()=>t(r),children:d.jsxs("div",{className:"flex gap-4 p-4",children:[d.jsxs("div",{className:"relative flex-shrink-0",children:[d.jsx("div",{className:"w-40 h-24 rounded-lg overflow-hidden bg-muted",children:d.jsx("img",{src:r.thumbnail,alt:r.title,className:"w-full h-full object-cover"})}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u?d.jsx(ug,{className:"w-8 h-8 text-green-500"}):d.jsx(dg,{className:"w-8 h-8 text-white/90"})}),d.jsx(nn,{variant:"secondary",className:"absolute bottom-1 right-1 text-xs",children:f(r.duration)})]}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[d.jsx("h3",{className:"line-clamp-2 flex-1",children:r.title}),u&&d.jsx(nn,{variant:"default",className:"shrink-0 bg-green-500",children:"완료"})]}),d.jsx("p",{className:"text-muted-foreground line-clamp-2 mb-3",children:r.description}),a>0&&d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"시청 진행률"}),d.jsxs("span",{className:"text-sm",children:[Math.round(a),"%"]})]}),d.jsx(Os,{value:a,className:"h-2"})]})]})]})})},Qb=qu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Te({className:r,variant:t,size:s,asChild:o=!1,...a}){const l=o?ng:"button";return d.jsx(l,{"data-slot":"button",className:Ne(Qb({variant:t,size:s,className:r})),...a})}function ba(r,[t,s]){return Math.min(s,Math.max(t,r))}function ke(r,t,{checkForDefaultPrevented:s=!0}={}){return function(a){if(r?.(a),s===!1||!a.defaultPrevented)return t?.(a)}}var wt=globalThis?.document?x.useLayoutEffect:()=>{},Yb=Bm[" useInsertionEffect ".trim().toString()]||wt;function As({prop:r,defaultProp:t,onChange:s=()=>{},caller:o}){const[a,l,u]=Xb({defaultProp:t,onChange:s}),f=r!==void 0,p=f?r:a;{const v=x.useRef(r!==void 0);x.useEffect(()=>{const y=v.current;y!==f&&console.warn(`${o} is changing from ${y?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=f},[f,o])}const g=x.useCallback(v=>{if(f){const y=Zb(v)?v(r):v;y!==r&&u.current?.(y)}else l(v)},[f,r,l,u]);return[p,g]}function Xb({defaultProp:r,onChange:t}){const[s,o]=x.useState(r),a=x.useRef(s),l=x.useRef(t);return Yb(()=>{l.current=t},[t]),x.useEffect(()=>{a.current!==s&&(l.current?.(s),a.current=s)},[s,a]),[s,o,l]}function Zb(r){return typeof r=="function"}var e_=x.createContext(void 0);function Oa(r){const t=x.useContext(e_);return r||t||"ltr"}function xg(r){const t=x.useRef({value:r,previous:r});return x.useMemo(()=>(t.current.value!==r&&(t.current.previous=t.current.value,t.current.value=r),t.current.previous),[r])}function bg(r){const[t,s]=x.useState(void 0);return wt(()=>{if(r){s({width:r.offsetWidth,height:r.offsetHeight});const o=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const l=a[0];let u,f;if("borderBoxSize"in l){const p=l.borderBoxSize,g=Array.isArray(p)?p[0]:p;u=g.inlineSize,f=g.blockSize}else u=r.offsetWidth,f=r.offsetHeight;s({width:u,height:f})});return o.observe(r,{box:"border-box"}),()=>o.unobserve(r)}else s(void 0)},[r]),t}function td(r){const t=r+"CollectionProvider",[s,o]=or(t),[a,l]=s(t,{collectionRef:{current:null},itemMap:new Map}),u=b=>{const{scope:k,children:C}=b,P=Yn.useRef(null),R=Yn.useRef(new Map).current;return d.jsx(a,{scope:k,itemMap:R,collectionRef:P,children:C})};u.displayName=t;const f=r+"CollectionSlot",p=Rs(f),g=Yn.forwardRef((b,k)=>{const{scope:C,children:P}=b,R=l(f,C),T=Ue(k,R.collectionRef);return d.jsx(p,{ref:T,children:P})});g.displayName=f;const v=r+"CollectionItemSlot",y="data-radix-collection-item",_=Rs(v),S=Yn.forwardRef((b,k)=>{const{scope:C,children:P,...R}=b,T=Yn.useRef(null),D=Ue(k,T),B=l(v,C);return Yn.useEffect(()=>(B.itemMap.set(T,{ref:T,...R}),()=>void B.itemMap.delete(T))),d.jsx(_,{[y]:"",ref:D,children:P})});S.displayName=v;function E(b){const k=l(r+"CollectionConsumer",b);return Yn.useCallback(()=>{const P=k.collectionRef.current;if(!P)return[];const R=Array.from(P.querySelectorAll(`[${y}]`));return Array.from(k.itemMap.values()).sort((B,F)=>R.indexOf(B.ref.current)-R.indexOf(F.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:u,Slot:g,ItemSlot:S},E,o]}var _g=["PageUp","PageDown"],Sg=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],kg={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Ms="Slider",[gu,t_,n_]=td(Ms),[Eg]=or(Ms,[n_]),[r_,Aa]=Eg(Ms),jg=x.forwardRef((r,t)=>{const{name:s,min:o=0,max:a=100,step:l=1,orientation:u="horizontal",disabled:f=!1,minStepsBetweenThumbs:p=0,defaultValue:g=[o],value:v,onValueChange:y=()=>{},onValueCommit:_=()=>{},inverted:S=!1,form:E,...b}=r,k=x.useRef(new Set),C=x.useRef(0),R=u==="horizontal"?s_:o_,[T=[],D]=As({prop:v,defaultProp:g,onChange:te=>{[...k.current][C.current]?.focus(),y(te)}}),B=x.useRef(T);function F(te){const Y=u_(T,te);J(te,Y)}function z(te){J(te,C.current)}function W(){const te=B.current[C.current];T[C.current]!==te&&_(T)}function J(te,Y,{commit:re}={commit:!1}){const H=p_(l),oe=m_(Math.round((te-o)/l)*l+o,H),Z=ba(oe,[o,a]);D((ne=[])=>{const j=l_(ne,Z,Y);if(h_(j,p*l)){C.current=j.indexOf(Z);const U=String(j)!==String(ne);return U&&re&&_(j),U?j:ne}else return ne})}return d.jsx(r_,{scope:r.__scopeSlider,name:s,disabled:f,min:o,max:a,valueIndexToChangeRef:C,thumbs:k.current,values:T,orientation:u,form:E,children:d.jsx(gu.Provider,{scope:r.__scopeSlider,children:d.jsx(gu.Slot,{scope:r.__scopeSlider,children:d.jsx(R,{"aria-disabled":f,"data-disabled":f?"":void 0,...b,ref:t,onPointerDown:ke(b.onPointerDown,()=>{f||(B.current=T)}),min:o,max:a,inverted:S,onSlideStart:f?void 0:F,onSlideMove:f?void 0:z,onSlideEnd:f?void 0:W,onHomeKeyDown:()=>!f&&J(o,0,{commit:!0}),onEndKeyDown:()=>!f&&J(a,T.length-1,{commit:!0}),onStepKeyDown:({event:te,direction:Y})=>{if(!f){const oe=_g.includes(te.key)||te.shiftKey&&Sg.includes(te.key)?10:1,Z=C.current,ne=T[Z],j=l*oe*Y;J(ne+j,Z,{commit:!0})}}})})})})});jg.displayName=Ms;var[Cg,Ng]=Eg(Ms,{startEdge:"left",endEdge:"right",size:"width",direction:1}),s_=x.forwardRef((r,t)=>{const{min:s,max:o,dir:a,inverted:l,onSlideStart:u,onSlideMove:f,onSlideEnd:p,onStepKeyDown:g,...v}=r,[y,_]=x.useState(null),S=Ue(t,R=>_(R)),E=x.useRef(void 0),b=Oa(a),k=b==="ltr",C=k&&!l||!k&&l;function P(R){const T=E.current||y.getBoundingClientRect(),D=[0,T.width],F=nd(D,C?[s,o]:[o,s]);return E.current=T,F(R-T.left)}return d.jsx(Cg,{scope:r.__scopeSlider,startEdge:C?"left":"right",endEdge:C?"right":"left",direction:C?1:-1,size:"width",children:d.jsx(Tg,{dir:b,"data-orientation":"horizontal",...v,ref:S,style:{...v.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:R=>{const T=P(R.clientX);u?.(T)},onSlideMove:R=>{const T=P(R.clientX);f?.(T)},onSlideEnd:()=>{E.current=void 0,p?.()},onStepKeyDown:R=>{const D=kg[C?"from-left":"from-right"].includes(R.key);g?.({event:R,direction:D?-1:1})}})})}),o_=x.forwardRef((r,t)=>{const{min:s,max:o,inverted:a,onSlideStart:l,onSlideMove:u,onSlideEnd:f,onStepKeyDown:p,...g}=r,v=x.useRef(null),y=Ue(t,v),_=x.useRef(void 0),S=!a;function E(b){const k=_.current||v.current.getBoundingClientRect(),C=[0,k.height],R=nd(C,S?[o,s]:[s,o]);return _.current=k,R(b-k.top)}return d.jsx(Cg,{scope:r.__scopeSlider,startEdge:S?"bottom":"top",endEdge:S?"top":"bottom",size:"height",direction:S?1:-1,children:d.jsx(Tg,{"data-orientation":"vertical",...g,ref:y,style:{...g.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:b=>{const k=E(b.clientY);l?.(k)},onSlideMove:b=>{const k=E(b.clientY);u?.(k)},onSlideEnd:()=>{_.current=void 0,f?.()},onStepKeyDown:b=>{const C=kg[S?"from-bottom":"from-top"].includes(b.key);p?.({event:b,direction:C?-1:1})}})})}),Tg=x.forwardRef((r,t)=>{const{__scopeSlider:s,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onHomeKeyDown:u,onEndKeyDown:f,onStepKeyDown:p,...g}=r,v=Aa(Ms,s);return d.jsx(Ee.span,{...g,ref:t,onKeyDown:ke(r.onKeyDown,y=>{y.key==="Home"?(u(y),y.preventDefault()):y.key==="End"?(f(y),y.preventDefault()):_g.concat(Sg).includes(y.key)&&(p(y),y.preventDefault())}),onPointerDown:ke(r.onPointerDown,y=>{const _=y.target;_.setPointerCapture(y.pointerId),y.preventDefault(),v.thumbs.has(_)?_.focus():o(y)}),onPointerMove:ke(r.onPointerMove,y=>{y.target.hasPointerCapture(y.pointerId)&&a(y)}),onPointerUp:ke(r.onPointerUp,y=>{const _=y.target;_.hasPointerCapture(y.pointerId)&&(_.releasePointerCapture(y.pointerId),l(y))})})}),Pg="SliderTrack",Rg=x.forwardRef((r,t)=>{const{__scopeSlider:s,...o}=r,a=Aa(Pg,s);return d.jsx(Ee.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...o,ref:t})});Rg.displayName=Pg;var vu="SliderRange",Og=x.forwardRef((r,t)=>{const{__scopeSlider:s,...o}=r,a=Aa(vu,s),l=Ng(vu,s),u=x.useRef(null),f=Ue(t,u),p=a.values.length,g=a.values.map(_=>Dg(_,a.min,a.max)),v=p>1?Math.min(...g):0,y=100-Math.max(...g);return d.jsx(Ee.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...o,ref:f,style:{...r.style,[l.startEdge]:v+"%",[l.endEdge]:y+"%"}})});Og.displayName=vu;var yu="SliderThumb",Ag=x.forwardRef((r,t)=>{const s=t_(r.__scopeSlider),[o,a]=x.useState(null),l=Ue(t,f=>a(f)),u=x.useMemo(()=>o?s().findIndex(f=>f.ref.current===o):-1,[s,o]);return d.jsx(i_,{...r,ref:l,index:u})}),i_=x.forwardRef((r,t)=>{const{__scopeSlider:s,index:o,name:a,...l}=r,u=Aa(yu,s),f=Ng(yu,s),[p,g]=x.useState(null),v=Ue(t,P=>g(P)),y=p?u.form||!!p.closest("form"):!0,_=bg(p),S=u.values[o],E=S===void 0?0:Dg(S,u.min,u.max),b=c_(o,u.values.length),k=_?.[f.size],C=k?d_(k,E,f.direction):0;return x.useEffect(()=>{if(p)return u.thumbs.add(p),()=>{u.thumbs.delete(p)}},[p,u.thumbs]),d.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[f.startEdge]:`calc(${E}% + ${C}px)`},children:[d.jsx(gu.ItemSlot,{scope:r.__scopeSlider,children:d.jsx(Ee.span,{role:"slider","aria-label":r["aria-label"]||b,"aria-valuemin":u.min,"aria-valuenow":S,"aria-valuemax":u.max,"aria-orientation":u.orientation,"data-orientation":u.orientation,"data-disabled":u.disabled?"":void 0,tabIndex:u.disabled?void 0:0,...l,ref:v,style:S===void 0?{display:"none"}:r.style,onFocus:ke(r.onFocus,()=>{u.valueIndexToChangeRef.current=o})})}),y&&d.jsx(Ig,{name:a??(u.name?u.name+(u.values.length>1?"[]":""):void 0),form:u.form,value:S},o)]})});Ag.displayName=yu;var a_="RadioBubbleInput",Ig=x.forwardRef(({__scopeSlider:r,value:t,...s},o)=>{const a=x.useRef(null),l=Ue(a,o),u=xg(t);return x.useEffect(()=>{const f=a.current;if(!f)return;const p=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(p,"value").set;if(u!==t&&v){const y=new Event("input",{bubbles:!0});v.call(f,t),f.dispatchEvent(y)}},[u,t]),d.jsx(Ee.input,{style:{display:"none"},...s,ref:l,defaultValue:t})});Ig.displayName=a_;function l_(r=[],t,s){const o=[...r];return o[s]=t,o.sort((a,l)=>a-l)}function Dg(r,t,s){const l=100/(s-t)*(r-t);return ba(l,[0,100])}function c_(r,t){return t>2?`Value ${r+1} of ${t}`:t===2?["Minimum","Maximum"][r]:void 0}function u_(r,t){if(r.length===1)return 0;const s=r.map(a=>Math.abs(a-t)),o=Math.min(...s);return s.indexOf(o)}function d_(r,t,s){const o=r/2,l=nd([0,50],[0,o]);return(o-l(t)*s)*s}function f_(r){return r.slice(0,-1).map((t,s)=>r[s+1]-t)}function h_(r,t){if(t>0){const s=f_(r);return Math.min(...s)>=t}return!0}function nd(r,t){return s=>{if(r[0]===r[1]||t[0]===t[1])return t[0];const o=(t[1]-t[0])/(r[1]-r[0]);return t[0]+o*(s-r[0])}}function p_(r){return(String(r).split(".")[1]||"").length}function m_(r,t){const s=Math.pow(10,t);return Math.round(r*s)/s}var g_=jg,v_=Rg,y_=Og,w_=Ag;function Wp({className:r,defaultValue:t,value:s,min:o=0,max:a=100,...l}){const u=x.useMemo(()=>Array.isArray(s)?s:Array.isArray(t)?t:[o,a],[s,t,o,a]);return d.jsxs(g_,{"data-slot":"slider",defaultValue:t,value:s,min:o,max:a,className:Ne("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",r),...l,children:[d.jsx(v_,{"data-slot":"slider-track",className:Ne("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:d.jsx(y_,{"data-slot":"slider-range",className:Ne("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:u.length},(f,p)=>d.jsx(w_,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},p))]})}const x_=({video:r,categoryId:t})=>{const s=x.useRef(null),o=x.useRef(null),a=x.useRef(null),[l,u]=x.useState(!1),[f,p]=x.useState(!1),[g,v]=x.useState(!1),[y,_]=x.useState(0),[S,E]=x.useState(0),[b,k]=x.useState(1),{updateProgress:C}=Qu(),P=x.useRef();x.useEffect(()=>{if(r.videoType!=="youtube")return;if(window.YT){u(!0);return}const Y=document.createElement("script");Y.src="https://www.youtube.com/iframe_api";const re=document.getElementsByTagName("script")[0];re.parentNode?.insertBefore(Y,re),window.onYouTubeIframeAPIReady=()=>{u(!0)}},[r.videoType]),x.useEffect(()=>{if(!(r.videoType!=="youtube"||!l||!a.current||!r.youtubeId))return s.current=new window.YT.Player(a.current,{height:"100%",width:"100%",videoId:r.youtubeId,playerVars:{autoplay:0,controls:1,modestbranding:1,rel:0},events:{onReady:()=>{console.log("YouTube Player ready")},onStateChange:Y=>{Y.data===window.YT.PlayerState.PLAYING?(p(!0),R()):(p(!1),T())}}}),()=>{s.current&&s.current.destroy(),T()}},[l,r.youtubeId,r.videoType]),x.useEffect(()=>{if(r.videoType!=="local"||!o.current)return;const Y=o.current,re=()=>{E(Y.duration)},H=()=>{_(Y.currentTime)},oe=()=>{p(!0),R()},Z=()=>{p(!1),T()},ne=()=>{k(Y.volume),v(Y.muted)};return Y.addEventListener("loadedmetadata",re),Y.addEventListener("timeupdate",H),Y.addEventListener("play",oe),Y.addEventListener("pause",Z),Y.addEventListener("volumechange",ne),()=>{Y.removeEventListener("loadedmetadata",re),Y.removeEventListener("timeupdate",H),Y.removeEventListener("play",oe),Y.removeEventListener("pause",Z),Y.removeEventListener("volumechange",ne),T()}},[r.videoType,r.videoUrl]);const R=()=>{console.log("🎬 Starting progress tracking for video:",r.id,"categoryId:",t),T(),P.current=setInterval(()=>{let Y=0;r.videoType==="youtube"&&s.current&&s.current.getCurrentTime?Y=s.current.getCurrentTime():r.videoType==="local"&&o.current&&(Y=o.current.currentTime),console.log("📊 Progress update:",{videoId:r.id,currentSeconds:Math.floor(Y),duration:r.duration,categoryId:t}),C(r.id,Math.floor(Y),r.duration,t)},5e3)},T=()=>{P.current&&(clearInterval(P.current),P.current=void 0)},D=()=>{o.current&&(f?o.current.pause():o.current.play())},B=()=>{o.current&&(o.current.muted=!o.current.muted)},F=Y=>{o.current&&(o.current.currentTime=Y[0])},z=Y=>{o.current&&(o.current.volume=Y[0])},W=()=>{o.current&&(document.fullscreenElement?document.exitFullscreen():o.current.requestFullscreen())},J=Y=>{const re=Math.floor(Y/60),H=Math.floor(Y%60);return`${re}:${H.toString().padStart(2,"0")}`},te=()=>{r.videoType==="youtube"&&s.current?(s.current.seekTo(0),s.current.playVideo()):r.videoType==="local"&&o.current&&(o.current.currentTime=0,o.current.play())};return r.videoType==="youtube"?d.jsx("div",{className:"aspect-video w-full bg-black rounded-lg overflow-hidden",children:d.jsx("div",{ref:a,className:"w-full h-full"})}):d.jsxs("div",{className:"aspect-video w-full bg-black rounded-lg overflow-hidden relative group",children:[d.jsx("video",{ref:o,src:r.videoUrl,className:"w-full h-full object-contain",onClick:D}),d.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4 opacity-0 group-hover:opacity-100 transition-opacity",children:[d.jsxs("div",{className:"mb-3",children:[d.jsx(Wp,{value:[y],max:S,step:1,onValueChange:F,className:"w-full"}),d.jsxs("div",{className:"flex justify-between text-xs text-white/80 mt-1",children:[d.jsx("span",{children:J(y)}),d.jsx("span",{children:J(S)})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Te,{variant:"ghost",size:"sm",onClick:D,className:"text-white hover:text-white hover:bg-white/20",children:f?d.jsx(Sb,{className:"w-4 h-4"}):d.jsx(mu,{className:"w-4 h-4"})}),d.jsx(Te,{variant:"ghost",size:"sm",onClick:te,className:"text-white hover:text-white hover:bg-white/20",children:d.jsx(Tb,{className:"w-4 h-4"})}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Te,{variant:"ghost",size:"sm",onClick:B,className:"text-white hover:text-white hover:bg-white/20",children:g?d.jsx(Kb,{className:"w-4 h-4"}):d.jsx(Wb,{className:"w-4 h-4"})}),d.jsx("div",{className:"w-20",children:d.jsx(Wp,{value:[g?0:b],max:1,step:.1,onValueChange:z,className:"w-full"})})]})]}),d.jsx(Te,{variant:"ghost",size:"sm",onClick:W,className:"text-white hover:text-white hover:bg-white/20",children:d.jsx(bb,{className:"w-4 h-4"})})]})]}),!f&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsx(Te,{variant:"ghost",size:"lg",onClick:D,className:"text-white bg-black/50 hover:bg-black/70 rounded-full w-16 h-16",children:d.jsx(mu,{className:"w-8 h-8"})})})]})},b_=({video:r})=>{const{getProgressPercentage:t,getProgress:s}=Qu(),o=t(r.id,r.duration),a=s(r.id),l=a?.completed||!1,u=p=>{const g=Math.floor(p/60),v=p%60;return`${g}분 ${v}초`},f=p=>{const g=new Date(p),y=Math.floor((new Date().getTime()-g.getTime())/(1e3*60*60));return y<1?"방금 전":y<24?`${y}시간 전`:`${Math.floor(y/24)}일 전`};return d.jsxs(ct,{children:[d.jsx(Vt,{children:d.jsxs("div",{className:"flex items-start justify-between gap-4",children:[d.jsx(Wt,{className:"flex-1",children:r.title}),d.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[d.jsxs(nn,{variant:"outline",className:"flex items-center gap-1",children:[d.jsx(hu,{className:"w-3 h-3"}),u(r.duration)]}),l&&d.jsxs(nn,{variant:"default",className:"bg-green-500 flex items-center gap-1",children:[d.jsx(ug,{className:"w-3 h-3"}),"완료"]})]})]})}),d.jsxs(ht,{className:"space-y-4",children:[d.jsx("p",{className:"leading-relaxed",children:r.description}),o>0&&d.jsxs("div",{className:"space-y-2 p-4 bg-muted rounded-lg",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h4",{children:"시청 진행률"}),d.jsxs("span",{children:[Math.round(o),"%"]})]}),d.jsx(Os,{value:o,className:"h-2"}),a?.lastWatchedAt&&d.jsxs("p",{className:"text-sm text-muted-foreground",children:["마지막 시청: ",f(a.lastWatchedAt)]})]})]})]})};function yt({className:r,type:t,...s}){return d.jsx("input",{type:t,"data-slot":"input",className:Ne("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...s})}var __="Label",Lg=x.forwardRef((r,t)=>d.jsx(Ee.label,{...r,ref:t,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(r.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));Lg.displayName=__;var S_=Lg;function Ye({className:r,...t}){return d.jsx(S_,{"data-slot":"label",className:Ne("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...t})}const Ia="/assets/logo-D2uBM-SJ.png";function k_({onLogin:r,onBack:t}){const[s,o]=x.useState(""),[a,l]=x.useState(""),[u,f]=x.useState(""),[p,g]=x.useState(!1),[v,y]=x.useState(null),_=async S=>{S.preventDefault(),f(""),g(!0),y("checking");try{const E=`https://${Me}.supabase.co/functions/v1/make-server-a8898ff1/admin/login`;console.log("Attempting login to:",E);const b=await fetch(E,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${We}`},body:JSON.stringify({employeeId:s,password:a})});if(console.log("Response status:",b.status),y("online"),!b.ok){const C=await b.text();console.error("Response error:",C),b.status===401?f("사번 또는 비밀번호가 올바르지 않습니다."):b.status===404?(y("offline"),f("서버를 찾을 수 없습니다. Supabase Edge Function이 배포되지 않았습니다.")):f(`서버 오류가 발생했습니다 (상태 코드: ${b.status})`),g(!1);return}const k=await b.json();console.log("Login response:",k),k.success?r(k.admin):f(k.error||"로그인에 실패했습니다.")}catch(E){console.error("Login error:",E),y("offline"),E instanceof TypeError&&E.message.includes("fetch")?f("네트워크 오류: 서버에 연결할 수 없습니다. Supabase Edge Function이 배포되어 있는지 확인해주세요."):f("로그인 중 오류가 발생했습니다: "+(E instanceof Error?E.message:"알 수 없는 오류"))}finally{g(!1)}};return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:d.jsxs(ct,{className:"w-full max-w-md",children:[d.jsxs(Vt,{className:"space-y-1",children:[t&&d.jsxs(Te,{variant:"ghost",size:"sm",onClick:t,className:"flex items-center gap-2 w-fit mb-2",children:[d.jsx(Yu,{className:"w-4 h-4"}),"뒤로"]}),d.jsx("div",{className:"flex justify-center mb-4",children:d.jsx("img",{src:Ia,alt:"서울교통공사",className:"h-12 w-auto"})}),d.jsx(Wt,{className:"text-2xl text-center",children:"관리자 로그인"}),d.jsx(Pr,{className:"text-center",children:"서울교통공사 안전교육허브 관리자 페이지"})]}),d.jsxs(ht,{children:[d.jsxs("form",{onSubmit:_,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ye,{htmlFor:"employeeId",children:"사번"}),d.jsx(yt,{id:"employeeId",type:"text",placeholder:"사번을 입력하세요",value:s,onChange:S=>o(S.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ye,{htmlFor:"password",children:"비밀번호"}),d.jsx(yt,{id:"password",type:"password",placeholder:"비밀번호를 입력하세요",value:a,onChange:S=>l(S.target.value),required:!0})]}),v&&d.jsxs("div",{className:`flex items-center space-x-2 text-sm p-3 rounded-lg ${v==="checking"?"bg-gray-100 text-gray-700":v==="online"?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:[d.jsx("div",{className:`w-2 h-2 rounded-full ${v==="checking"?"bg-gray-500 animate-pulse":v==="online"?"bg-green-500":"bg-red-500"}`}),d.jsxs("span",{children:[v==="checking"&&"서버 연결 확인 중...",v==="online"&&"서버 연결됨",v==="offline"&&"서버 연결 실패"]})]}),u&&d.jsxs("div",{className:"flex items-center space-x-2 text-red-600 bg-red-50 p-3 rounded-lg",children:[d.jsx(cb,{className:"h-4 w-4 flex-shrink-0"}),d.jsx("span",{className:"text-sm",children:u})]}),d.jsx(Te,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:p,children:p?"로그인 중...":"로그인"})]}),d.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[d.jsx("p",{className:"text-sm text-blue-900 font-medium mb-2",children:"📌 기본 관리자 계정"}),d.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[d.jsxs("p",{children:["• 사번: ",d.jsx("code",{className:"bg-blue-100 px-2 py-0.5 rounded",children:"ADMIN001"})]}),d.jsxs("p",{children:["• 비밀번호: ",d.jsx("code",{className:"bg-blue-100 px-2 py-0.5 rounded",children:"admin123!"})]})]})]})]})]})})}var E_=Bm[" useId ".trim().toString()]||(()=>{}),j_=0;function tr(r){const[t,s]=x.useState(E_());return wt(()=>{s(o=>o??String(j_++))},[r]),r||(t?`radix-${t}`:"")}function nr(r){const t=x.useRef(r);return x.useEffect(()=>{t.current=r}),x.useMemo(()=>(...s)=>t.current?.(...s),[])}var Kc="rovingFocusGroup.onEntryFocus",C_={bubbles:!1,cancelable:!0},Wo="RovingFocusGroup",[wu,$g,N_]=td(Wo),[T_,Mg]=or(Wo,[N_]),[P_,R_]=T_(Wo),Ug=x.forwardRef((r,t)=>d.jsx(wu.Provider,{scope:r.__scopeRovingFocusGroup,children:d.jsx(wu.Slot,{scope:r.__scopeRovingFocusGroup,children:d.jsx(O_,{...r,ref:t})})}));Ug.displayName=Wo;var O_=x.forwardRef((r,t)=>{const{__scopeRovingFocusGroup:s,orientation:o,loop:a=!1,dir:l,currentTabStopId:u,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:p,onEntryFocus:g,preventScrollOnEntryFocus:v=!1,...y}=r,_=x.useRef(null),S=Ue(t,_),E=Oa(l),[b,k]=As({prop:u,defaultProp:f??null,onChange:p,caller:Wo}),[C,P]=x.useState(!1),R=nr(g),T=$g(s),D=x.useRef(!1),[B,F]=x.useState(0);return x.useEffect(()=>{const z=_.current;if(z)return z.addEventListener(Kc,R),()=>z.removeEventListener(Kc,R)},[R]),d.jsx(P_,{scope:s,orientation:o,dir:E,loop:a,currentTabStopId:b,onItemFocus:x.useCallback(z=>k(z),[k]),onItemShiftTab:x.useCallback(()=>P(!0),[]),onFocusableItemAdd:x.useCallback(()=>F(z=>z+1),[]),onFocusableItemRemove:x.useCallback(()=>F(z=>z-1),[]),children:d.jsx(Ee.div,{tabIndex:C||B===0?-1:0,"data-orientation":o,...y,ref:S,style:{outline:"none",...r.style},onMouseDown:ke(r.onMouseDown,()=>{D.current=!0}),onFocus:ke(r.onFocus,z=>{const W=!D.current;if(z.target===z.currentTarget&&W&&!C){const J=new CustomEvent(Kc,C_);if(z.currentTarget.dispatchEvent(J),!J.defaultPrevented){const te=T().filter(Z=>Z.focusable),Y=te.find(Z=>Z.active),re=te.find(Z=>Z.id===b),oe=[Y,re,...te].filter(Boolean).map(Z=>Z.ref.current);Bg(oe,v)}}D.current=!1}),onBlur:ke(r.onBlur,()=>P(!1))})})}),Fg="RovingFocusGroupItem",zg=x.forwardRef((r,t)=>{const{__scopeRovingFocusGroup:s,focusable:o=!0,active:a=!1,tabStopId:l,children:u,...f}=r,p=tr(),g=l||p,v=R_(Fg,s),y=v.currentTabStopId===g,_=$g(s),{onFocusableItemAdd:S,onFocusableItemRemove:E,currentTabStopId:b}=v;return x.useEffect(()=>{if(o)return S(),()=>E()},[o,S,E]),d.jsx(wu.ItemSlot,{scope:s,id:g,focusable:o,active:a,children:d.jsx(Ee.span,{tabIndex:y?0:-1,"data-orientation":v.orientation,...f,ref:t,onMouseDown:ke(r.onMouseDown,k=>{o?v.onItemFocus(g):k.preventDefault()}),onFocus:ke(r.onFocus,()=>v.onItemFocus(g)),onKeyDown:ke(r.onKeyDown,k=>{if(k.key==="Tab"&&k.shiftKey){v.onItemShiftTab();return}if(k.target!==k.currentTarget)return;const C=D_(k,v.orientation,v.dir);if(C!==void 0){if(k.metaKey||k.ctrlKey||k.altKey||k.shiftKey)return;k.preventDefault();let R=_().filter(T=>T.focusable).map(T=>T.ref.current);if(C==="last")R.reverse();else if(C==="prev"||C==="next"){C==="prev"&&R.reverse();const T=R.indexOf(k.currentTarget);R=v.loop?L_(R,T+1):R.slice(T+1)}setTimeout(()=>Bg(R))}}),children:typeof u=="function"?u({isCurrentTabStop:y,hasTabStop:b!=null}):u})})});zg.displayName=Fg;var A_={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function I_(r,t){return t!=="rtl"?r:r==="ArrowLeft"?"ArrowRight":r==="ArrowRight"?"ArrowLeft":r}function D_(r,t,s){const o=I_(r.key,s);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return A_[o]}function Bg(r,t=!1){const s=document.activeElement;for(const o of r)if(o===s||(o.focus({preventScroll:t}),document.activeElement!==s))return}function L_(r,t){return r.map((s,o)=>r[(t+o)%r.length])}var $_=Ug,M_=zg;function U_(r,t){return x.useReducer((s,o)=>t[s][o]??s,r)}var Ho=r=>{const{present:t,children:s}=r,o=F_(t),a=typeof s=="function"?s({present:o.isPresent}):x.Children.only(s),l=Ue(o.ref,z_(a));return typeof s=="function"||o.isPresent?x.cloneElement(a,{ref:l}):null};Ho.displayName="Presence";function F_(r){const[t,s]=x.useState(),o=x.useRef(null),a=x.useRef(r),l=x.useRef("none"),u=r?"mounted":"unmounted",[f,p]=U_(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const g=aa(o.current);l.current=f==="mounted"?g:"none"},[f]),wt(()=>{const g=o.current,v=a.current;if(v!==r){const _=l.current,S=aa(g);r?p("MOUNT"):S==="none"||g?.display==="none"?p("UNMOUNT"):p(v&&_!==S?"ANIMATION_OUT":"UNMOUNT"),a.current=r}},[r,p]),wt(()=>{if(t){let g;const v=t.ownerDocument.defaultView??window,y=S=>{const b=aa(o.current).includes(CSS.escape(S.animationName));if(S.target===t&&b&&(p("ANIMATION_END"),!a.current)){const k=t.style.animationFillMode;t.style.animationFillMode="forwards",g=v.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=k)})}},_=S=>{S.target===t&&(l.current=aa(o.current))};return t.addEventListener("animationstart",_),t.addEventListener("animationcancel",y),t.addEventListener("animationend",y),()=>{v.clearTimeout(g),t.removeEventListener("animationstart",_),t.removeEventListener("animationcancel",y),t.removeEventListener("animationend",y)}}else p("ANIMATION_END")},[t,p]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:x.useCallback(g=>{o.current=g?getComputedStyle(g):null,s(g)},[])}}function aa(r){return r?.animationName||"none"}function z_(r){let t=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?r.ref:(t=Object.getOwnPropertyDescriptor(r,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?r.props.ref:r.props.ref||r.ref)}var Da="Tabs",[B_]=or(Da,[Mg]),Vg=Mg(),[V_,rd]=B_(Da),Wg=x.forwardRef((r,t)=>{const{__scopeTabs:s,value:o,onValueChange:a,defaultValue:l,orientation:u="horizontal",dir:f,activationMode:p="automatic",...g}=r,v=Oa(f),[y,_]=As({prop:o,onChange:a,defaultProp:l??"",caller:Da});return d.jsx(V_,{scope:s,baseId:tr(),value:y,onValueChange:_,orientation:u,dir:v,activationMode:p,children:d.jsx(Ee.div,{dir:v,"data-orientation":u,...g,ref:t})})});Wg.displayName=Da;var Hg="TabsList",Kg=x.forwardRef((r,t)=>{const{__scopeTabs:s,loop:o=!0,...a}=r,l=rd(Hg,s),u=Vg(s);return d.jsx($_,{asChild:!0,...u,orientation:l.orientation,dir:l.dir,loop:o,children:d.jsx(Ee.div,{role:"tablist","aria-orientation":l.orientation,...a,ref:t})})});Kg.displayName=Hg;var qg="TabsTrigger",Gg=x.forwardRef((r,t)=>{const{__scopeTabs:s,value:o,disabled:a=!1,...l}=r,u=rd(qg,s),f=Vg(s),p=Yg(u.baseId,o),g=Xg(u.baseId,o),v=o===u.value;return d.jsx(M_,{asChild:!0,...f,focusable:!a,active:v,children:d.jsx(Ee.button,{type:"button",role:"tab","aria-selected":v,"aria-controls":g,"data-state":v?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:p,...l,ref:t,onMouseDown:ke(r.onMouseDown,y=>{!a&&y.button===0&&y.ctrlKey===!1?u.onValueChange(o):y.preventDefault()}),onKeyDown:ke(r.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&u.onValueChange(o)}),onFocus:ke(r.onFocus,()=>{const y=u.activationMode!=="manual";!v&&!a&&y&&u.onValueChange(o)})})})});Gg.displayName=qg;var Jg="TabsContent",Qg=x.forwardRef((r,t)=>{const{__scopeTabs:s,value:o,forceMount:a,children:l,...u}=r,f=rd(Jg,s),p=Yg(f.baseId,o),g=Xg(f.baseId,o),v=o===f.value,y=x.useRef(v);return x.useEffect(()=>{const _=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(_)},[]),d.jsx(Ho,{present:a||v,children:({present:_})=>d.jsx(Ee.div,{"data-state":v?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":p,hidden:!_,id:g,tabIndex:0,...u,ref:t,style:{...r.style,animationDuration:y.current?"0s":void 0},children:_&&l})})});Qg.displayName=Jg;function Yg(r,t){return`${r}-trigger-${t}`}function Xg(r,t){return`${r}-content-${t}`}var W_=Wg,H_=Kg,K_=Gg,q_=Qg;function Zg({className:r,...t}){return d.jsx(W_,{"data-slot":"tabs",className:Ne("flex flex-col gap-2",r),...t})}function ev({className:r,...t}){return d.jsx(H_,{"data-slot":"tabs-list",className:Ne("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",r),...t})}function js({className:r,...t}){return d.jsx(K_,{"data-slot":"tabs-trigger",className:Ne("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...t})}function Cs({className:r,...t}){return d.jsx(q_,{"data-slot":"tabs-content",className:Ne("flex-1 outline-none",r),...t})}function Lo({className:r,...t}){return d.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:d.jsx("table",{"data-slot":"table",className:Ne("w-full caption-bottom text-sm",r),...t})})}function $o({className:r,...t}){return d.jsx("thead",{"data-slot":"table-header",className:Ne("[&_tr]:border-b",r),...t})}function Mo({className:r,...t}){return d.jsx("tbody",{"data-slot":"table-body",className:Ne("[&_tr:last-child]:border-0",r),...t})}function Tt({className:r,...t}){return d.jsx("tr",{"data-slot":"table-row",className:Ne("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",r),...t})}function Le({className:r,...t}){return d.jsx("th",{"data-slot":"table-head",className:Ne("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...t})}function Ae({className:r,...t}){return d.jsx("td",{"data-slot":"table-cell",className:Ne("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...t})}function G_(){const[r,t]=x.useState([]),[s,o]=x.useState({}),[a,l]=x.useState({}),[u,f]=x.useState(""),[p,g]=x.useState(!0),[v,y]=x.useState(null);x.useEffect(()=>{_()},[]);const _=async()=>{console.log("📊 UserProgressManagement: Starting data load...");try{g(!0);const T=Date.now(),B=await(await fetch(`https://${Me}.supabase.co/functions/v1/make-server-a8898ff1/categories?v=${T}`,{cache:"no-store",headers:{Authorization:`Bearer ${We}`,"Cache-Control":"no-cache"}})).json();console.log("📋 Categories loaded:",B);const F={},z={};for(const te of B.categories||[]){F[te.id]=te;const re=await(await fetch(`https://${Me}.supabase.co/functions/v1/make-server-a8898ff1/videos/${te.id}?v=${T}`,{cache:"no-store",headers:{Authorization:`Bearer ${We}`,"Cache-Control":"no-cache"}})).json();console.log(`🎥 Videos for ${te.id}:`,re);for(const H of re.videos||[])z[H.id]=H}l(F),o(z);const J=await(await fetch(`https://${Me}.supabase.co/functions/v1/make-server-a8898ff1/admin/progress?v=${T}`,{cache:"no-store",headers:{Authorization:`Bearer ${We}`,"Cache-Control":"no-cache"}})).json();console.log("📊 Progress data loaded:",J),console.log("📊 Number of progress records:",J.progress?.length||0),t(J.progress||[])}catch(T){console.error("❌ Error loading data:",T);const D={fire:{id:"fire",title:"화재발생 시 대응요령"},safety:{id:"safety",title:"지하철 안전운행"}},B={fire_1:{id:"fire_1",title:"지하철 화재 발생 시 초기 대응",duration:"5:30"},safety_1:{id:"safety_1",title:"지하철 안전운행 기본 수칙",duration:"8:20"}},F=[{userId:"demo_user_1",videoId:"fire_1",categoryId:"fire",progress:75,watchTime:240,lastWatched:new Date().toISOString()},{userId:"demo_user_2",videoId:"safety_1",categoryId:"safety",progress:90,watchTime:450,lastWatched:new Date().toISOString()}];l(D),o(B),t(F),console.log("⚠️ Using fallback mock data")}finally{g(!1),console.log("✅ UserProgressManagement: Data loading completed")}},S=()=>{_()},E=()=>{const T={};return r.forEach(D=>{T[D.userId]||(T[D.userId]={totalVideos:0,completedVideos:0,avgProgress:0,lastActivity:D.lastWatched}),T[D.userId].totalVideos++,D.progress>=80&&T[D.userId].completedVideos++,new Date(D.lastWatched)>new Date(T[D.userId].lastActivity)&&(T[D.userId].lastActivity=D.lastWatched)}),Object.keys(T).forEach(D=>{const B=r.filter(z=>z.userId===D),F=B.reduce((z,W)=>z+W.progress,0);T[D].avgProgress=B.length>0?F/B.length:0}),T},b=T=>r.filter(D=>D.userId===T),k=T=>{const D=Math.floor(T/3600),B=Math.floor(T%3600/60),F=T%60;return D>0?`${D}:${B.toString().padStart(2,"0")}:${F.toString().padStart(2,"0")}`:`${B}:${F.toString().padStart(2,"0")}`},C=T=>new Date(T).toLocaleString("ko-KR"),P=E(),R=Object.keys(P).filter(T=>T.toLowerCase().includes(u.toLowerCase()));return p?d.jsx(ct,{children:d.jsx(ht,{className:"flex items-center justify-center py-12",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),d.jsx("p",{children:"데이터를 불러오는 중..."})]})})}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs(ct,{children:[d.jsxs(Vt,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[d.jsxs("div",{children:[d.jsx(Wt,{children:"사용자 시청 현황"}),d.jsx(Pr,{children:"모든 사용자의 영상 시청 진행률과 활동 현황을 관리합니다."})]}),d.jsx("div",{className:"mt-2 sm:mt-0",children:d.jsxs(Te,{variant:"outline",size:"sm",onClick:S,disabled:p,className:"flex items-center gap-2",children:[d.jsx(Cb,{className:"h-4 w-4"}),p?"새로고침 중...":"새로고침"]})})]}),d.jsxs(ht,{children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[d.jsx(Rb,{className:"h-4 w-4 text-gray-400"}),d.jsx(yt,{placeholder:"사용자 ID로 검색...",value:u,onChange:T=>f(T.target.value),className:"max-w-sm"})]}),d.jsx("div",{className:"rounded-md border",children:d.jsxs(Lo,{children:[d.jsx($o,{children:d.jsxs(Tt,{children:[d.jsx(Le,{children:"사용자 ID"}),d.jsx(Le,{children:"시청 영상 수"}),d.jsx(Le,{children:"완료 영상 수"}),d.jsx(Le,{children:"평균 진행률"}),d.jsx(Le,{children:"마지막 활동"}),d.jsx(Le,{children:"상세 보기"})]})}),d.jsx(Mo,{children:R.length===0?d.jsx(Tt,{children:d.jsx(Ae,{colSpan:6,className:"text-center py-8 text-gray-500",children:u?"검색 결과가 없습니다.":"사용자 데이터가 없습니다."})}):R.map(T=>{const D=P[T];return d.jsxs(Tt,{children:[d.jsx(Ae,{className:"font-medium",children:T}),d.jsx(Ae,{children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(dg,{className:"h-4 w-4 mr-1 text-blue-600"}),D.totalVideos]})}),d.jsx(Ae,{children:d.jsx(nn,{variant:D.completedVideos>0?"default":"secondary",className:D.completedVideos>0?"bg-green-600":"",children:D.completedVideos})}),d.jsx(Ae,{children:d.jsxs("div",{className:"space-y-1",children:[d.jsx(Os,{value:D.avgProgress,className:"w-20"}),d.jsxs("span",{className:"text-xs text-gray-600",children:[Math.round(D.avgProgress),"%"]})]})}),d.jsx(Ae,{children:d.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[d.jsx(hu,{className:"h-3 w-3 mr-1"}),C(D.lastActivity)]})}),d.jsx(Ae,{children:d.jsxs(Te,{variant:"outline",size:"sm",onClick:()=>y(v===T?null:T),children:[d.jsx(mb,{className:"h-4 w-4 mr-1"}),v===T?"닫기":"보기"]})})]},T)})})]})})]})]}),v&&d.jsxs(ct,{children:[d.jsxs(Vt,{children:[d.jsxs(Wt,{children:["사용자 상세 시청 기록: ",v]}),d.jsx(Pr,{children:"개별 영상별 시청 진행률과 시간을 확인할 수 있습니다."})]}),d.jsx(ht,{children:d.jsx("div",{className:"rounded-md border",children:d.jsxs(Lo,{children:[d.jsx($o,{children:d.jsxs(Tt,{children:[d.jsx(Le,{children:"카테고리"}),d.jsx(Le,{children:"영상 제목"}),d.jsx(Le,{children:"진행률"}),d.jsx(Le,{children:"시청 시간"}),d.jsx(Le,{children:"마지막 시청"})]})}),d.jsx(Mo,{children:b(v).map((T,D)=>{const B=s[T.videoId],F=a[T.categoryId];return d.jsxs(Tt,{children:[d.jsx(Ae,{children:d.jsx(nn,{variant:"outline",children:F?.title||T.categoryId})}),d.jsx(Ae,{className:"font-medium",children:B?.title||T.videoId}),d.jsx(Ae,{children:d.jsxs("div",{className:"space-y-1",children:[d.jsx(Os,{value:T.progress,className:"w-24"}),d.jsxs("span",{className:"text-xs text-gray-600",children:[Math.round(T.progress),"%"]})]})}),d.jsx(Ae,{children:d.jsxs("div",{className:"flex items-center text-sm",children:[d.jsx(hu,{className:"h-3 w-3 mr-1 text-gray-400"}),k(T.watchTime)]})}),d.jsx(Ae,{className:"text-sm text-gray-600",children:C(T.lastWatched)})]},D)})})]})})})]})]})}function tv({className:r,...t}){return d.jsx("textarea",{"data-slot":"textarea",className:Ne("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),...t})}function J_(r,t=globalThis?.document){const s=nr(r);x.useEffect(()=>{const o=a=>{a.key==="Escape"&&s(a)};return t.addEventListener("keydown",o,{capture:!0}),()=>t.removeEventListener("keydown",o,{capture:!0})},[s,t])}var Q_="DismissableLayer",xu="dismissableLayer.update",Y_="dismissableLayer.pointerDownOutside",X_="dismissableLayer.focusOutside",Hp,nv=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),sd=x.forwardRef((r,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:u,onDismiss:f,...p}=r,g=x.useContext(nv),[v,y]=x.useState(null),_=v?.ownerDocument??globalThis?.document,[,S]=x.useState({}),E=Ue(t,F=>y(F)),b=Array.from(g.layers),[k]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),C=b.indexOf(k),P=v?b.indexOf(v):-1,R=g.layersWithOutsidePointerEventsDisabled.size>0,T=P>=C,D=tS(F=>{const z=F.target,W=[...g.branches].some(J=>J.contains(z));!T||W||(a?.(F),u?.(F),F.defaultPrevented||f?.())},_),B=nS(F=>{const z=F.target;[...g.branches].some(J=>J.contains(z))||(l?.(F),u?.(F),F.defaultPrevented||f?.())},_);return J_(F=>{P===g.layers.size-1&&(o?.(F),!F.defaultPrevented&&f&&(F.preventDefault(),f()))},_),x.useEffect(()=>{if(v)return s&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(Hp=_.body.style.pointerEvents,_.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(v)),g.layers.add(v),Kp(),()=>{s&&g.layersWithOutsidePointerEventsDisabled.size===1&&(_.body.style.pointerEvents=Hp)}},[v,_,s,g]),x.useEffect(()=>()=>{v&&(g.layers.delete(v),g.layersWithOutsidePointerEventsDisabled.delete(v),Kp())},[v,g]),x.useEffect(()=>{const F=()=>S({});return document.addEventListener(xu,F),()=>document.removeEventListener(xu,F)},[]),d.jsx(Ee.div,{...p,ref:E,style:{pointerEvents:R?T?"auto":"none":void 0,...r.style},onFocusCapture:ke(r.onFocusCapture,B.onFocusCapture),onBlurCapture:ke(r.onBlurCapture,B.onBlurCapture),onPointerDownCapture:ke(r.onPointerDownCapture,D.onPointerDownCapture)})});sd.displayName=Q_;var Z_="DismissableLayerBranch",eS=x.forwardRef((r,t)=>{const s=x.useContext(nv),o=x.useRef(null),a=Ue(t,o);return x.useEffect(()=>{const l=o.current;if(l)return s.branches.add(l),()=>{s.branches.delete(l)}},[s.branches]),d.jsx(Ee.div,{...r,ref:a})});eS.displayName=Z_;function tS(r,t=globalThis?.document){const s=nr(r),o=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const l=f=>{if(f.target&&!o.current){let p=function(){rv(Y_,s,g,{discrete:!0})};const g={originalEvent:f};f.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=p,t.addEventListener("click",a.current,{once:!0})):p()}else t.removeEventListener("click",a.current);o.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",l),t.removeEventListener("click",a.current)}},[t,s]),{onPointerDownCapture:()=>o.current=!0}}function nS(r,t=globalThis?.document){const s=nr(r),o=x.useRef(!1);return x.useEffect(()=>{const a=l=>{l.target&&!o.current&&rv(X_,s,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,s]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function Kp(){const r=new CustomEvent(xu);document.dispatchEvent(r)}function rv(r,t,s,{discrete:o}){const a=s.originalEvent.target,l=new CustomEvent(r,{bubbles:!1,cancelable:!0,detail:s});t&&a.addEventListener(r,t,{once:!0}),o?Bx(a,l):a.dispatchEvent(l)}var qc=0;function sv(){x.useEffect(()=>{const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",r[0]??qp()),document.body.insertAdjacentElement("beforeend",r[1]??qp()),qc++,()=>{qc===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),qc--}},[])}function qp(){const r=document.createElement("span");return r.setAttribute("data-radix-focus-guard",""),r.tabIndex=0,r.style.outline="none",r.style.opacity="0",r.style.position="fixed",r.style.pointerEvents="none",r}var Gc="focusScope.autoFocusOnMount",Jc="focusScope.autoFocusOnUnmount",Gp={bubbles:!1,cancelable:!0},rS="FocusScope",od=x.forwardRef((r,t)=>{const{loop:s=!1,trapped:o=!1,onMountAutoFocus:a,onUnmountAutoFocus:l,...u}=r,[f,p]=x.useState(null),g=nr(a),v=nr(l),y=x.useRef(null),_=Ue(t,b=>p(b)),S=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(o){let b=function(R){if(S.paused||!f)return;const T=R.target;f.contains(T)?y.current=T:Xn(y.current,{select:!0})},k=function(R){if(S.paused||!f)return;const T=R.relatedTarget;T!==null&&(f.contains(T)||Xn(y.current,{select:!0}))},C=function(R){if(document.activeElement===document.body)for(const D of R)D.removedNodes.length>0&&Xn(f)};document.addEventListener("focusin",b),document.addEventListener("focusout",k);const P=new MutationObserver(C);return f&&P.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",k),P.disconnect()}}},[o,f,S.paused]),x.useEffect(()=>{if(f){Qp.add(S);const b=document.activeElement;if(!f.contains(b)){const C=new CustomEvent(Gc,Gp);f.addEventListener(Gc,g),f.dispatchEvent(C),C.defaultPrevented||(sS(cS(ov(f)),{select:!0}),document.activeElement===b&&Xn(f))}return()=>{f.removeEventListener(Gc,g),setTimeout(()=>{const C=new CustomEvent(Jc,Gp);f.addEventListener(Jc,v),f.dispatchEvent(C),C.defaultPrevented||Xn(b??document.body,{select:!0}),f.removeEventListener(Jc,v),Qp.remove(S)},0)}}},[f,g,v,S]);const E=x.useCallback(b=>{if(!s&&!o||S.paused)return;const k=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,C=document.activeElement;if(k&&C){const P=b.currentTarget,[R,T]=oS(P);R&&T?!b.shiftKey&&C===T?(b.preventDefault(),s&&Xn(R,{select:!0})):b.shiftKey&&C===R&&(b.preventDefault(),s&&Xn(T,{select:!0})):C===P&&b.preventDefault()}},[s,o,S.paused]);return d.jsx(Ee.div,{tabIndex:-1,...u,ref:_,onKeyDown:E})});od.displayName=rS;function sS(r,{select:t=!1}={}){const s=document.activeElement;for(const o of r)if(Xn(o,{select:t}),document.activeElement!==s)return}function oS(r){const t=ov(r),s=Jp(t,r),o=Jp(t.reverse(),r);return[s,o]}function ov(r){const t=[],s=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const a=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||a?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function Jp(r,t){for(const s of r)if(!iS(s,{upTo:t}))return s}function iS(r,{upTo:t}){if(getComputedStyle(r).visibility==="hidden")return!0;for(;r;){if(t!==void 0&&r===t)return!1;if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}function aS(r){return r instanceof HTMLInputElement&&"select"in r}function Xn(r,{select:t=!1}={}){if(r&&r.focus){const s=document.activeElement;r.focus({preventScroll:!0}),r!==s&&aS(r)&&t&&r.select()}}var Qp=lS();function lS(){let r=[];return{add(t){const s=r[0];t!==s&&s?.pause(),r=Yp(r,t),r.unshift(t)},remove(t){r=Yp(r,t),r[0]?.resume()}}}function Yp(r,t){const s=[...r],o=s.indexOf(t);return o!==-1&&s.splice(o,1),s}function cS(r){return r.filter(t=>t.tagName!=="A")}const uS=["top","right","bottom","left"],rr=Math.min,Dt=Math.max,_a=Math.round,la=Math.floor,mn=r=>({x:r,y:r}),dS={left:"right",right:"left",bottom:"top",top:"bottom"},fS={start:"end",end:"start"};function bu(r,t,s){return Dt(r,rr(t,s))}function Nn(r,t){return typeof r=="function"?r(t):r}function Tn(r){return r.split("-")[0]}function Us(r){return r.split("-")[1]}function id(r){return r==="x"?"y":"x"}function ad(r){return r==="y"?"height":"width"}const hS=new Set(["top","bottom"]);function pn(r){return hS.has(Tn(r))?"y":"x"}function ld(r){return id(pn(r))}function pS(r,t,s){s===void 0&&(s=!1);const o=Us(r),a=ld(r),l=ad(a);let u=a==="x"?o===(s?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(u=Sa(u)),[u,Sa(u)]}function mS(r){const t=Sa(r);return[_u(r),t,_u(t)]}function _u(r){return r.replace(/start|end/g,t=>fS[t])}const Xp=["left","right"],Zp=["right","left"],gS=["top","bottom"],vS=["bottom","top"];function yS(r,t,s){switch(r){case"top":case"bottom":return s?t?Zp:Xp:t?Xp:Zp;case"left":case"right":return t?gS:vS;default:return[]}}function wS(r,t,s,o){const a=Us(r);let l=yS(Tn(r),s==="start",o);return a&&(l=l.map(u=>u+"-"+a),t&&(l=l.concat(l.map(_u)))),l}function Sa(r){return r.replace(/left|right|bottom|top/g,t=>dS[t])}function xS(r){return{top:0,right:0,bottom:0,left:0,...r}}function iv(r){return typeof r!="number"?xS(r):{top:r,right:r,bottom:r,left:r}}function ka(r){const{x:t,y:s,width:o,height:a}=r;return{width:o,height:a,top:s,left:t,right:t+o,bottom:s+a,x:t,y:s}}function em(r,t,s){let{reference:o,floating:a}=r;const l=pn(t),u=ld(t),f=ad(u),p=Tn(t),g=l==="y",v=o.x+o.width/2-a.width/2,y=o.y+o.height/2-a.height/2,_=o[f]/2-a[f]/2;let S;switch(p){case"top":S={x:v,y:o.y-a.height};break;case"bottom":S={x:v,y:o.y+o.height};break;case"right":S={x:o.x+o.width,y};break;case"left":S={x:o.x-a.width,y};break;default:S={x:o.x,y:o.y}}switch(Us(t)){case"start":S[u]-=_*(s&&g?-1:1);break;case"end":S[u]+=_*(s&&g?-1:1);break}return S}const bS=async(r,t,s)=>{const{placement:o="bottom",strategy:a="absolute",middleware:l=[],platform:u}=s,f=l.filter(Boolean),p=await(u.isRTL==null?void 0:u.isRTL(t));let g=await u.getElementRects({reference:r,floating:t,strategy:a}),{x:v,y}=em(g,o,p),_=o,S={},E=0;for(let b=0;b<f.length;b++){const{name:k,fn:C}=f[b],{x:P,y:R,data:T,reset:D}=await C({x:v,y,initialPlacement:o,placement:_,strategy:a,middlewareData:S,rects:g,platform:u,elements:{reference:r,floating:t}});v=P??v,y=R??y,S={...S,[k]:{...S[k],...T}},D&&E<=50&&(E++,typeof D=="object"&&(D.placement&&(_=D.placement),D.rects&&(g=D.rects===!0?await u.getElementRects({reference:r,floating:t,strategy:a}):D.rects),{x:v,y}=em(g,_,p)),b=-1)}return{x:v,y,placement:_,strategy:a,middlewareData:S}};async function Uo(r,t){var s;t===void 0&&(t={});const{x:o,y:a,platform:l,rects:u,elements:f,strategy:p}=r,{boundary:g="clippingAncestors",rootBoundary:v="viewport",elementContext:y="floating",altBoundary:_=!1,padding:S=0}=Nn(t,r),E=iv(S),k=f[_?y==="floating"?"reference":"floating":y],C=ka(await l.getClippingRect({element:(s=await(l.isElement==null?void 0:l.isElement(k)))==null||s?k:k.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(f.floating)),boundary:g,rootBoundary:v,strategy:p})),P=y==="floating"?{x:o,y:a,width:u.floating.width,height:u.floating.height}:u.reference,R=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f.floating)),T=await(l.isElement==null?void 0:l.isElement(R))?await(l.getScale==null?void 0:l.getScale(R))||{x:1,y:1}:{x:1,y:1},D=ka(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:P,offsetParent:R,strategy:p}):P);return{top:(C.top-D.top+E.top)/T.y,bottom:(D.bottom-C.bottom+E.bottom)/T.y,left:(C.left-D.left+E.left)/T.x,right:(D.right-C.right+E.right)/T.x}}const _S=r=>({name:"arrow",options:r,async fn(t){const{x:s,y:o,placement:a,rects:l,platform:u,elements:f,middlewareData:p}=t,{element:g,padding:v=0}=Nn(r,t)||{};if(g==null)return{};const y=iv(v),_={x:s,y:o},S=ld(a),E=ad(S),b=await u.getDimensions(g),k=S==="y",C=k?"top":"left",P=k?"bottom":"right",R=k?"clientHeight":"clientWidth",T=l.reference[E]+l.reference[S]-_[S]-l.floating[E],D=_[S]-l.reference[S],B=await(u.getOffsetParent==null?void 0:u.getOffsetParent(g));let F=B?B[R]:0;(!F||!await(u.isElement==null?void 0:u.isElement(B)))&&(F=f.floating[R]||l.floating[E]);const z=T/2-D/2,W=F/2-b[E]/2-1,J=rr(y[C],W),te=rr(y[P],W),Y=J,re=F-b[E]-te,H=F/2-b[E]/2+z,oe=bu(Y,H,re),Z=!p.arrow&&Us(a)!=null&&H!==oe&&l.reference[E]/2-(H<Y?J:te)-b[E]/2<0,ne=Z?H<Y?H-Y:H-re:0;return{[S]:_[S]+ne,data:{[S]:oe,centerOffset:H-oe-ne,...Z&&{alignmentOffset:ne}},reset:Z}}}),SS=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(t){var s,o;const{placement:a,middlewareData:l,rects:u,initialPlacement:f,platform:p,elements:g}=t,{mainAxis:v=!0,crossAxis:y=!0,fallbackPlacements:_,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:b=!0,...k}=Nn(r,t);if((s=l.arrow)!=null&&s.alignmentOffset)return{};const C=Tn(a),P=pn(f),R=Tn(f)===f,T=await(p.isRTL==null?void 0:p.isRTL(g.floating)),D=_||(R||!b?[Sa(f)]:mS(f)),B=E!=="none";!_&&B&&D.push(...wS(f,b,E,T));const F=[f,...D],z=await Uo(t,k),W=[];let J=((o=l.flip)==null?void 0:o.overflows)||[];if(v&&W.push(z[C]),y){const H=pS(a,u,T);W.push(z[H[0]],z[H[1]])}if(J=[...J,{placement:a,overflows:W}],!W.every(H=>H<=0)){var te,Y;const H=(((te=l.flip)==null?void 0:te.index)||0)+1,oe=F[H];if(oe&&(!(y==="alignment"?P!==pn(oe):!1)||J.every(j=>pn(j.placement)===P?j.overflows[0]>0:!0)))return{data:{index:H,overflows:J},reset:{placement:oe}};let Z=(Y=J.filter(ne=>ne.overflows[0]<=0).sort((ne,j)=>ne.overflows[1]-j.overflows[1])[0])==null?void 0:Y.placement;if(!Z)switch(S){case"bestFit":{var re;const ne=(re=J.filter(j=>{if(B){const U=pn(j.placement);return U===P||U==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(U=>U>0).reduce((U,K)=>U+K,0)]).sort((j,U)=>j[1]-U[1])[0])==null?void 0:re[0];ne&&(Z=ne);break}case"initialPlacement":Z=f;break}if(a!==Z)return{reset:{placement:Z}}}return{}}}};function tm(r,t){return{top:r.top-t.height,right:r.right-t.width,bottom:r.bottom-t.height,left:r.left-t.width}}function nm(r){return uS.some(t=>r[t]>=0)}const kS=function(r){return r===void 0&&(r={}),{name:"hide",options:r,async fn(t){const{rects:s}=t,{strategy:o="referenceHidden",...a}=Nn(r,t);switch(o){case"referenceHidden":{const l=await Uo(t,{...a,elementContext:"reference"}),u=tm(l,s.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:nm(u)}}}case"escaped":{const l=await Uo(t,{...a,altBoundary:!0}),u=tm(l,s.floating);return{data:{escapedOffsets:u,escaped:nm(u)}}}default:return{}}}}},av=new Set(["left","top"]);async function ES(r,t){const{placement:s,platform:o,elements:a}=r,l=await(o.isRTL==null?void 0:o.isRTL(a.floating)),u=Tn(s),f=Us(s),p=pn(s)==="y",g=av.has(u)?-1:1,v=l&&p?-1:1,y=Nn(t,r);let{mainAxis:_,crossAxis:S,alignmentAxis:E}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return f&&typeof E=="number"&&(S=f==="end"?E*-1:E),p?{x:S*v,y:_*g}:{x:_*g,y:S*v}}const jS=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(t){var s,o;const{x:a,y:l,placement:u,middlewareData:f}=t,p=await ES(t,r);return u===((s=f.offset)==null?void 0:s.placement)&&(o=f.arrow)!=null&&o.alignmentOffset?{}:{x:a+p.x,y:l+p.y,data:{...p,placement:u}}}}},CS=function(r){return r===void 0&&(r={}),{name:"shift",options:r,async fn(t){const{x:s,y:o,placement:a}=t,{mainAxis:l=!0,crossAxis:u=!1,limiter:f={fn:k=>{let{x:C,y:P}=k;return{x:C,y:P}}},...p}=Nn(r,t),g={x:s,y:o},v=await Uo(t,p),y=pn(Tn(a)),_=id(y);let S=g[_],E=g[y];if(l){const k=_==="y"?"top":"left",C=_==="y"?"bottom":"right",P=S+v[k],R=S-v[C];S=bu(P,S,R)}if(u){const k=y==="y"?"top":"left",C=y==="y"?"bottom":"right",P=E+v[k],R=E-v[C];E=bu(P,E,R)}const b=f.fn({...t,[_]:S,[y]:E});return{...b,data:{x:b.x-s,y:b.y-o,enabled:{[_]:l,[y]:u}}}}}},NS=function(r){return r===void 0&&(r={}),{options:r,fn(t){const{x:s,y:o,placement:a,rects:l,middlewareData:u}=t,{offset:f=0,mainAxis:p=!0,crossAxis:g=!0}=Nn(r,t),v={x:s,y:o},y=pn(a),_=id(y);let S=v[_],E=v[y];const b=Nn(f,t),k=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(p){const R=_==="y"?"height":"width",T=l.reference[_]-l.floating[R]+k.mainAxis,D=l.reference[_]+l.reference[R]-k.mainAxis;S<T?S=T:S>D&&(S=D)}if(g){var C,P;const R=_==="y"?"width":"height",T=av.has(Tn(a)),D=l.reference[y]-l.floating[R]+(T&&((C=u.offset)==null?void 0:C[y])||0)+(T?0:k.crossAxis),B=l.reference[y]+l.reference[R]+(T?0:((P=u.offset)==null?void 0:P[y])||0)-(T?k.crossAxis:0);E<D?E=D:E>B&&(E=B)}return{[_]:S,[y]:E}}}},TS=function(r){return r===void 0&&(r={}),{name:"size",options:r,async fn(t){var s,o;const{placement:a,rects:l,platform:u,elements:f}=t,{apply:p=()=>{},...g}=Nn(r,t),v=await Uo(t,g),y=Tn(a),_=Us(a),S=pn(a)==="y",{width:E,height:b}=l.floating;let k,C;y==="top"||y==="bottom"?(k=y,C=_===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(C=y,k=_==="end"?"top":"bottom");const P=b-v.top-v.bottom,R=E-v.left-v.right,T=rr(b-v[k],P),D=rr(E-v[C],R),B=!t.middlewareData.shift;let F=T,z=D;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(z=R),(o=t.middlewareData.shift)!=null&&o.enabled.y&&(F=P),B&&!_){const J=Dt(v.left,0),te=Dt(v.right,0),Y=Dt(v.top,0),re=Dt(v.bottom,0);S?z=E-2*(J!==0||te!==0?J+te:Dt(v.left,v.right)):F=b-2*(Y!==0||re!==0?Y+re:Dt(v.top,v.bottom))}await p({...t,availableWidth:z,availableHeight:F});const W=await u.getDimensions(f.floating);return E!==W.width||b!==W.height?{reset:{rects:!0}}:{}}}};function La(){return typeof window<"u"}function Fs(r){return lv(r)?(r.nodeName||"").toLowerCase():"#document"}function Lt(r){var t;return(r==null||(t=r.ownerDocument)==null?void 0:t.defaultView)||window}function vn(r){var t;return(t=(lv(r)?r.ownerDocument:r.document)||window.document)==null?void 0:t.documentElement}function lv(r){return La()?r instanceof Node||r instanceof Lt(r).Node:!1}function rn(r){return La()?r instanceof Element||r instanceof Lt(r).Element:!1}function gn(r){return La()?r instanceof HTMLElement||r instanceof Lt(r).HTMLElement:!1}function rm(r){return!La()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof Lt(r).ShadowRoot}const PS=new Set(["inline","contents"]);function Ko(r){const{overflow:t,overflowX:s,overflowY:o,display:a}=sn(r);return/auto|scroll|overlay|hidden|clip/.test(t+o+s)&&!PS.has(a)}const RS=new Set(["table","td","th"]);function OS(r){return RS.has(Fs(r))}const AS=[":popover-open",":modal"];function $a(r){return AS.some(t=>{try{return r.matches(t)}catch{return!1}})}const IS=["transform","translate","scale","rotate","perspective"],DS=["transform","translate","scale","rotate","perspective","filter"],LS=["paint","layout","strict","content"];function cd(r){const t=ud(),s=rn(r)?sn(r):r;return IS.some(o=>s[o]?s[o]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||DS.some(o=>(s.willChange||"").includes(o))||LS.some(o=>(s.contain||"").includes(o))}function $S(r){let t=sr(r);for(;gn(t)&&!Is(t);){if(cd(t))return t;if($a(t))return null;t=sr(t)}return null}function ud(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const MS=new Set(["html","body","#document"]);function Is(r){return MS.has(Fs(r))}function sn(r){return Lt(r).getComputedStyle(r)}function Ma(r){return rn(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function sr(r){if(Fs(r)==="html")return r;const t=r.assignedSlot||r.parentNode||rm(r)&&r.host||vn(r);return rm(t)?t.host:t}function cv(r){const t=sr(r);return Is(t)?r.ownerDocument?r.ownerDocument.body:r.body:gn(t)&&Ko(t)?t:cv(t)}function Fo(r,t,s){var o;t===void 0&&(t=[]),s===void 0&&(s=!0);const a=cv(r),l=a===((o=r.ownerDocument)==null?void 0:o.body),u=Lt(a);if(l){const f=Su(u);return t.concat(u,u.visualViewport||[],Ko(a)?a:[],f&&s?Fo(f):[])}return t.concat(a,Fo(a,[],s))}function Su(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}function uv(r){const t=sn(r);let s=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const a=gn(r),l=a?r.offsetWidth:s,u=a?r.offsetHeight:o,f=_a(s)!==l||_a(o)!==u;return f&&(s=l,o=u),{width:s,height:o,$:f}}function dd(r){return rn(r)?r:r.contextElement}function Ns(r){const t=dd(r);if(!gn(t))return mn(1);const s=t.getBoundingClientRect(),{width:o,height:a,$:l}=uv(t);let u=(l?_a(s.width):s.width)/o,f=(l?_a(s.height):s.height)/a;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const US=mn(0);function dv(r){const t=Lt(r);return!ud()||!t.visualViewport?US:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function FS(r,t,s){return t===void 0&&(t=!1),!s||t&&s!==Lt(r)?!1:t}function Rr(r,t,s,o){t===void 0&&(t=!1),s===void 0&&(s=!1);const a=r.getBoundingClientRect(),l=dd(r);let u=mn(1);t&&(o?rn(o)&&(u=Ns(o)):u=Ns(r));const f=FS(l,s,o)?dv(l):mn(0);let p=(a.left+f.x)/u.x,g=(a.top+f.y)/u.y,v=a.width/u.x,y=a.height/u.y;if(l){const _=Lt(l),S=o&&rn(o)?Lt(o):o;let E=_,b=Su(E);for(;b&&o&&S!==E;){const k=Ns(b),C=b.getBoundingClientRect(),P=sn(b),R=C.left+(b.clientLeft+parseFloat(P.paddingLeft))*k.x,T=C.top+(b.clientTop+parseFloat(P.paddingTop))*k.y;p*=k.x,g*=k.y,v*=k.x,y*=k.y,p+=R,g+=T,E=Lt(b),b=Su(E)}}return ka({width:v,height:y,x:p,y:g})}function Ua(r,t){const s=Ma(r).scrollLeft;return t?t.left+s:Rr(vn(r)).left+s}function fv(r,t){const s=r.getBoundingClientRect(),o=s.left+t.scrollLeft-Ua(r,s),a=s.top+t.scrollTop;return{x:o,y:a}}function zS(r){let{elements:t,rect:s,offsetParent:o,strategy:a}=r;const l=a==="fixed",u=vn(o),f=t?$a(t.floating):!1;if(o===u||f&&l)return s;let p={scrollLeft:0,scrollTop:0},g=mn(1);const v=mn(0),y=gn(o);if((y||!y&&!l)&&((Fs(o)!=="body"||Ko(u))&&(p=Ma(o)),gn(o))){const S=Rr(o);g=Ns(o),v.x=S.x+o.clientLeft,v.y=S.y+o.clientTop}const _=u&&!y&&!l?fv(u,p):mn(0);return{width:s.width*g.x,height:s.height*g.y,x:s.x*g.x-p.scrollLeft*g.x+v.x+_.x,y:s.y*g.y-p.scrollTop*g.y+v.y+_.y}}function BS(r){return Array.from(r.getClientRects())}function VS(r){const t=vn(r),s=Ma(r),o=r.ownerDocument.body,a=Dt(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),l=Dt(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let u=-s.scrollLeft+Ua(r);const f=-s.scrollTop;return sn(o).direction==="rtl"&&(u+=Dt(t.clientWidth,o.clientWidth)-a),{width:a,height:l,x:u,y:f}}const sm=25;function WS(r,t){const s=Lt(r),o=vn(r),a=s.visualViewport;let l=o.clientWidth,u=o.clientHeight,f=0,p=0;if(a){l=a.width,u=a.height;const v=ud();(!v||v&&t==="fixed")&&(f=a.offsetLeft,p=a.offsetTop)}const g=Ua(o);if(g<=0){const v=o.ownerDocument,y=v.body,_=getComputedStyle(y),S=v.compatMode==="CSS1Compat"&&parseFloat(_.marginLeft)+parseFloat(_.marginRight)||0,E=Math.abs(o.clientWidth-y.clientWidth-S);E<=sm&&(l-=E)}else g<=sm&&(l+=g);return{width:l,height:u,x:f,y:p}}const HS=new Set(["absolute","fixed"]);function KS(r,t){const s=Rr(r,!0,t==="fixed"),o=s.top+r.clientTop,a=s.left+r.clientLeft,l=gn(r)?Ns(r):mn(1),u=r.clientWidth*l.x,f=r.clientHeight*l.y,p=a*l.x,g=o*l.y;return{width:u,height:f,x:p,y:g}}function om(r,t,s){let o;if(t==="viewport")o=WS(r,s);else if(t==="document")o=VS(vn(r));else if(rn(t))o=KS(t,s);else{const a=dv(r);o={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return ka(o)}function hv(r,t){const s=sr(r);return s===t||!rn(s)||Is(s)?!1:sn(s).position==="fixed"||hv(s,t)}function qS(r,t){const s=t.get(r);if(s)return s;let o=Fo(r,[],!1).filter(f=>rn(f)&&Fs(f)!=="body"),a=null;const l=sn(r).position==="fixed";let u=l?sr(r):r;for(;rn(u)&&!Is(u);){const f=sn(u),p=cd(u);!p&&f.position==="fixed"&&(a=null),(l?!p&&!a:!p&&f.position==="static"&&!!a&&HS.has(a.position)||Ko(u)&&!p&&hv(r,u))?o=o.filter(v=>v!==u):a=f,u=sr(u)}return t.set(r,o),o}function GS(r){let{element:t,boundary:s,rootBoundary:o,strategy:a}=r;const u=[...s==="clippingAncestors"?$a(t)?[]:qS(t,this._c):[].concat(s),o],f=u[0],p=u.reduce((g,v)=>{const y=om(t,v,a);return g.top=Dt(y.top,g.top),g.right=rr(y.right,g.right),g.bottom=rr(y.bottom,g.bottom),g.left=Dt(y.left,g.left),g},om(t,f,a));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function JS(r){const{width:t,height:s}=uv(r);return{width:t,height:s}}function QS(r,t,s){const o=gn(t),a=vn(t),l=s==="fixed",u=Rr(r,!0,l,t);let f={scrollLeft:0,scrollTop:0};const p=mn(0);function g(){p.x=Ua(a)}if(o||!o&&!l)if((Fs(t)!=="body"||Ko(a))&&(f=Ma(t)),o){const S=Rr(t,!0,l,t);p.x=S.x+t.clientLeft,p.y=S.y+t.clientTop}else a&&g();l&&!o&&a&&g();const v=a&&!o&&!l?fv(a,f):mn(0),y=u.left+f.scrollLeft-p.x-v.x,_=u.top+f.scrollTop-p.y-v.y;return{x:y,y:_,width:u.width,height:u.height}}function Qc(r){return sn(r).position==="static"}function im(r,t){if(!gn(r)||sn(r).position==="fixed")return null;if(t)return t(r);let s=r.offsetParent;return vn(r)===s&&(s=s.ownerDocument.body),s}function pv(r,t){const s=Lt(r);if($a(r))return s;if(!gn(r)){let a=sr(r);for(;a&&!Is(a);){if(rn(a)&&!Qc(a))return a;a=sr(a)}return s}let o=im(r,t);for(;o&&OS(o)&&Qc(o);)o=im(o,t);return o&&Is(o)&&Qc(o)&&!cd(o)?s:o||$S(r)||s}const YS=async function(r){const t=this.getOffsetParent||pv,s=this.getDimensions,o=await s(r.floating);return{reference:QS(r.reference,await t(r.floating),r.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function XS(r){return sn(r).direction==="rtl"}const ZS={convertOffsetParentRelativeRectToViewportRelativeRect:zS,getDocumentElement:vn,getClippingRect:GS,getOffsetParent:pv,getElementRects:YS,getClientRects:BS,getDimensions:JS,getScale:Ns,isElement:rn,isRTL:XS};function mv(r,t){return r.x===t.x&&r.y===t.y&&r.width===t.width&&r.height===t.height}function e1(r,t){let s=null,o;const a=vn(r);function l(){var f;clearTimeout(o),(f=s)==null||f.disconnect(),s=null}function u(f,p){f===void 0&&(f=!1),p===void 0&&(p=1),l();const g=r.getBoundingClientRect(),{left:v,top:y,width:_,height:S}=g;if(f||t(),!_||!S)return;const E=la(y),b=la(a.clientWidth-(v+_)),k=la(a.clientHeight-(y+S)),C=la(v),R={rootMargin:-E+"px "+-b+"px "+-k+"px "+-C+"px",threshold:Dt(0,rr(1,p))||1};let T=!0;function D(B){const F=B[0].intersectionRatio;if(F!==p){if(!T)return u();F?u(!1,F):o=setTimeout(()=>{u(!1,1e-7)},1e3)}F===1&&!mv(g,r.getBoundingClientRect())&&u(),T=!1}try{s=new IntersectionObserver(D,{...R,root:a.ownerDocument})}catch{s=new IntersectionObserver(D,R)}s.observe(r)}return u(!0),l}function t1(r,t,s,o){o===void 0&&(o={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:p=!1}=o,g=dd(r),v=a||l?[...g?Fo(g):[],...Fo(t)]:[];v.forEach(C=>{a&&C.addEventListener("scroll",s,{passive:!0}),l&&C.addEventListener("resize",s)});const y=g&&f?e1(g,s):null;let _=-1,S=null;u&&(S=new ResizeObserver(C=>{let[P]=C;P&&P.target===g&&S&&(S.unobserve(t),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var R;(R=S)==null||R.observe(t)})),s()}),g&&!p&&S.observe(g),S.observe(t));let E,b=p?Rr(r):null;p&&k();function k(){const C=Rr(r);b&&!mv(b,C)&&s(),b=C,E=requestAnimationFrame(k)}return s(),()=>{var C;v.forEach(P=>{a&&P.removeEventListener("scroll",s),l&&P.removeEventListener("resize",s)}),y?.(),(C=S)==null||C.disconnect(),S=null,p&&cancelAnimationFrame(E)}}const n1=jS,r1=CS,s1=SS,o1=TS,i1=kS,am=_S,a1=NS,l1=(r,t,s)=>{const o=new Map,a={platform:ZS,...s},l={...a.platform,_c:o};return bS(r,t,{...a,platform:l})};var c1=typeof document<"u",u1=function(){},va=c1?x.useLayoutEffect:u1;function Ea(r,t){if(r===t)return!0;if(typeof r!=typeof t)return!1;if(typeof r=="function"&&r.toString()===t.toString())return!0;let s,o,a;if(r&&t&&typeof r=="object"){if(Array.isArray(r)){if(s=r.length,s!==t.length)return!1;for(o=s;o--!==0;)if(!Ea(r[o],t[o]))return!1;return!0}if(a=Object.keys(r),s=a.length,s!==Object.keys(t).length)return!1;for(o=s;o--!==0;)if(!{}.hasOwnProperty.call(t,a[o]))return!1;for(o=s;o--!==0;){const l=a[o];if(!(l==="_owner"&&r.$$typeof)&&!Ea(r[l],t[l]))return!1}return!0}return r!==r&&t!==t}function gv(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function lm(r,t){const s=gv(r);return Math.round(t*s)/s}function Yc(r){const t=x.useRef(r);return va(()=>{t.current=r}),t}function d1(r){r===void 0&&(r={});const{placement:t="bottom",strategy:s="absolute",middleware:o=[],platform:a,elements:{reference:l,floating:u}={},transform:f=!0,whileElementsMounted:p,open:g}=r,[v,y]=x.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[_,S]=x.useState(o);Ea(_,o)||S(o);const[E,b]=x.useState(null),[k,C]=x.useState(null),P=x.useCallback(j=>{j!==B.current&&(B.current=j,b(j))},[]),R=x.useCallback(j=>{j!==F.current&&(F.current=j,C(j))},[]),T=l||E,D=u||k,B=x.useRef(null),F=x.useRef(null),z=x.useRef(v),W=p!=null,J=Yc(p),te=Yc(a),Y=Yc(g),re=x.useCallback(()=>{if(!B.current||!F.current)return;const j={placement:t,strategy:s,middleware:_};te.current&&(j.platform=te.current),l1(B.current,F.current,j).then(U=>{const K={...U,isPositioned:Y.current!==!1};H.current&&!Ea(z.current,K)&&(z.current=K,Vo.flushSync(()=>{y(K)}))})},[_,t,s,te,Y]);va(()=>{g===!1&&z.current.isPositioned&&(z.current.isPositioned=!1,y(j=>({...j,isPositioned:!1})))},[g]);const H=x.useRef(!1);va(()=>(H.current=!0,()=>{H.current=!1}),[]),va(()=>{if(T&&(B.current=T),D&&(F.current=D),T&&D){if(J.current)return J.current(T,D,re);re()}},[T,D,re,J,W]);const oe=x.useMemo(()=>({reference:B,floating:F,setReference:P,setFloating:R}),[P,R]),Z=x.useMemo(()=>({reference:T,floating:D}),[T,D]),ne=x.useMemo(()=>{const j={position:s,left:0,top:0};if(!Z.floating)return j;const U=lm(Z.floating,v.x),K=lm(Z.floating,v.y);return f?{...j,transform:"translate("+U+"px, "+K+"px)",...gv(Z.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:U,top:K}},[s,f,Z.floating,v.x,v.y]);return x.useMemo(()=>({...v,update:re,refs:oe,elements:Z,floatingStyles:ne}),[v,re,oe,Z,ne])}const f1=r=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:r,fn(s){const{element:o,padding:a}=typeof r=="function"?r(s):r;return o&&t(o)?o.current!=null?am({element:o.current,padding:a}).fn(s):{}:o?am({element:o,padding:a}).fn(s):{}}}},h1=(r,t)=>({...n1(r),options:[r,t]}),p1=(r,t)=>({...r1(r),options:[r,t]}),m1=(r,t)=>({...a1(r),options:[r,t]}),g1=(r,t)=>({...s1(r),options:[r,t]}),v1=(r,t)=>({...o1(r),options:[r,t]}),y1=(r,t)=>({...i1(r),options:[r,t]}),w1=(r,t)=>({...f1(r),options:[r,t]});var x1="Arrow",vv=x.forwardRef((r,t)=>{const{children:s,width:o=10,height:a=5,...l}=r;return d.jsx(Ee.svg,{...l,ref:t,width:o,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:r.asChild?s:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});vv.displayName=x1;var b1=vv,fd="Popper",[yv,wv]=or(fd),[_1,xv]=yv(fd),bv=r=>{const{__scopePopper:t,children:s}=r,[o,a]=x.useState(null);return d.jsx(_1,{scope:t,anchor:o,onAnchorChange:a,children:s})};bv.displayName=fd;var _v="PopperAnchor",Sv=x.forwardRef((r,t)=>{const{__scopePopper:s,virtualRef:o,...a}=r,l=xv(_v,s),u=x.useRef(null),f=Ue(t,u),p=x.useRef(null);return x.useEffect(()=>{const g=p.current;p.current=o?.current||u.current,g!==p.current&&l.onAnchorChange(p.current)}),o?null:d.jsx(Ee.div,{...a,ref:f})});Sv.displayName=_v;var hd="PopperContent",[S1,k1]=yv(hd),kv=x.forwardRef((r,t)=>{const{__scopePopper:s,side:o="bottom",sideOffset:a=0,align:l="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:p=!0,collisionBoundary:g=[],collisionPadding:v=0,sticky:y="partial",hideWhenDetached:_=!1,updatePositionStrategy:S="optimized",onPlaced:E,...b}=r,k=xv(hd,s),[C,P]=x.useState(null),R=Ue(t,X=>P(X)),[T,D]=x.useState(null),B=bg(T),F=B?.width??0,z=B?.height??0,W=o+(l!=="center"?"-"+l:""),J=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},te=Array.isArray(g)?g:[g],Y=te.length>0,re={padding:J,boundary:te.filter(j1),altBoundary:Y},{refs:H,floatingStyles:oe,placement:Z,isPositioned:ne,middlewareData:j}=d1({strategy:"fixed",placement:W,whileElementsMounted:(...X)=>t1(...X,{animationFrame:S==="always"}),elements:{reference:k.anchor},middleware:[h1({mainAxis:a+z,alignmentAxis:u}),p&&p1({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?m1():void 0,...re}),p&&g1({...re}),v1({...re,apply:({elements:X,rects:pe,availableWidth:we,availableHeight:be})=>{const{width:Re,height:$e}=pe.reference,ut=X.floating.style;ut.setProperty("--radix-popper-available-width",`${we}px`),ut.setProperty("--radix-popper-available-height",`${be}px`),ut.setProperty("--radix-popper-anchor-width",`${Re}px`),ut.setProperty("--radix-popper-anchor-height",`${$e}px`)}}),T&&w1({element:T,padding:f}),C1({arrowWidth:F,arrowHeight:z}),_&&y1({strategy:"referenceHidden",...re})]}),[U,K]=Cv(Z),A=nr(E);wt(()=>{ne&&A?.()},[ne,A]);const V=j.arrow?.x,le=j.arrow?.y,ae=j.arrow?.centerOffset!==0,[xe,Se]=x.useState();return wt(()=>{C&&Se(window.getComputedStyle(C).zIndex)},[C]),d.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...oe,transform:ne?oe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:xe,"--radix-popper-transform-origin":[j.transformOrigin?.x,j.transformOrigin?.y].join(" "),...j.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:r.dir,children:d.jsx(S1,{scope:s,placedSide:U,onArrowChange:D,arrowX:V,arrowY:le,shouldHideArrow:ae,children:d.jsx(Ee.div,{"data-side":U,"data-align":K,...b,ref:R,style:{...b.style,animation:ne?void 0:"none"}})})})});kv.displayName=hd;var Ev="PopperArrow",E1={top:"bottom",right:"left",bottom:"top",left:"right"},jv=x.forwardRef(function(t,s){const{__scopePopper:o,...a}=t,l=k1(Ev,o),u=E1[l.placedSide];return d.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:d.jsx(b1,{...a,ref:s,style:{...a.style,display:"block"}})})});jv.displayName=Ev;function j1(r){return r!==null}var C1=r=>({name:"transformOrigin",options:r,fn(t){const{placement:s,rects:o,middlewareData:a}=t,u=a.arrow?.centerOffset!==0,f=u?0:r.arrowWidth,p=u?0:r.arrowHeight,[g,v]=Cv(s),y={start:"0%",center:"50%",end:"100%"}[v],_=(a.arrow?.x??0)+f/2,S=(a.arrow?.y??0)+p/2;let E="",b="";return g==="bottom"?(E=u?y:`${_}px`,b=`${-p}px`):g==="top"?(E=u?y:`${_}px`,b=`${o.floating.height+p}px`):g==="right"?(E=`${-p}px`,b=u?y:`${S}px`):g==="left"&&(E=`${o.floating.width+p}px`,b=u?y:`${S}px`),{data:{x:E,y:b}}}});function Cv(r){const[t,s="center"]=r.split("-");return[t,s]}var N1=bv,T1=Sv,P1=kv,R1=jv,O1="Portal",pd=x.forwardRef((r,t)=>{const{container:s,...o}=r,[a,l]=x.useState(!1);wt(()=>l(!0),[]);const u=s||a&&globalThis?.document?.body;return u?Fx.createPortal(d.jsx(Ee.div,{...o,ref:t}),u):null});pd.displayName=O1;var Nv=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),A1="VisuallyHidden",I1=x.forwardRef((r,t)=>d.jsx(Ee.span,{...r,ref:t,style:{...Nv,...r.style}}));I1.displayName=A1;var D1=function(r){if(typeof document>"u")return null;var t=Array.isArray(r)?r[0]:r;return t.ownerDocument.body},us=new WeakMap,ca=new WeakMap,ua={},Xc=0,Tv=function(r){return r&&(r.host||Tv(r.parentNode))},L1=function(r,t){return t.map(function(s){if(r.contains(s))return s;var o=Tv(s);return o&&r.contains(o)?o:(console.error("aria-hidden",s,"in not contained inside",r,". Doing nothing"),null)}).filter(function(s){return!!s})},$1=function(r,t,s,o){var a=L1(t,Array.isArray(r)?r:[r]);ua[s]||(ua[s]=new WeakMap);var l=ua[s],u=[],f=new Set,p=new Set(a),g=function(y){!y||f.has(y)||(f.add(y),g(y.parentNode))};a.forEach(g);var v=function(y){!y||p.has(y)||Array.prototype.forEach.call(y.children,function(_){if(f.has(_))v(_);else try{var S=_.getAttribute(o),E=S!==null&&S!=="false",b=(us.get(_)||0)+1,k=(l.get(_)||0)+1;us.set(_,b),l.set(_,k),u.push(_),b===1&&E&&ca.set(_,!0),k===1&&_.setAttribute(s,"true"),E||_.setAttribute(o,"true")}catch(C){console.error("aria-hidden: cannot operate on ",_,C)}})};return v(t),f.clear(),Xc++,function(){u.forEach(function(y){var _=us.get(y)-1,S=l.get(y)-1;us.set(y,_),l.set(y,S),_||(ca.has(y)||y.removeAttribute(o),ca.delete(y)),S||y.removeAttribute(s)}),Xc--,Xc||(us=new WeakMap,us=new WeakMap,ca=new WeakMap,ua={})}},Pv=function(r,t,s){s===void 0&&(s="data-aria-hidden");var o=Array.from(Array.isArray(r)?r:[r]),a=D1(r);return a?(o.push.apply(o,Array.from(a.querySelectorAll("[aria-live], script"))),$1(o,a,s,"aria-hidden")):function(){return null}},hn=function(){return hn=Object.assign||function(t){for(var s,o=1,a=arguments.length;o<a;o++){s=arguments[o];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(t[l]=s[l])}return t},hn.apply(this,arguments)};function Rv(r,t){var s={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&t.indexOf(o)<0&&(s[o]=r[o]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(r);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(r,o[a])&&(s[o[a]]=r[o[a]]);return s}function M1(r,t,s){if(s||arguments.length===2)for(var o=0,a=t.length,l;o<a;o++)(l||!(o in t))&&(l||(l=Array.prototype.slice.call(t,0,o)),l[o]=t[o]);return r.concat(l||Array.prototype.slice.call(t))}var ya="right-scroll-bar-position",wa="width-before-scroll-bar",U1="with-scroll-bars-hidden",F1="--removed-body-scroll-bar-size";function Zc(r,t){return typeof r=="function"?r(t):r&&(r.current=t),r}function z1(r,t){var s=x.useState(function(){return{value:r,callback:t,facade:{get current(){return s.value},set current(o){var a=s.value;a!==o&&(s.value=o,s.callback(o,a))}}}})[0];return s.callback=t,s.facade}var B1=typeof window<"u"?x.useLayoutEffect:x.useEffect,cm=new WeakMap;function V1(r,t){var s=z1(null,function(o){return r.forEach(function(a){return Zc(a,o)})});return B1(function(){var o=cm.get(s);if(o){var a=new Set(o),l=new Set(r),u=s.current;a.forEach(function(f){l.has(f)||Zc(f,null)}),l.forEach(function(f){a.has(f)||Zc(f,u)})}cm.set(s,r)},[r]),s}function W1(r){return r}function H1(r,t){t===void 0&&(t=W1);var s=[],o=!1,a={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:r},useMedium:function(l){var u=t(l,o);return s.push(u),function(){s=s.filter(function(f){return f!==u})}},assignSyncMedium:function(l){for(o=!0;s.length;){var u=s;s=[],u.forEach(l)}s={push:function(f){return l(f)},filter:function(){return s}}},assignMedium:function(l){o=!0;var u=[];if(s.length){var f=s;s=[],f.forEach(l),u=s}var p=function(){var v=u;u=[],v.forEach(l)},g=function(){return Promise.resolve().then(p)};g(),s={push:function(v){u.push(v),g()},filter:function(v){return u=u.filter(v),s}}}};return a}function K1(r){r===void 0&&(r={});var t=H1(null);return t.options=hn({async:!0,ssr:!1},r),t}var Ov=function(r){var t=r.sideCar,s=Rv(r,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=t.read();if(!o)throw new Error("Sidecar medium not found");return x.createElement(o,hn({},s))};Ov.isSideCarExport=!0;function q1(r,t){return r.useMedium(t),Ov}var Av=K1(),eu=function(){},Fa=x.forwardRef(function(r,t){var s=x.useRef(null),o=x.useState({onScrollCapture:eu,onWheelCapture:eu,onTouchMoveCapture:eu}),a=o[0],l=o[1],u=r.forwardProps,f=r.children,p=r.className,g=r.removeScrollBar,v=r.enabled,y=r.shards,_=r.sideCar,S=r.noRelative,E=r.noIsolation,b=r.inert,k=r.allowPinchZoom,C=r.as,P=C===void 0?"div":C,R=r.gapMode,T=Rv(r,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=_,B=V1([s,t]),F=hn(hn({},T),a);return x.createElement(x.Fragment,null,v&&x.createElement(D,{sideCar:Av,removeScrollBar:g,shards:y,noRelative:S,noIsolation:E,inert:b,setCallbacks:l,allowPinchZoom:!!k,lockRef:s,gapMode:R}),u?x.cloneElement(x.Children.only(f),hn(hn({},F),{ref:B})):x.createElement(P,hn({},F,{className:p,ref:B}),f))});Fa.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Fa.classNames={fullWidth:wa,zeroRight:ya};var G1=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function J1(){if(!document)return null;var r=document.createElement("style");r.type="text/css";var t=G1();return t&&r.setAttribute("nonce",t),r}function Q1(r,t){r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}function Y1(r){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(r)}var X1=function(){var r=0,t=null;return{add:function(s){r==0&&(t=J1())&&(Q1(t,s),Y1(t)),r++},remove:function(){r--,!r&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Z1=function(){var r=X1();return function(t,s){x.useEffect(function(){return r.add(t),function(){r.remove()}},[t&&s])}},Iv=function(){var r=Z1(),t=function(s){var o=s.styles,a=s.dynamic;return r(o,a),null};return t},ek={left:0,top:0,right:0,gap:0},tu=function(r){return parseInt(r||"",10)||0},tk=function(r){var t=window.getComputedStyle(document.body),s=t[r==="padding"?"paddingLeft":"marginLeft"],o=t[r==="padding"?"paddingTop":"marginTop"],a=t[r==="padding"?"paddingRight":"marginRight"];return[tu(s),tu(o),tu(a)]},nk=function(r){if(r===void 0&&(r="margin"),typeof window>"u")return ek;var t=tk(r),s=document.documentElement.clientWidth,o=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,o-s+t[2]-t[0])}},rk=Iv(),Ts="data-scroll-locked",sk=function(r,t,s,o){var a=r.left,l=r.top,u=r.right,f=r.gap;return s===void 0&&(s="margin"),`
  .`.concat(U1,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(f,"px ").concat(o,`;
  }
  body[`).concat(Ts,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(o,";"),s==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(o,`;
    `),s==="padding"&&"padding-right: ".concat(f,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ya,` {
    right: `).concat(f,"px ").concat(o,`;
  }
  
  .`).concat(wa,` {
    margin-right: `).concat(f,"px ").concat(o,`;
  }
  
  .`).concat(ya," .").concat(ya,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(wa," .").concat(wa,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(Ts,`] {
    `).concat(F1,": ").concat(f,`px;
  }
`)},um=function(){var r=parseInt(document.body.getAttribute(Ts)||"0",10);return isFinite(r)?r:0},ok=function(){x.useEffect(function(){return document.body.setAttribute(Ts,(um()+1).toString()),function(){var r=um()-1;r<=0?document.body.removeAttribute(Ts):document.body.setAttribute(Ts,r.toString())}},[])},ik=function(r){var t=r.noRelative,s=r.noImportant,o=r.gapMode,a=o===void 0?"margin":o;ok();var l=x.useMemo(function(){return nk(a)},[a]);return x.createElement(rk,{styles:sk(l,!t,a,s?"":"!important")})},ku=!1;if(typeof window<"u")try{var da=Object.defineProperty({},"passive",{get:function(){return ku=!0,!0}});window.addEventListener("test",da,da),window.removeEventListener("test",da,da)}catch{ku=!1}var ds=ku?{passive:!1}:!1,ak=function(r){return r.tagName==="TEXTAREA"},Dv=function(r,t){if(!(r instanceof Element))return!1;var s=window.getComputedStyle(r);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!ak(r)&&s[t]==="visible")},lk=function(r){return Dv(r,"overflowY")},ck=function(r){return Dv(r,"overflowX")},dm=function(r,t){var s=t.ownerDocument,o=t;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var a=Lv(r,o);if(a){var l=$v(r,o),u=l[1],f=l[2];if(u>f)return!0}o=o.parentNode}while(o&&o!==s.body);return!1},uk=function(r){var t=r.scrollTop,s=r.scrollHeight,o=r.clientHeight;return[t,s,o]},dk=function(r){var t=r.scrollLeft,s=r.scrollWidth,o=r.clientWidth;return[t,s,o]},Lv=function(r,t){return r==="v"?lk(t):ck(t)},$v=function(r,t){return r==="v"?uk(t):dk(t)},fk=function(r,t){return r==="h"&&t==="rtl"?-1:1},hk=function(r,t,s,o,a){var l=fk(r,window.getComputedStyle(t).direction),u=l*o,f=s.target,p=t.contains(f),g=!1,v=u>0,y=0,_=0;do{if(!f)break;var S=$v(r,f),E=S[0],b=S[1],k=S[2],C=b-k-l*E;(E||C)&&Lv(r,f)&&(y+=C,_+=E);var P=f.parentNode;f=P&&P.nodeType===Node.DOCUMENT_FRAGMENT_NODE?P.host:P}while(!p&&f!==document.body||p&&(t.contains(f)||t===f));return(v&&Math.abs(y)<1||!v&&Math.abs(_)<1)&&(g=!0),g},fa=function(r){return"changedTouches"in r?[r.changedTouches[0].clientX,r.changedTouches[0].clientY]:[0,0]},fm=function(r){return[r.deltaX,r.deltaY]},hm=function(r){return r&&"current"in r?r.current:r},pk=function(r,t){return r[0]===t[0]&&r[1]===t[1]},mk=function(r){return`
  .block-interactivity-`.concat(r,` {pointer-events: none;}
  .allow-interactivity-`).concat(r,` {pointer-events: all;}
`)},gk=0,fs=[];function vk(r){var t=x.useRef([]),s=x.useRef([0,0]),o=x.useRef(),a=x.useState(gk++)[0],l=x.useState(Iv)[0],u=x.useRef(r);x.useEffect(function(){u.current=r},[r]),x.useEffect(function(){if(r.inert){document.body.classList.add("block-interactivity-".concat(a));var b=M1([r.lockRef.current],(r.shards||[]).map(hm),!0).filter(Boolean);return b.forEach(function(k){return k.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),b.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(a))})}}},[r.inert,r.lockRef.current,r.shards]);var f=x.useCallback(function(b,k){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!u.current.allowPinchZoom;var C=fa(b),P=s.current,R="deltaX"in b?b.deltaX:P[0]-C[0],T="deltaY"in b?b.deltaY:P[1]-C[1],D,B=b.target,F=Math.abs(R)>Math.abs(T)?"h":"v";if("touches"in b&&F==="h"&&B.type==="range")return!1;var z=dm(F,B);if(!z)return!0;if(z?D=F:(D=F==="v"?"h":"v",z=dm(F,B)),!z)return!1;if(!o.current&&"changedTouches"in b&&(R||T)&&(o.current=D),!D)return!0;var W=o.current||D;return hk(W,k,b,W==="h"?R:T)},[]),p=x.useCallback(function(b){var k=b;if(!(!fs.length||fs[fs.length-1]!==l)){var C="deltaY"in k?fm(k):fa(k),P=t.current.filter(function(D){return D.name===k.type&&(D.target===k.target||k.target===D.shadowParent)&&pk(D.delta,C)})[0];if(P&&P.should){k.cancelable&&k.preventDefault();return}if(!P){var R=(u.current.shards||[]).map(hm).filter(Boolean).filter(function(D){return D.contains(k.target)}),T=R.length>0?f(k,R[0]):!u.current.noIsolation;T&&k.cancelable&&k.preventDefault()}}},[]),g=x.useCallback(function(b,k,C,P){var R={name:b,delta:k,target:C,should:P,shadowParent:yk(C)};t.current.push(R),setTimeout(function(){t.current=t.current.filter(function(T){return T!==R})},1)},[]),v=x.useCallback(function(b){s.current=fa(b),o.current=void 0},[]),y=x.useCallback(function(b){g(b.type,fm(b),b.target,f(b,r.lockRef.current))},[]),_=x.useCallback(function(b){g(b.type,fa(b),b.target,f(b,r.lockRef.current))},[]);x.useEffect(function(){return fs.push(l),r.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:_}),document.addEventListener("wheel",p,ds),document.addEventListener("touchmove",p,ds),document.addEventListener("touchstart",v,ds),function(){fs=fs.filter(function(b){return b!==l}),document.removeEventListener("wheel",p,ds),document.removeEventListener("touchmove",p,ds),document.removeEventListener("touchstart",v,ds)}},[]);var S=r.removeScrollBar,E=r.inert;return x.createElement(x.Fragment,null,E?x.createElement(l,{styles:mk(a)}):null,S?x.createElement(ik,{noRelative:r.noRelative,gapMode:r.gapMode}):null)}function yk(r){for(var t=null;r!==null;)r instanceof ShadowRoot&&(t=r.host,r=r.host),r=r.parentNode;return t}const wk=q1(Av,vk);var md=x.forwardRef(function(r,t){return x.createElement(Fa,hn({},r,{ref:t,sideCar:wk}))});md.classNames=Fa.classNames;var xk=[" ","Enter","ArrowUp","ArrowDown"],bk=[" ","Enter"],Or="Select",[za,Ba,_k]=td(Or),[zs]=or(Or,[_k,wv]),Va=wv(),[Sk,ir]=zs(Or),[kk,Ek]=zs(Or),Mv=r=>{const{__scopeSelect:t,children:s,open:o,defaultOpen:a,onOpenChange:l,value:u,defaultValue:f,onValueChange:p,dir:g,name:v,autoComplete:y,disabled:_,required:S,form:E}=r,b=Va(t),[k,C]=x.useState(null),[P,R]=x.useState(null),[T,D]=x.useState(!1),B=Oa(g),[F,z]=As({prop:o,defaultProp:a??!1,onChange:l,caller:Or}),[W,J]=As({prop:u,defaultProp:f,onChange:p,caller:Or}),te=x.useRef(null),Y=k?E||!!k.closest("form"):!0,[re,H]=x.useState(new Set),oe=Array.from(re).map(Z=>Z.props.value).join(";");return d.jsx(N1,{...b,children:d.jsxs(Sk,{required:S,scope:t,trigger:k,onTriggerChange:C,valueNode:P,onValueNodeChange:R,valueNodeHasChildren:T,onValueNodeHasChildrenChange:D,contentId:tr(),value:W,onValueChange:J,open:F,onOpenChange:z,dir:B,triggerPointerDownPosRef:te,disabled:_,children:[d.jsx(za.Provider,{scope:t,children:d.jsx(kk,{scope:r.__scopeSelect,onNativeOptionAdd:x.useCallback(Z=>{H(ne=>new Set(ne).add(Z))},[]),onNativeOptionRemove:x.useCallback(Z=>{H(ne=>{const j=new Set(ne);return j.delete(Z),j})},[]),children:s})}),Y?d.jsxs(iy,{"aria-hidden":!0,required:S,tabIndex:-1,name:v,autoComplete:y,value:W,onChange:Z=>J(Z.target.value),disabled:_,form:E,children:[W===void 0?d.jsx("option",{value:""}):null,Array.from(re)]},oe):null]})})};Mv.displayName=Or;var Uv="SelectTrigger",Fv=x.forwardRef((r,t)=>{const{__scopeSelect:s,disabled:o=!1,...a}=r,l=Va(s),u=ir(Uv,s),f=u.disabled||o,p=Ue(t,u.onTriggerChange),g=Ba(s),v=x.useRef("touch"),[y,_,S]=ly(b=>{const k=g().filter(R=>!R.disabled),C=k.find(R=>R.value===u.value),P=cy(k,b,C);P!==void 0&&u.onValueChange(P.value)}),E=b=>{f||(u.onOpenChange(!0),S()),b&&(u.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return d.jsx(T1,{asChild:!0,...l,children:d.jsx(Ee.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":ay(u.value)?"":void 0,...a,ref:p,onClick:ke(a.onClick,b=>{b.currentTarget.focus(),v.current!=="mouse"&&E(b)}),onPointerDown:ke(a.onPointerDown,b=>{v.current=b.pointerType;const k=b.target;k.hasPointerCapture(b.pointerId)&&k.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(E(b),b.preventDefault())}),onKeyDown:ke(a.onKeyDown,b=>{const k=y.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&_(b.key),!(k&&b.key===" ")&&xk.includes(b.key)&&(E(),b.preventDefault())})})})});Fv.displayName=Uv;var zv="SelectValue",Bv=x.forwardRef((r,t)=>{const{__scopeSelect:s,className:o,style:a,children:l,placeholder:u="",...f}=r,p=ir(zv,s),{onValueNodeHasChildrenChange:g}=p,v=l!==void 0,y=Ue(t,p.onValueNodeChange);return wt(()=>{g(v)},[g,v]),d.jsx(Ee.span,{...f,ref:y,style:{pointerEvents:"none"},children:ay(p.value)?d.jsx(d.Fragment,{children:u}):l})});Bv.displayName=zv;var jk="SelectIcon",Vv=x.forwardRef((r,t)=>{const{__scopeSelect:s,children:o,...a}=r;return d.jsx(Ee.span,{"aria-hidden":!0,...a,ref:t,children:o||"▼"})});Vv.displayName=jk;var Ck="SelectPortal",Wv=r=>d.jsx(pd,{asChild:!0,...r});Wv.displayName=Ck;var Ar="SelectContent",Hv=x.forwardRef((r,t)=>{const s=ir(Ar,r.__scopeSelect),[o,a]=x.useState();if(wt(()=>{a(new DocumentFragment)},[]),!s.open){const l=o;return l?Vo.createPortal(d.jsx(Kv,{scope:r.__scopeSelect,children:d.jsx(za.Slot,{scope:r.__scopeSelect,children:d.jsx("div",{children:r.children})})}),l):null}return d.jsx(qv,{...r,ref:t})});Hv.displayName=Ar;var en=10,[Kv,ar]=zs(Ar),Nk="SelectContentImpl",Tk=Rs("SelectContent.RemoveScroll"),qv=x.forwardRef((r,t)=>{const{__scopeSelect:s,position:o="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:l,onPointerDownOutside:u,side:f,sideOffset:p,align:g,alignOffset:v,arrowPadding:y,collisionBoundary:_,collisionPadding:S,sticky:E,hideWhenDetached:b,avoidCollisions:k,...C}=r,P=ir(Ar,s),[R,T]=x.useState(null),[D,B]=x.useState(null),F=Ue(t,X=>T(X)),[z,W]=x.useState(null),[J,te]=x.useState(null),Y=Ba(s),[re,H]=x.useState(!1),oe=x.useRef(!1);x.useEffect(()=>{if(R)return Pv(R)},[R]),sv();const Z=x.useCallback(X=>{const[pe,...we]=Y().map($e=>$e.ref.current),[be]=we.slice(-1),Re=document.activeElement;for(const $e of X)if($e===Re||($e?.scrollIntoView({block:"nearest"}),$e===pe&&D&&(D.scrollTop=0),$e===be&&D&&(D.scrollTop=D.scrollHeight),$e?.focus(),document.activeElement!==Re))return},[Y,D]),ne=x.useCallback(()=>Z([z,R]),[Z,z,R]);x.useEffect(()=>{re&&ne()},[re,ne]);const{onOpenChange:j,triggerPointerDownPosRef:U}=P;x.useEffect(()=>{if(R){let X={x:0,y:0};const pe=be=>{X={x:Math.abs(Math.round(be.pageX)-(U.current?.x??0)),y:Math.abs(Math.round(be.pageY)-(U.current?.y??0))}},we=be=>{X.x<=10&&X.y<=10?be.preventDefault():R.contains(be.target)||j(!1),document.removeEventListener("pointermove",pe),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",we,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",we,{capture:!0})}}},[R,j,U]),x.useEffect(()=>{const X=()=>j(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[j]);const[K,A]=ly(X=>{const pe=Y().filter(Re=>!Re.disabled),we=pe.find(Re=>Re.ref.current===document.activeElement),be=cy(pe,X,we);be&&setTimeout(()=>be.ref.current.focus())}),V=x.useCallback((X,pe,we)=>{const be=!oe.current&&!we;(P.value!==void 0&&P.value===pe||be)&&(W(X),be&&(oe.current=!0))},[P.value]),le=x.useCallback(()=>R?.focus(),[R]),ae=x.useCallback((X,pe,we)=>{const be=!oe.current&&!we;(P.value!==void 0&&P.value===pe||be)&&te(X)},[P.value]),xe=o==="popper"?Eu:Gv,Se=xe===Eu?{side:f,sideOffset:p,align:g,alignOffset:v,arrowPadding:y,collisionBoundary:_,collisionPadding:S,sticky:E,hideWhenDetached:b,avoidCollisions:k}:{};return d.jsx(Kv,{scope:s,content:R,viewport:D,onViewportChange:B,itemRefCallback:V,selectedItem:z,onItemLeave:le,itemTextRefCallback:ae,focusSelectedItem:ne,selectedItemText:J,position:o,isPositioned:re,searchRef:K,children:d.jsx(md,{as:Tk,allowPinchZoom:!0,children:d.jsx(od,{asChild:!0,trapped:P.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:ke(a,X=>{P.trigger?.focus({preventScroll:!0}),X.preventDefault()}),children:d.jsx(sd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>P.onOpenChange(!1),children:d.jsx(xe,{role:"listbox",id:P.contentId,"data-state":P.open?"open":"closed",dir:P.dir,onContextMenu:X=>X.preventDefault(),...C,...Se,onPlaced:()=>H(!0),ref:F,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:ke(C.onKeyDown,X=>{const pe=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!pe&&X.key.length===1&&A(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let be=Y().filter(Re=>!Re.disabled).map(Re=>Re.ref.current);if(["ArrowUp","End"].includes(X.key)&&(be=be.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const Re=X.target,$e=be.indexOf(Re);be=be.slice($e+1)}setTimeout(()=>Z(be)),X.preventDefault()}})})})})})})});qv.displayName=Nk;var Pk="SelectItemAlignedPosition",Gv=x.forwardRef((r,t)=>{const{__scopeSelect:s,onPlaced:o,...a}=r,l=ir(Ar,s),u=ar(Ar,s),[f,p]=x.useState(null),[g,v]=x.useState(null),y=Ue(t,F=>v(F)),_=Ba(s),S=x.useRef(!1),E=x.useRef(!0),{viewport:b,selectedItem:k,selectedItemText:C,focusSelectedItem:P}=u,R=x.useCallback(()=>{if(l.trigger&&l.valueNode&&f&&g&&b&&k&&C){const F=l.trigger.getBoundingClientRect(),z=g.getBoundingClientRect(),W=l.valueNode.getBoundingClientRect(),J=C.getBoundingClientRect();if(l.dir!=="rtl"){const Re=J.left-z.left,$e=W.left-Re,ut=F.left-$e,Ht=F.width+ut,Lr=Math.max(Ht,z.width),$r=window.innerWidth-en,cr=ba($e,[en,Math.max(en,$r-Lr)]);f.style.minWidth=Ht+"px",f.style.left=cr+"px"}else{const Re=z.right-J.right,$e=window.innerWidth-W.right-Re,ut=window.innerWidth-F.right-$e,Ht=F.width+ut,Lr=Math.max(Ht,z.width),$r=window.innerWidth-en,cr=ba($e,[en,Math.max(en,$r-Lr)]);f.style.minWidth=Ht+"px",f.style.right=cr+"px"}const te=_(),Y=window.innerHeight-en*2,re=b.scrollHeight,H=window.getComputedStyle(g),oe=parseInt(H.borderTopWidth,10),Z=parseInt(H.paddingTop,10),ne=parseInt(H.borderBottomWidth,10),j=parseInt(H.paddingBottom,10),U=oe+Z+re+j+ne,K=Math.min(k.offsetHeight*5,U),A=window.getComputedStyle(b),V=parseInt(A.paddingTop,10),le=parseInt(A.paddingBottom,10),ae=F.top+F.height/2-en,xe=Y-ae,Se=k.offsetHeight/2,X=k.offsetTop+Se,pe=oe+Z+X,we=U-pe;if(pe<=ae){const Re=te.length>0&&k===te[te.length-1].ref.current;f.style.bottom="0px";const $e=g.clientHeight-b.offsetTop-b.offsetHeight,ut=Math.max(xe,Se+(Re?le:0)+$e+ne),Ht=pe+ut;f.style.height=Ht+"px"}else{const Re=te.length>0&&k===te[0].ref.current;f.style.top="0px";const ut=Math.max(ae,oe+b.offsetTop+(Re?V:0)+Se)+we;f.style.height=ut+"px",b.scrollTop=pe-ae+b.offsetTop}f.style.margin=`${en}px 0`,f.style.minHeight=K+"px",f.style.maxHeight=Y+"px",o?.(),requestAnimationFrame(()=>S.current=!0)}},[_,l.trigger,l.valueNode,f,g,b,k,C,l.dir,o]);wt(()=>R(),[R]);const[T,D]=x.useState();wt(()=>{g&&D(window.getComputedStyle(g).zIndex)},[g]);const B=x.useCallback(F=>{F&&E.current===!0&&(R(),P?.(),E.current=!1)},[R,P]);return d.jsx(Ok,{scope:s,contentWrapper:f,shouldExpandOnScrollRef:S,onScrollButtonChange:B,children:d.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:d.jsx(Ee.div,{...a,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Gv.displayName=Pk;var Rk="SelectPopperPosition",Eu=x.forwardRef((r,t)=>{const{__scopeSelect:s,align:o="start",collisionPadding:a=en,...l}=r,u=Va(s);return d.jsx(P1,{...u,...l,ref:t,align:o,collisionPadding:a,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Eu.displayName=Rk;var[Ok,gd]=zs(Ar,{}),ju="SelectViewport",Jv=x.forwardRef((r,t)=>{const{__scopeSelect:s,nonce:o,...a}=r,l=ar(ju,s),u=gd(ju,s),f=Ue(t,l.onViewportChange),p=x.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),d.jsx(za.Slot,{scope:s,children:d.jsx(Ee.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:ke(a.onScroll,g=>{const v=g.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:_}=u;if(_?.current&&y){const S=Math.abs(p.current-v.scrollTop);if(S>0){const E=window.innerHeight-en*2,b=parseFloat(y.style.minHeight),k=parseFloat(y.style.height),C=Math.max(b,k);if(C<E){const P=C+S,R=Math.min(E,P),T=P-R;y.style.height=R+"px",y.style.bottom==="0px"&&(v.scrollTop=T>0?T:0,y.style.justifyContent="flex-end")}}}p.current=v.scrollTop})})})]})});Jv.displayName=ju;var Qv="SelectGroup",[Ak,Ik]=zs(Qv),Dk=x.forwardRef((r,t)=>{const{__scopeSelect:s,...o}=r,a=tr();return d.jsx(Ak,{scope:s,id:a,children:d.jsx(Ee.div,{role:"group","aria-labelledby":a,...o,ref:t})})});Dk.displayName=Qv;var Yv="SelectLabel",Lk=x.forwardRef((r,t)=>{const{__scopeSelect:s,...o}=r,a=Ik(Yv,s);return d.jsx(Ee.div,{id:a.id,...o,ref:t})});Lk.displayName=Yv;var ja="SelectItem",[$k,Xv]=zs(ja),Zv=x.forwardRef((r,t)=>{const{__scopeSelect:s,value:o,disabled:a=!1,textValue:l,...u}=r,f=ir(ja,s),p=ar(ja,s),g=f.value===o,[v,y]=x.useState(l??""),[_,S]=x.useState(!1),E=Ue(t,P=>p.itemRefCallback?.(P,o,a)),b=tr(),k=x.useRef("touch"),C=()=>{a||(f.onValueChange(o),f.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx($k,{scope:s,value:o,disabled:a,textId:b,isSelected:g,onItemTextChange:x.useCallback(P=>{y(R=>R||(P?.textContent??"").trim())},[]),children:d.jsx(za.ItemSlot,{scope:s,value:o,disabled:a,textValue:v,children:d.jsx(Ee.div,{role:"option","aria-labelledby":b,"data-highlighted":_?"":void 0,"aria-selected":g&&_,"data-state":g?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...u,ref:E,onFocus:ke(u.onFocus,()=>S(!0)),onBlur:ke(u.onBlur,()=>S(!1)),onClick:ke(u.onClick,()=>{k.current!=="mouse"&&C()}),onPointerUp:ke(u.onPointerUp,()=>{k.current==="mouse"&&C()}),onPointerDown:ke(u.onPointerDown,P=>{k.current=P.pointerType}),onPointerMove:ke(u.onPointerMove,P=>{k.current=P.pointerType,a?p.onItemLeave?.():k.current==="mouse"&&P.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ke(u.onPointerLeave,P=>{P.currentTarget===document.activeElement&&p.onItemLeave?.()}),onKeyDown:ke(u.onKeyDown,P=>{p.searchRef?.current!==""&&P.key===" "||(bk.includes(P.key)&&C(),P.key===" "&&P.preventDefault())})})})})});Zv.displayName=ja;var Ro="SelectItemText",ey=x.forwardRef((r,t)=>{const{__scopeSelect:s,className:o,style:a,...l}=r,u=ir(Ro,s),f=ar(Ro,s),p=Xv(Ro,s),g=Ek(Ro,s),[v,y]=x.useState(null),_=Ue(t,C=>y(C),p.onItemTextChange,C=>f.itemTextRefCallback?.(C,p.value,p.disabled)),S=v?.textContent,E=x.useMemo(()=>d.jsx("option",{value:p.value,disabled:p.disabled,children:S},p.value),[p.disabled,p.value,S]),{onNativeOptionAdd:b,onNativeOptionRemove:k}=g;return wt(()=>(b(E),()=>k(E)),[b,k,E]),d.jsxs(d.Fragment,{children:[d.jsx(Ee.span,{id:p.textId,...l,ref:_}),p.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Vo.createPortal(l.children,u.valueNode):null]})});ey.displayName=Ro;var ty="SelectItemIndicator",ny=x.forwardRef((r,t)=>{const{__scopeSelect:s,...o}=r;return Xv(ty,s).isSelected?d.jsx(Ee.span,{"aria-hidden":!0,...o,ref:t}):null});ny.displayName=ty;var Cu="SelectScrollUpButton",ry=x.forwardRef((r,t)=>{const s=ar(Cu,r.__scopeSelect),o=gd(Cu,r.__scopeSelect),[a,l]=x.useState(!1),u=Ue(t,o.onScrollButtonChange);return wt(()=>{if(s.viewport&&s.isPositioned){let f=function(){const g=p.scrollTop>0;l(g)};const p=s.viewport;return f(),p.addEventListener("scroll",f),()=>p.removeEventListener("scroll",f)}},[s.viewport,s.isPositioned]),a?d.jsx(oy,{...r,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:p}=s;f&&p&&(f.scrollTop=f.scrollTop-p.offsetHeight)}}):null});ry.displayName=Cu;var Nu="SelectScrollDownButton",sy=x.forwardRef((r,t)=>{const s=ar(Nu,r.__scopeSelect),o=gd(Nu,r.__scopeSelect),[a,l]=x.useState(!1),u=Ue(t,o.onScrollButtonChange);return wt(()=>{if(s.viewport&&s.isPositioned){let f=function(){const g=p.scrollHeight-p.clientHeight,v=Math.ceil(p.scrollTop)<g;l(v)};const p=s.viewport;return f(),p.addEventListener("scroll",f),()=>p.removeEventListener("scroll",f)}},[s.viewport,s.isPositioned]),a?d.jsx(oy,{...r,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:p}=s;f&&p&&(f.scrollTop=f.scrollTop+p.offsetHeight)}}):null});sy.displayName=Nu;var oy=x.forwardRef((r,t)=>{const{__scopeSelect:s,onAutoScroll:o,...a}=r,l=ar("SelectScrollButton",s),u=x.useRef(null),f=Ba(s),p=x.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return x.useEffect(()=>()=>p(),[p]),wt(()=>{f().find(v=>v.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[f]),d.jsx(Ee.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:ke(a.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(o,50))}),onPointerMove:ke(a.onPointerMove,()=>{l.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(o,50))}),onPointerLeave:ke(a.onPointerLeave,()=>{p()})})}),Mk="SelectSeparator",Uk=x.forwardRef((r,t)=>{const{__scopeSelect:s,...o}=r;return d.jsx(Ee.div,{"aria-hidden":!0,...o,ref:t})});Uk.displayName=Mk;var Tu="SelectArrow",Fk=x.forwardRef((r,t)=>{const{__scopeSelect:s,...o}=r,a=Va(s),l=ir(Tu,s),u=ar(Tu,s);return l.open&&u.position==="popper"?d.jsx(R1,{...a,...o,ref:t}):null});Fk.displayName=Tu;var zk="SelectBubbleInput",iy=x.forwardRef(({__scopeSelect:r,value:t,...s},o)=>{const a=x.useRef(null),l=Ue(o,a),u=xg(t);return x.useEffect(()=>{const f=a.current;if(!f)return;const p=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(p,"value").set;if(u!==t&&v){const y=new Event("change",{bubbles:!0});v.call(f,t),f.dispatchEvent(y)}},[u,t]),d.jsx(Ee.select,{...s,style:{...Nv,...s.style},ref:l,defaultValue:t})});iy.displayName=zk;function ay(r){return r===""||r===void 0}function ly(r){const t=nr(r),s=x.useRef(""),o=x.useRef(0),a=x.useCallback(u=>{const f=s.current+u;t(f),(function p(g){s.current=g,window.clearTimeout(o.current),g!==""&&(o.current=window.setTimeout(()=>p(""),1e3))})(f)},[t]),l=x.useCallback(()=>{s.current="",window.clearTimeout(o.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(o.current),[]),[s,a,l]}function cy(r,t,s){const a=t.length>1&&Array.from(t).every(g=>g===t[0])?t[0]:t,l=s?r.indexOf(s):-1;let u=Bk(r,Math.max(l,0));a.length===1&&(u=u.filter(g=>g!==s));const p=u.find(g=>g.textValue.toLowerCase().startsWith(a.toLowerCase()));return p!==s?p:void 0}function Bk(r,t){return r.map((s,o)=>r[(t+o)%r.length])}var Vk=Mv,Wk=Fv,Hk=Bv,Kk=Vv,qk=Wv,Gk=Hv,Jk=Jv,Qk=Zv,Yk=ey,Xk=ny,Zk=ry,eE=sy;function tE({...r}){return d.jsx(Vk,{"data-slot":"select",...r})}function nE({...r}){return d.jsx(Hk,{"data-slot":"select-value",...r})}function rE({className:r,size:t="default",children:s,...o}){return d.jsxs(Wk,{"data-slot":"select-trigger","data-size":t,className:Ne("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...o,children:[s,d.jsx(Kk,{asChild:!0,children:d.jsx(cg,{className:"size-4 opacity-50"})})]})}function sE({className:r,children:t,position:s="popper",...o}){return d.jsx(qk,{children:d.jsxs(Gk,{"data-slot":"select-content",className:Ne("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:s,...o,children:[d.jsx(iE,{}),d.jsx(Jk,{className:Ne("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),d.jsx(aE,{})]})})}function oE({className:r,children:t,...s}){return d.jsxs(Qk,{"data-slot":"select-item",className:Ne("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",r),...s,children:[d.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:d.jsx(Xk,{children:d.jsx(sb,{className:"size-4"})})}),d.jsx(Yk,{children:t})]})}function iE({className:r,...t}){return d.jsx(Zk,{"data-slot":"select-scroll-up-button",className:Ne("flex cursor-default items-center justify-center py-1",r),...t,children:d.jsx(ab,{className:"size-4"})})}function aE({className:r,...t}){return d.jsx(eE,{"data-slot":"select-scroll-down-button",className:Ne("flex cursor-default items-center justify-center py-1",r),...t,children:d.jsx(cg,{className:"size-4"})})}var Wa="Dialog",[uy]=or(Wa),[lE,on]=uy(Wa),dy=r=>{const{__scopeDialog:t,children:s,open:o,defaultOpen:a,onOpenChange:l,modal:u=!0}=r,f=x.useRef(null),p=x.useRef(null),[g,v]=As({prop:o,defaultProp:a??!1,onChange:l,caller:Wa});return d.jsx(lE,{scope:t,triggerRef:f,contentRef:p,contentId:tr(),titleId:tr(),descriptionId:tr(),open:g,onOpenChange:v,onOpenToggle:x.useCallback(()=>v(y=>!y),[v]),modal:u,children:s})};dy.displayName=Wa;var fy="DialogTrigger",hy=x.forwardRef((r,t)=>{const{__scopeDialog:s,...o}=r,a=on(fy,s),l=Ue(t,a.triggerRef);return d.jsx(Ee.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":wd(a.open),...o,ref:l,onClick:ke(r.onClick,a.onOpenToggle)})});hy.displayName=fy;var vd="DialogPortal",[cE,py]=uy(vd,{forceMount:void 0}),my=r=>{const{__scopeDialog:t,forceMount:s,children:o,container:a}=r,l=on(vd,t);return d.jsx(cE,{scope:t,forceMount:s,children:x.Children.map(o,u=>d.jsx(Ho,{present:s||l.open,children:d.jsx(pd,{asChild:!0,container:a,children:u})}))})};my.displayName=vd;var Ca="DialogOverlay",gy=x.forwardRef((r,t)=>{const s=py(Ca,r.__scopeDialog),{forceMount:o=s.forceMount,...a}=r,l=on(Ca,r.__scopeDialog);return l.modal?d.jsx(Ho,{present:o||l.open,children:d.jsx(dE,{...a,ref:t})}):null});gy.displayName=Ca;var uE=Rs("DialogOverlay.RemoveScroll"),dE=x.forwardRef((r,t)=>{const{__scopeDialog:s,...o}=r,a=on(Ca,s);return d.jsx(md,{as:uE,allowPinchZoom:!0,shards:[a.contentRef],children:d.jsx(Ee.div,{"data-state":wd(a.open),...o,ref:t,style:{pointerEvents:"auto",...o.style}})})}),Ir="DialogContent",vy=x.forwardRef((r,t)=>{const s=py(Ir,r.__scopeDialog),{forceMount:o=s.forceMount,...a}=r,l=on(Ir,r.__scopeDialog);return d.jsx(Ho,{present:o||l.open,children:l.modal?d.jsx(fE,{...a,ref:t}):d.jsx(hE,{...a,ref:t})})});vy.displayName=Ir;var fE=x.forwardRef((r,t)=>{const s=on(Ir,r.__scopeDialog),o=x.useRef(null),a=Ue(t,s.contentRef,o);return x.useEffect(()=>{const l=o.current;if(l)return Pv(l)},[]),d.jsx(yy,{...r,ref:a,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ke(r.onCloseAutoFocus,l=>{l.preventDefault(),s.triggerRef.current?.focus()}),onPointerDownOutside:ke(r.onPointerDownOutside,l=>{const u=l.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0;(u.button===2||f)&&l.preventDefault()}),onFocusOutside:ke(r.onFocusOutside,l=>l.preventDefault())})}),hE=x.forwardRef((r,t)=>{const s=on(Ir,r.__scopeDialog),o=x.useRef(!1),a=x.useRef(!1);return d.jsx(yy,{...r,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{r.onCloseAutoFocus?.(l),l.defaultPrevented||(o.current||s.triggerRef.current?.focus(),l.preventDefault()),o.current=!1,a.current=!1},onInteractOutside:l=>{r.onInteractOutside?.(l),l.defaultPrevented||(o.current=!0,l.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const u=l.target;s.triggerRef.current?.contains(u)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&a.current&&l.preventDefault()}})}),yy=x.forwardRef((r,t)=>{const{__scopeDialog:s,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:l,...u}=r,f=on(Ir,s),p=x.useRef(null),g=Ue(t,p);return sv(),d.jsxs(d.Fragment,{children:[d.jsx(od,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:a,onUnmountAutoFocus:l,children:d.jsx(sd,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":wd(f.open),...u,ref:g,onDismiss:()=>f.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(pE,{titleId:f.titleId}),d.jsx(gE,{contentRef:p,descriptionId:f.descriptionId})]})]})}),yd="DialogTitle",wy=x.forwardRef((r,t)=>{const{__scopeDialog:s,...o}=r,a=on(yd,s);return d.jsx(Ee.h2,{id:a.titleId,...o,ref:t})});wy.displayName=yd;var xy="DialogDescription",by=x.forwardRef((r,t)=>{const{__scopeDialog:s,...o}=r,a=on(xy,s);return d.jsx(Ee.p,{id:a.descriptionId,...o,ref:t})});by.displayName=xy;var _y="DialogClose",Sy=x.forwardRef((r,t)=>{const{__scopeDialog:s,...o}=r,a=on(_y,s);return d.jsx(Ee.button,{type:"button",...o,ref:t,onClick:ke(r.onClick,()=>a.onOpenChange(!1))})});Sy.displayName=_y;function wd(r){return r?"open":"closed"}var ky="DialogTitleWarning",[tN,Ey]=Mx(ky,{contentName:Ir,titleName:yd,docsSlug:"dialog"}),pE=({titleId:r})=>{const t=Ey(ky),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{r&&(document.getElementById(r)||console.error(s))},[s,r]),null},mE="DialogDescriptionWarning",gE=({contentRef:r,descriptionId:t})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ey(mE).contentName}}.`;return x.useEffect(()=>{const a=r.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(o))},[o,r,t]),null},vE=dy,yE=hy,wE=my,xE=gy,bE=vy,_E=wy,SE=by,kE=Sy;function xd({...r}){return d.jsx(vE,{"data-slot":"dialog",...r})}function bd({...r}){return d.jsx(yE,{"data-slot":"dialog-trigger",...r})}function EE({...r}){return d.jsx(wE,{"data-slot":"dialog-portal",...r})}function jE({className:r,...t}){return d.jsx(xE,{"data-slot":"dialog-overlay",className:Ne("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",r),...t})}function _d({className:r,children:t,...s}){return d.jsxs(EE,{"data-slot":"dialog-portal",children:[d.jsx(jE,{}),d.jsxs(bE,{"data-slot":"dialog-content",className:Ne("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",r),...s,children:[t,d.jsxs(kE,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[d.jsx(wg,{}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Sd({className:r,...t}){return d.jsx("div",{"data-slot":"dialog-header",className:Ne("flex flex-col gap-2 text-center sm:text-left",r),...t})}function kd({className:r,...t}){return d.jsx("div",{"data-slot":"dialog-footer",className:Ne("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",r),...t})}function Ed({className:r,...t}){return d.jsx(_E,{"data-slot":"dialog-title",className:Ne("text-lg leading-none font-semibold",r),...t})}function jd({className:r,...t}){return d.jsx(SE,{"data-slot":"dialog-description",className:Ne("text-muted-foreground text-sm",r),...t})}const CE=qu("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Pu({className:r,variant:t,...s}){return d.jsx("div",{"data-slot":"alert",role:"alert",className:Ne(CE({variant:t}),r),...s})}function Ru({className:r,...t}){return d.jsx("div",{"data-slot":"alert-description",className:Ne("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",r),...t})}function NE({onStatsUpdate:r}){const[t,s]=x.useState([]),[o,a]=x.useState({}),[l,u]=x.useState(""),[f,p]=x.useState(!0),[g,v]=x.useState(!1),[y,_]=x.useState(null),[S,E]=x.useState({title:"",description:"",youtubeId:"",duration:"",videoType:"youtube"}),[b,k]=x.useState(null),[C,P]=x.useState(0),[R,T]=x.useState(!1),[D,B]=x.useState("youtube");x.useEffect(()=>{F()},[]),x.useEffect(()=>{l&&z(l)},[l]);const F=async()=>{try{const j=await fetch(`https://${Me}.supabase.co/functions/v1/make-server-a8898ff1/categories`,{headers:{Authorization:`Bearer ${We}`,cache:"no-store"}});if(!j.ok)throw new Error("Failed to fetch categories");const U=await j.json();s(U.categories||[]),U.categories&&U.categories.length>0&&!l&&u(U.categories[0].id)}catch(j){console.error("Error loading categories:",j);const U=[{id:"fire",title:"화재발생 시 대응요령"},{id:"safety",title:"지하철 안전운행"},{id:"emergency",title:"응급상황 대응"}];s(U),l||u(U[0].id)}finally{p(!1)}},z=async j=>{try{const U=await fetch(`https://${Me}.supabase.co/functions/v1/make-server-a8898ff1/videos/${j}`,{headers:{Authorization:`Bearer ${We}`,cache:"no-store"}});if(!U.ok)throw new Error("Failed to fetch videos");const K=await U.json();a(A=>({...A,[j]:K.videos||[]}))}catch(U){console.error("Error loading videos:",U);const K={fire:[{id:"fire_1",title:"지하철 화재 발생 시 초기 대응",description:"지하철에서 화재가 발생했을 때 승무원이 취해야 할 초기 대응 방법을 학습합니다.",youtubeId:"dQw4w9WgXcQ",videoType:"youtube",duration:"5:30",thumbnail:"https://img.youtube.com/vi/dQw4w9WgXcQ/maxresdefault.jpg",createdAt:new Date().toISOString()}],safety:[{id:"safety_1",title:"지하철 안전운행 기본 수칙",description:"지하철을 안전하게 운행하기 위한 기본적인 수칙과 절차를 학습합니다.",youtubeId:"dQw4w9WgXcQ",videoType:"youtube",duration:"8:20",thumbnail:"https://img.youtube.com/vi/dQw4w9WgXcQ/maxresdefault.jpg",createdAt:new Date().toISOString()}],emergency:[]};a(A=>({...A,[j]:K[j]||[]}))}},W=j=>{const U=j.target.files?.[0];if(U){if(!U.type.startsWith("video/")){alert("비디오 파일만 업로드 가능합니다.");return}if(U.size>100*1024*1024){alert("파일 크기는 100MB를 초과할 수 없습니다.");return}k(U);const K=document.createElement("video");K.src=URL.createObjectURL(U),K.onloadedmetadata=()=>{const A=Math.floor(K.duration),V=Math.floor(A/60),le=A%60;E(ae=>({...ae,duration:`${V}:${le.toString().padStart(2,"0")}`})),URL.revokeObjectURL(K.src)}}},J=async j=>{T(!0),P(0);try{const U=new FormData;U.append("video",j),U.append("categoryId",l);const A=await(await fetch(`https://${Me}.supabase.co/functions/v1/make-server-a8898ff1/upload-video`,{method:"POST",headers:{Authorization:`Bearer ${We}`,cache:"no-store"},body:U})).json();if(A.success)return A.videoUrl;throw new Error(A.error||"파일 업로드에 실패했습니다.")}catch(U){throw console.error("Error uploading file:",U),U}finally{T(!1),P(0)}},te=async j=>{if(j.preventDefault(),!!l){if(D==="youtube"&&!S.youtubeId){alert("YouTube URL 또는 ID를 입력해주세요.");return}if(D==="local"&&!b&&!y){alert("업로드할 비디오 파일을 선택해주세요.");return}try{let U="";D==="local"&&b&&(U=await J(b));const K=y?`https://${Me}.supabase.co/functions/v1/make-server-a8898ff1/videos/${l}/${y.id}`:`https://${Me}.supabase.co/functions/v1/make-server-a8898ff1/videos`,A=y?"PUT":"POST",V={...S,videoType:D,videoUrl:D==="local"?U:void 0,categoryId:y?void 0:l};D==="local"?delete V.youtubeId:delete V.videoUrl;const ae=await(await fetch(K,{method:A,headers:{"Content-Type":"application/json",Authorization:`Bearer ${We}`,cache:"no-store"},body:JSON.stringify(V)})).json();ae.success?(await z(l),r(),v(!1),H()):alert(ae.error||"영상 저장에 실패했습니다.")}catch(U){console.error("Error saving video:",U),alert("영상 저장 중 오류가 발생했습니다.")}}},Y=async j=>{if(l&&confirm("정말로 이 영상을 삭제하시겠습니까?"))try{const K=await(await fetch(`https://${Me}.supabase.co/functions/v1/make-server-a8898ff1/videos/${l}/${j}`,{method:"DELETE",headers:{Authorization:`Bearer ${We}`}})).json();K.success?(await z(l),r()):alert(K.error||"영상 삭제에 실패했습니다.")}catch(U){console.error("Error deleting video:",U),alert("영상 삭제 중 오류가 발생했습니다.")}},re=j=>{_(j),E({title:j.title,description:j.description,youtubeId:j.youtubeId||"",duration:j.duration,videoType:j.videoType}),B(j.videoType),v(!0)},H=()=>{_(null),E({title:"",description:"",youtubeId:"",duration:"",videoType:"youtube"}),k(null),B("youtube"),P(0),T(!1)},oe=j=>{const U=j.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/);return U?U[1]:j},Z=j=>{if(j.includes(":"))return j;const U=parseInt(j);if(!isNaN(U)){const K=Math.floor(U/60),A=U%60;return`${K}:${A.toString().padStart(2,"0")}`}return j};if(f)return d.jsx(ct,{children:d.jsx(ht,{className:"flex items-center justify-center py-12",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),d.jsx("p",{children:"데이터를 불러오는 중..."})]})})});const ne=l?o[l]||[]:[];return d.jsx("div",{className:"space-y-6",children:d.jsxs(ct,{children:[d.jsxs(Vt,{children:[d.jsx(Wt,{children:"영상 관리"}),d.jsx(Pr,{children:"카테고리별 교육 영상을 추가, 수정, 삭제할 수 있습니다."})]}),d.jsxs(ht,{children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx(Ye,{htmlFor:"category-select",children:"카테고리:"}),d.jsxs(tE,{value:l,onValueChange:u,children:[d.jsx(rE,{className:"w-64",children:d.jsx(nE,{placeholder:"카테고리를 선택하세요"})}),d.jsx(sE,{children:t.map(j=>d.jsx(oE,{value:j.id,children:j.title},j.id))})]})]}),d.jsxs(xd,{open:g,onOpenChange:v,children:[d.jsx(bd,{asChild:!0,children:d.jsxs(Te,{onClick:H,disabled:!l,children:[d.jsx(Xu,{className:"h-4 w-4 mr-2"}),"새 영상 추가"]})}),d.jsxs(_d,{className:"max-w-2xl",children:[d.jsxs(Sd,{children:[d.jsx(Ed,{children:y?"영상 수정":"새 영상 추가"}),d.jsx(jd,{children:y?"영상 정보를 수정합니다.":"새로운 교육 영상을 추가합니다."})]}),d.jsxs("form",{onSubmit:te,className:"space-y-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(Ye,{htmlFor:"title",children:"영상 제목"}),d.jsx(yt,{id:"title",value:S.title,onChange:j=>E(U=>({...U,title:j.target.value})),placeholder:"영상 제목을 입력하세요",required:!0})]}),d.jsxs("div",{children:[d.jsx(Ye,{htmlFor:"description",children:"영상 설명"}),d.jsx(tv,{id:"description",value:S.description,onChange:j=>E(U=>({...U,description:j.target.value})),placeholder:"영상에 대한 설명을 입력하세요",rows:3,required:!0})]})]}),!y&&d.jsxs("div",{children:[d.jsx(Ye,{children:"영상 업로드 방법"}),d.jsxs(Zg,{value:D,onValueChange:j=>B(j),className:"mt-2",children:[d.jsxs(ev,{className:"grid w-full grid-cols-2",children:[d.jsxs(js,{value:"youtube",className:"flex items-center gap-2",children:[d.jsx(Hc,{className:"w-4 h-4"}),"YouTube 링크"]}),d.jsxs(js,{value:"local",className:"flex items-center gap-2",children:[d.jsx(ia,{className:"w-4 h-4"}),"파일 업로드"]})]}),d.jsxs(Cs,{value:"youtube",className:"space-y-4 mt-4",children:[d.jsxs(Pu,{children:[d.jsx(Vp,{className:"h-4 w-4"}),d.jsx(Ru,{children:"YouTube 영상 URL이나 비디오 ID를 입력하세요. 공개 또는 '링크로 공유 가능한' 영상만 재생 가능합니다."})]}),d.jsxs("div",{children:[d.jsx(Ye,{htmlFor:"youtubeId",children:"YouTube 링크 또는 ID"}),d.jsx(yt,{id:"youtubeId",value:S.youtubeId,onChange:j=>E(U=>({...U,youtubeId:oe(j.target.value)})),placeholder:"https://www.youtube.com/watch?v=VIDEO_ID 또는 VIDEO_ID",required:D==="youtube"})]})]}),d.jsxs(Cs,{value:"local",className:"space-y-4 mt-4",children:[d.jsxs(Pu,{children:[d.jsx(Vp,{className:"h-4 w-4"}),d.jsx(Ru,{children:"MP4, MOV, AVI 등의 비디오 파일을 업로드하세요. 최대 파일 크기: 50MB"})]}),d.jsxs("div",{children:[d.jsx(Ye,{htmlFor:"videoFile",children:"비디오 파일"}),d.jsx(yt,{id:"videoFile",type:"file",accept:"video/*",onChange:W,required:D==="local"&&!y,className:"cursor-pointer"}),b&&d.jsx("div",{className:"mt-2 p-3 bg-muted rounded-lg",children:d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsx(ia,{className:"w-4 h-4"}),d.jsx("span",{children:b.name}),d.jsxs(nn,{variant:"outline",children:[(b.size/(1024*1024)).toFixed(1)," MB"]})]})})]})]})]})]}),y&&d.jsxs("div",{children:[d.jsx(Ye,{children:"영상 타입"}),d.jsx("div",{className:"mt-2 p-3 bg-muted rounded-lg",children:d.jsx("div",{className:"flex items-center gap-2",children:y.videoType==="youtube"?d.jsxs(d.Fragment,{children:[d.jsx(Hc,{className:"w-4 h-4"}),d.jsx("span",{children:"YouTube 영상"})]}):d.jsxs(d.Fragment,{children:[d.jsx(ia,{className:"w-4 h-4"}),d.jsx("span",{children:"업로드된 파일"})]})})}),y.videoType==="youtube"&&d.jsxs("div",{className:"mt-4",children:[d.jsx(Ye,{htmlFor:"youtubeId",children:"YouTube 링크 또는 ID"}),d.jsx(yt,{id:"youtubeId",value:S.youtubeId,onChange:j=>E(U=>({...U,youtubeId:oe(j.target.value)})),placeholder:"YouTube URL 또는 비디오 ID",required:!0})]})]}),d.jsxs("div",{children:[d.jsx(Ye,{htmlFor:"duration",children:"영상 길이"}),d.jsx(yt,{id:"duration",value:S.duration,onChange:j=>E(U=>({...U,duration:j.target.value})),placeholder:"예: 10:30 또는 630 (초)",required:!0}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"로컬 파일의 경우 자동으로 감지됩니다."})]}),R&&d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsx("span",{children:"파일 업로드 중..."}),d.jsxs("span",{children:[C,"%"]})]}),d.jsx(Os,{value:C,className:"w-full"})]}),d.jsxs(kd,{children:[d.jsx(Te,{type:"button",variant:"outline",onClick:()=>v(!1),disabled:R,children:"취소"}),d.jsx(Te,{type:"submit",disabled:R,children:R?d.jsxs(d.Fragment,{children:[d.jsx(mg,{className:"w-4 h-4 mr-2 animate-spin"}),"업로드 중..."]}):y?"수정":"추가"})]})]})]})]})]}),l?d.jsx("div",{className:"rounded-md border",children:d.jsxs(Lo,{children:[d.jsx($o,{children:d.jsxs(Tt,{children:[d.jsx(Le,{children:"썸네일"}),d.jsx(Le,{children:"제목"}),d.jsx(Le,{children:"설명"}),d.jsx(Le,{children:"타입"}),d.jsx(Le,{children:"길이"}),d.jsx(Le,{children:"등록일"}),d.jsx(Le,{children:"작업"})]})}),d.jsx(Mo,{children:ne.length===0?d.jsx(Tt,{children:d.jsx(Ae,{colSpan:7,className:"text-center py-8 text-gray-500",children:"등록된 영상이 없습니다."})}):ne.map(j=>d.jsxs(Tt,{children:[d.jsx(Ae,{children:d.jsx("div",{className:"flex items-center space-x-2",children:d.jsx("img",{src:j.thumbnail,alt:j.title,className:"w-16 h-9 object-cover rounded",onError:U=>{U.currentTarget.src="https://via.placeholder.com/120x68/f0f0f0/666?text=Video"}})})}),d.jsx(Ae,{className:"font-medium max-w-xs",children:d.jsx("div",{className:"truncate",title:j.title,children:j.title})}),d.jsx(Ae,{className:"max-w-xs",children:d.jsx("div",{className:"truncate text-sm text-gray-600",title:j.description,children:j.description})}),d.jsx(Ae,{children:d.jsx("div",{className:"flex items-center gap-2",children:j.videoType==="youtube"?d.jsxs(d.Fragment,{children:[d.jsx(Hc,{className:"w-4 h-4 text-red-600"}),d.jsx("span",{className:"text-xs",children:"YouTube"})]}):d.jsxs(d.Fragment,{children:[d.jsx(ia,{className:"w-4 h-4 text-blue-600"}),d.jsx("span",{className:"text-xs",children:"로컬"})]})})}),d.jsx(Ae,{children:d.jsx(nn,{variant:"outline",children:Z(j.duration)})}),d.jsx(Ae,{className:"text-sm text-gray-600",children:new Date(j.createdAt).toLocaleDateString("ko-KR")}),d.jsx(Ae,{children:d.jsxs("div",{className:"flex items-center space-x-2",children:[j.videoType==="youtube"&&j.youtubeId&&d.jsx(Te,{variant:"outline",size:"sm",onClick:()=>window.open(`https://www.youtube.com/watch?v=${j.youtubeId}`,"_blank"),title:"YouTube에서 보기",children:d.jsx(pu,{className:"h-3 w-3"})}),j.videoType==="local"&&j.videoUrl&&d.jsx(Te,{variant:"outline",size:"sm",onClick:()=>window.open(j.videoUrl,"_blank"),title:"영상 보기",children:d.jsx(pu,{className:"h-3 w-3"})}),d.jsx(Te,{variant:"outline",size:"sm",onClick:()=>re(j),title:"수정",children:d.jsx(Zu,{className:"h-3 w-3"})}),d.jsx(Te,{variant:"outline",size:"sm",onClick:()=>Y(j.id),className:"text-red-600 hover:text-red-700",title:"삭제",children:d.jsx(ed,{className:"h-3 w-3"})})]})})]},j.id))})]})}):d.jsxs("div",{className:"text-center py-12 text-gray-500",children:[d.jsx(yg,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),d.jsx("p",{children:"카테고리를 선택해 주세요."})]})]})]})})}const TE="modulepreload",PE=function(r){return"/"+r},pm={},qo=function(t,s,o){let a=Promise.resolve();if(s&&s.length>0){let u=function(g){return Promise.all(g.map(v=>Promise.resolve(v).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),p=f?.nonce||f?.getAttribute("nonce");a=u(s.map(g=>{if(g=PE(g),g in pm)return;pm[g]=!0;const v=g.endsWith(".css"),y=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${y}`))return;const _=document.createElement("link");if(_.rel=v?"stylesheet":TE,v||(_.as="script"),_.crossOrigin="",_.href=g,p&&_.setAttribute("nonce",p),document.head.appendChild(_),v)return new Promise((S,E)=>{_.addEventListener("load",S),_.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${g}`)))})}))}function l(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return a.then(u=>{for(const f of u||[])f.status==="rejected"&&l(f.reason);return t().catch(l)})},RE=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...s)=>qo(async()=>{const{default:o}=await Promise.resolve().then(()=>Bs);return{default:o}},void 0).then(({default:o})=>o(...s)):t=fetch,(...s)=>t(...s)};class Cd extends Error{constructor(t,s="FunctionsError",o){super(t),this.name=s,this.context=o}}class mm extends Cd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class gm extends Cd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class vm extends Cd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ou;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Ou||(Ou={}));var OE=function(r,t,s,o){function a(l){return l instanceof s?l:new s(function(u){u(l)})}return new(s||(s=Promise))(function(l,u){function f(v){try{g(o.next(v))}catch(y){u(y)}}function p(v){try{g(o.throw(v))}catch(y){u(y)}}function g(v){v.done?l(v.value):a(v.value).then(f,p)}g((o=o.apply(r,t||[])).next())})};class AE{constructor(t,{headers:s={},customFetch:o,region:a=Ou.Any}={}){this.url=t,this.headers=s,this.region=a,this.fetch=RE(o)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return OE(this,arguments,void 0,function*(s,o={}){var a;try{const{headers:l,method:u,body:f,signal:p}=o;let g={},{region:v}=o;v||(v=this.region);const y=new URL(`${this.url}/${s}`);v&&v!=="any"&&(g["x-region"]=v,y.searchParams.set("forceFunctionRegion",v));let _;f&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",_=f):typeof f=="string"?(g["Content-Type"]="text/plain",_=f):typeof FormData<"u"&&f instanceof FormData?_=f:(g["Content-Type"]="application/json",_=JSON.stringify(f)));const S=yield this.fetch(y.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),l),body:_,signal:p}).catch(C=>{throw C.name==="AbortError"?C:new mm(C)}),E=S.headers.get("x-relay-error");if(E&&E==="true")throw new gm(S);if(!S.ok)throw new vm(S);let b=((a=S.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),k;return b==="application/json"?k=yield S.json():b==="application/octet-stream"?k=yield S.blob():b==="text/event-stream"?k=S:b==="multipart/form-data"?k=yield S.formData():k=yield S.text(),{data:k,error:null,response:S}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new mm(l)}:{data:null,error:l,response:l instanceof vm||l instanceof gm?l.context:void 0}}})}}var lt={},hs={},ps={},ms={},gs={},vs={},IE=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ds=IE();const DE=Ds.fetch,jy=Ds.fetch.bind(Ds),Cy=Ds.Headers,LE=Ds.Request,$E=Ds.Response,Bs=Object.freeze(Object.defineProperty({__proto__:null,Headers:Cy,Request:LE,Response:$E,default:jy,fetch:DE},Symbol.toStringTag,{value:"Module"})),ME=V0(Bs);var ha={},ym;function Ny(){if(ym)return ha;ym=1,Object.defineProperty(ha,"__esModule",{value:!0});class r extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return ha.default=r,ha}var wm;function Ty(){if(wm)return vs;wm=1;var r=vs&&vs.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(vs,"__esModule",{value:!0});const t=r(ME),s=r(Ny());class o{constructor(l){var u,f;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(u=l.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=l.signal,this.isMaybeSingle=(f=l.isMaybeSingle)!==null&&f!==void 0?f:!1,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,u){return this.headers=new Headers(this.headers),this.headers.set(l,u),this}then(l,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let p=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var v,y,_,S;let E=null,b=null,k=null,C=g.status,P=g.statusText;if(g.ok){if(this.method!=="HEAD"){const B=await g.text();B===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((v=this.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?b=B:b=JSON.parse(B))}const T=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),D=(_=g.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");T&&D&&D.length>1&&(k=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(E={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,k=null,C=406,P="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const T=await g.text();try{E=JSON.parse(T),Array.isArray(E)&&g.status===404&&(b=[],E=null,C=200,P="OK")}catch{g.status===404&&T===""?(C=204,P="No Content"):E={message:T}}if(E&&this.isMaybeSingle&&(!((S=E?.details)===null||S===void 0)&&S.includes("0 rows"))&&(E=null,C=200,P="OK"),E&&this.shouldThrowOnError)throw new s.default(E)}return{error:E,data:b,count:k,status:C,statusText:P}});return this.shouldThrowOnError||(p=p.catch(g=>{var v,y,_;return{error:{message:`${(v=g?.name)!==null&&v!==void 0?v:"FetchError"}: ${g?.message}`,details:`${(y=g?.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(_=g?.code)!==null&&_!==void 0?_:""}`},data:null,count:null,status:0,statusText:""}})),p.then(l,u)}returns(){return this}overrideTypes(){return this}}return vs.default=o,vs}var xm;function Py(){if(xm)return gs;xm=1;var r=gs&&gs.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(gs,"__esModule",{value:!0});const t=r(Ty());class s extends t.default{select(a){let l=!1;const u=(a??"*").split("").map(f=>/\s/.test(f)&&!l?"":(f==='"'&&(l=!l),f)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:l=!0,nullsFirst:u,foreignTable:f,referencedTable:p=f}={}){const g=p?`${p}.order`:"order",v=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${v?`${v},`:""}${a}.${l?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:l,referencedTable:u=l}={}){const f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${a}`),this}range(a,l,{foreignTable:u,referencedTable:f=u}={}){const p=typeof f>"u"?"offset":`${f}.offset`,g=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${a}`),this.url.searchParams.set(g,`${l-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:l=!1,settings:u=!1,buffers:f=!1,wal:p=!1,format:g="text"}={}){var v;const y=[a?"analyze":null,l?"verbose":null,u?"settings":null,f?"buffers":null,p?"wal":null].filter(Boolean).join("|"),_=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${_}"; options=${y};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return gs.default=s,gs}var bm;function Nd(){if(bm)return ms;bm=1;var r=ms&&ms.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(ms,"__esModule",{value:!0});const t=r(Py());class s extends t.default{eq(a,l){return this.url.searchParams.append(a,`eq.${l}`),this}neq(a,l){return this.url.searchParams.append(a,`neq.${l}`),this}gt(a,l){return this.url.searchParams.append(a,`gt.${l}`),this}gte(a,l){return this.url.searchParams.append(a,`gte.${l}`),this}lt(a,l){return this.url.searchParams.append(a,`lt.${l}`),this}lte(a,l){return this.url.searchParams.append(a,`lte.${l}`),this}like(a,l){return this.url.searchParams.append(a,`like.${l}`),this}likeAllOf(a,l){return this.url.searchParams.append(a,`like(all).{${l.join(",")}}`),this}likeAnyOf(a,l){return this.url.searchParams.append(a,`like(any).{${l.join(",")}}`),this}ilike(a,l){return this.url.searchParams.append(a,`ilike.${l}`),this}ilikeAllOf(a,l){return this.url.searchParams.append(a,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(a,l){return this.url.searchParams.append(a,`ilike(any).{${l.join(",")}}`),this}is(a,l){return this.url.searchParams.append(a,`is.${l}`),this}in(a,l){const u=Array.from(new Set(l)).map(f=>typeof f=="string"&&new RegExp("[,()]").test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(a,`in.(${u})`),this}contains(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cs.{${l.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(l)}`),this}containedBy(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cd.{${l.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(l)}`),this}rangeGt(a,l){return this.url.searchParams.append(a,`sr.${l}`),this}rangeGte(a,l){return this.url.searchParams.append(a,`nxl.${l}`),this}rangeLt(a,l){return this.url.searchParams.append(a,`sl.${l}`),this}rangeLte(a,l){return this.url.searchParams.append(a,`nxr.${l}`),this}rangeAdjacent(a,l){return this.url.searchParams.append(a,`adj.${l}`),this}overlaps(a,l){return typeof l=="string"?this.url.searchParams.append(a,`ov.${l}`):this.url.searchParams.append(a,`ov.{${l.join(",")}}`),this}textSearch(a,l,{config:u,type:f}={}){let p="";f==="plain"?p="pl":f==="phrase"?p="ph":f==="websearch"&&(p="w");const g=u===void 0?"":`(${u})`;return this.url.searchParams.append(a,`${p}fts${g}.${l}`),this}match(a){return Object.entries(a).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(a,l,u){return this.url.searchParams.append(a,`not.${l}.${u}`),this}or(a,{foreignTable:l,referencedTable:u=l}={}){const f=u?`${u}.or`:"or";return this.url.searchParams.append(f,`(${a})`),this}filter(a,l,u){return this.url.searchParams.append(a,`${l}.${u}`),this}}return ms.default=s,ms}var _m;function Ry(){if(_m)return ps;_m=1;var r=ps&&ps.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(ps,"__esModule",{value:!0});const t=r(Nd());class s{constructor(a,{headers:l={},schema:u,fetch:f}){this.url=a,this.headers=new Headers(l),this.schema=u,this.fetch=f}select(a,l){const{head:u=!1,count:f}=l??{},p=u?"HEAD":"GET";let g=!1;const v=(a??"*").split("").map(y=>/\s/.test(y)&&!g?"":(y==='"'&&(g=!g),y)).join("");return this.url.searchParams.set("select",v),f&&this.headers.append("Prefer",`count=${f}`),new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:l,defaultToNull:u=!0}={}){var f;const p="POST";if(l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const g=a.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(g.length>0){const v=[...new Set(g)].map(y=>`"${y}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(a,{onConflict:l,ignoreDuplicates:u=!1,count:f,defaultToNull:p=!0}={}){var g;const v="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),f&&this.headers.append("Prefer",`count=${f}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const y=a.reduce((_,S)=>_.concat(Object.keys(S)),[]);if(y.length>0){const _=[...new Set(y)].map(S=>`"${S}"`);this.url.searchParams.set("columns",_.join(","))}}return new t.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(a,{count:l}={}){var u;const f="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:a}={}){var l;const u="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return ps.default=s,ps}var Sm;function UE(){if(Sm)return hs;Sm=1;var r=hs&&hs.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(hs,"__esModule",{value:!0});const t=r(Ry()),s=r(Nd());class o{constructor(l,{headers:u={},schema:f,fetch:p}={}){this.url=l,this.headers=new Headers(u),this.schemaName=f,this.fetch=p}from(l){const u=new URL(`${this.url}/${l}`);return new t.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new o(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:f=!1,get:p=!1,count:g}={}){var v;let y;const _=new URL(`${this.url}/rpc/${l}`);let S;f||p?(y=f?"HEAD":"GET",Object.entries(u).filter(([b,k])=>k!==void 0).map(([b,k])=>[b,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([b,k])=>{_.searchParams.append(b,k)})):(y="POST",S=u);const E=new Headers(this.headers);return g&&E.set("Prefer",`count=${g}`),new s.default({method:y,url:_,headers:E,schema:this.schemaName,body:S,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return hs.default=o,hs}var km;function FE(){if(km)return lt;km=1;var r=lt&&lt.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(lt,"__esModule",{value:!0}),lt.PostgrestError=lt.PostgrestBuilder=lt.PostgrestTransformBuilder=lt.PostgrestFilterBuilder=lt.PostgrestQueryBuilder=lt.PostgrestClient=void 0;const t=r(UE());lt.PostgrestClient=t.default;const s=r(Ry());lt.PostgrestQueryBuilder=s.default;const o=r(Nd());lt.PostgrestFilterBuilder=o.default;const a=r(Py());lt.PostgrestTransformBuilder=a.default;const l=r(Ty());lt.PostgrestBuilder=l.default;const u=r(Ny());return lt.PostgrestError=u.default,lt.default={PostgrestClient:t.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:l.default,PostgrestError:u.default},lt}var zE=FE();const BE=Vu(zE),{PostgrestClient:VE,PostgrestQueryBuilder:nN,PostgrestFilterBuilder:rN,PostgrestTransformBuilder:sN,PostgrestBuilder:oN,PostgrestError:iN}=BE;class WE{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const o=s.node,a=parseInt(o.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let s=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(s+=`

Suggested solution: ${t.workaround}`),new Error(s)}static createWebSocket(t,s){const o=this.getWebSocketConstructor();return new o(t,s)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const HE="2.75.0",KE=`realtime-js/${HE}`,qE="1.0.0",Au=1e4,GE=1e3,JE=100;var Ao;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Ao||(Ao={}));var st;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(st||(st={}));var tn;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(tn||(tn={}));var Iu;(function(r){r.websocket="websocket"})(Iu||(Iu={}));var Cr;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Cr||(Cr={}));class QE{constructor(){this.HEADER_LENGTH=1}decode(t,s){return t.constructor===ArrayBuffer?s(this._binaryDecode(t)):s(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const s=new DataView(t),o=new TextDecoder;return this._decodeBroadcast(t,s,o)}_decodeBroadcast(t,s,o){const a=s.getUint8(1),l=s.getUint8(2);let u=this.HEADER_LENGTH+2;const f=o.decode(t.slice(u,u+a));u=u+a;const p=o.decode(t.slice(u,u+l));u=u+l;const g=JSON.parse(o.decode(t.slice(u,t.byteLength)));return{ref:null,topic:f,event:p,payload:g}}}class Oy{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(ze||(ze={}));const Em=(r,t,s={})=>{var o;const a=(o=s.skipTypes)!==null&&o!==void 0?o:[];return t?Object.keys(t).reduce((l,u)=>(l[u]=YE(u,r,t,a),l),{}):{}},YE=(r,t,s,o)=>{const a=t.find(f=>f.name===r),l=a?.type,u=s[r];return l&&!o.includes(l)?Ay(l,u):Du(u)},Ay=(r,t)=>{if(r.charAt(0)==="_"){const s=r.slice(1,r.length);return tj(t,s)}switch(r){case ze.bool:return XE(t);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return ZE(t);case ze.json:case ze.jsonb:return ej(t);case ze.timestamp:return nj(t);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return Du(t);default:return Du(t)}},Du=r=>r,XE=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},ZE=r=>{if(typeof r=="string"){const t=parseFloat(r);if(!Number.isNaN(t))return t}return r},ej=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(t){return console.log(`JSON parse error: ${t}`),r}return r},tj=(r,t)=>{if(typeof r!="string")return r;const s=r.length-1,o=r[s];if(r[0]==="{"&&o==="}"){let l;const u=r.slice(1,s);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(f=>Ay(t,f))}return r},nj=r=>typeof r=="string"?r.replace(" ","T"):r,Iy=r=>{let t=r;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class nu{constructor(t,s,o={},a=Au){this.channel=t,this.event=s,this.payload=o,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var o;return this._hasReceived(t)&&s((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(o=>o.status===t).forEach(o=>o.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var jm;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(jm||(jm={}));class Io{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},a=>{const{onJoin:l,onLeave:u,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Io.syncState(this.state,a,l,u),this.pendingDiffs.forEach(p=>{this.state=Io.syncDiff(this.state,p,l,u)}),this.pendingDiffs=[],f()}),this.channel._on(o.diff,{},a=>{const{onJoin:l,onLeave:u,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Io.syncDiff(this.state,a,l,u),f())}),this.onJoin((a,l,u)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:u})}),this.onLeave((a,l,u)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,o,a){const l=this.cloneDeep(t),u=this.transformState(s),f={},p={};return this.map(l,(g,v)=>{u[g]||(p[g]=v)}),this.map(u,(g,v)=>{const y=l[g];if(y){const _=v.map(k=>k.presence_ref),S=y.map(k=>k.presence_ref),E=v.filter(k=>S.indexOf(k.presence_ref)<0),b=y.filter(k=>_.indexOf(k.presence_ref)<0);E.length>0&&(f[g]=E),b.length>0&&(p[g]=b)}else f[g]=v}),this.syncDiff(l,{joins:f,leaves:p},o,a)}static syncDiff(t,s,o,a){const{joins:l,leaves:u}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return o||(o=()=>{}),a||(a=()=>{}),this.map(l,(f,p)=>{var g;const v=(g=t[f])!==null&&g!==void 0?g:[];if(t[f]=this.cloneDeep(p),v.length>0){const y=t[f].map(S=>S.presence_ref),_=v.filter(S=>y.indexOf(S.presence_ref)<0);t[f].unshift(..._)}o(f,v,p)}),this.map(u,(f,p)=>{let g=t[f];if(!g)return;const v=p.map(y=>y.presence_ref);g=g.filter(y=>v.indexOf(y.presence_ref)<0),t[f]=g,a(f,g,p),g.length===0&&delete t[f]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(o=>s(o,t[o]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,o)=>{const a=t[o];return"metas"in a?s[o]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):s[o]=a,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Cm;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Cm||(Cm={}));var Do;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Do||(Do={}));var Cn;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Cn||(Cn={}));class Td{constructor(t,s={config:{}},o){var a,l;if(this.topic=t,this.params=s,this.socket=o,this.bindings={},this.state=st.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new nu(this,tn.join,this.params,this.timeout),this.rejoinTimer=new Oy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=st.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=st.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tn.reply,{},(u,f)=>{this._trigger(this._replyEventName(f),u)}),this.presence=new Io(this),this.broadcastEndpointURL=Iy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,s=this.timeout){var o,a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==st.closed){const{config:{broadcast:u,presence:f,private:p}}=this.params,g=(a=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(S=>S.filter))!==null&&a!==void 0?a:[],v=!!this.bindings[Do.PRESENCE]&&this.bindings[Do.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,y={},_={broadcast:u,presence:Object.assign(Object.assign({},f),{enabled:v}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(S=>t?.(Cn.CHANNEL_ERROR,S)),this._onClose(()=>t?.(Cn.CLOSED)),this.updateJoinPayload(Object.assign({config:_},y)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:S})=>{var E;if(this.socket.setAuth(),S===void 0){t?.(Cn.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,k=(E=b?.length)!==null&&E!==void 0?E:0,C=[];for(let P=0;P<k;P++){const R=b[P],{filter:{event:T,schema:D,table:B,filter:F}}=R,z=S&&S[P];if(z&&z.event===T&&z.schema===D&&z.table===B&&z.filter===F)C.push(Object.assign(Object.assign({},R),{id:z.id}));else{this.unsubscribe(),this.state=st.errored,t?.(Cn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,t&&t(Cn.SUBSCRIBED);return}}).receive("error",S=>{this.state=st.errored,t?.(Cn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{t?.(Cn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,o){return this.state===st.joined&&t===Do.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,s,o)}async send(t,s={}){var o,a;if(!this._canPush()&&t.type==="broadcast"){const{event:l,payload:u}=t,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);return await((a=g.body)===null||a===void 0?void 0:a.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,f,p;const g=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((p=(f=(u=this.params)===null||u===void 0?void 0:u.config)===null||f===void 0?void 0:f.broadcast)===null||p===void 0)&&p.ack)&&l("ok"),g.receive("ok",()=>l("ok")),g.receive("error",()=>l("error")),g.receive("timeout",()=>l("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=st.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tn.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(a=>{o=new nu(this,tn.leave,{},t),o.receive("ok",()=>{s(),a("ok")}).receive("timeout",()=>{s(),a("timed out")}).receive("error",()=>{a("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=st.closed,this.bindings={}}async _fetchWithTimeout(t,s,o){const a=new AbortController,l=setTimeout(()=>a.abort(),o),u=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:a.signal}));return clearTimeout(l),u}_push(t,s,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new nu(this,t,s,o);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>JE){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(t,s,o){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,o){var a,l;const u=t.toLocaleLowerCase(),{close:f,error:p,leave:g,join:v}=tn;if(o&&[f,p,g,v].indexOf(u)>=0&&o!==this._joinRef())return;let _=this._onMessage(u,s,o);if(s&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(S=>{var E,b,k;return((E=S.filter)===null||E===void 0?void 0:E.event)==="*"||((k=(b=S.filter)===null||b===void 0?void 0:b.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===u}).map(S=>S.callback(_,o)):(l=this.bindings[u])===null||l===void 0||l.filter(S=>{var E,b,k,C,P,R;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in S){const T=S.id,D=(E=S.filter)===null||E===void 0?void 0:E.event;return T&&((b=s.ids)===null||b===void 0?void 0:b.includes(T))&&(D==="*"||D?.toLocaleLowerCase()===((k=s.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const T=(P=(C=S?.filter)===null||C===void 0?void 0:C.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return T==="*"||T===((R=s?.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===u}).map(S=>{if(typeof _=="object"&&"ids"in _){const E=_.data,{schema:b,table:k,commit_timestamp:C,type:P,errors:R}=E;_=Object.assign(Object.assign({},{schema:b,table:k,commit_timestamp:C,eventType:P,new:{},old:{},errors:R}),this._getPayloadRecords(E))}S.callback(_,o)})}_isClosed(){return this.state===st.closed}_isJoined(){return this.state===st.joined}_isJoining(){return this.state===st.joining}_isLeaving(){return this.state===st.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,o){const a=t.toLocaleLowerCase(),l={type:a,filter:s,callback:o};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(t,s){const o=t.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===o&&Td.isEqual(a.filter,s))})),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const o in t)if(t[o]!==s[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(tn.close,{},t)}_onError(t){this._on(tn.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=st.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=Em(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=Em(t.columns,t.old_record)),s}}const ru=()=>{},pa={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},rj=[1e3,2e3,5e3,1e4],sj=1e4,oj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ij{constructor(t,s){var o;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Au,this.transport=null,this.heartbeatIntervalMs=pa.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ru,this.ref=0,this.reconnectTimer=null,this.logger=ru,this.conn=null,this.sendBuffer=[],this.serializer=new QE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let l;return a?l=a:typeof fetch>"u"?l=(...u)=>qo(async()=>{const{default:f}=await Promise.resolve().then(()=>Bs);return{default:f}},void 0).then(({default:f})=>f(...u)).catch(f=>{throw new Error(`Failed to load @supabase/node-fetch: ${f.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...u)=>l(...u)},!(!((o=s?.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${t}/${Iu.websocket}`,this.httpEndpoint=Iy(t),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=WE.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const s=t.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:qE}))}disconnect(t,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},t?this.conn.close(t,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,o){this.logger(t,s,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Ao.connecting:return Cr.Connecting;case Ao.open:return Cr.Open;case Ao.closing:return Cr.Closing;default:return Cr.Closed}}isConnected(){return this.connectionState()===Cr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,s={config:{}}){const o=`realtime:${t}`,a=this.getChannels().find(l=>l.topic===o);if(a)return a;{const l=new Td(`realtime:${t}`,s,this);return this.channels.push(l),l}}push(t){const{topic:s,event:o,payload:a,ref:l}=t,u=()=>{this.encode(t,f=>{var p;(p=this.conn)===null||p===void 0||p.send(f)})};this.log("push",`${s} ${o} (${l})`,a),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(GE,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},pa.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(o=>o.topic===t&&(o._isJoined()||o._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:a,payload:l,ref:u}=s,f=u?`(${u})`:"",p=l.status||"";this.log("receive",`${p} ${o} ${a} ${f}`.trim(),l),this.channels.filter(g=>g._isMember(o)).forEach(g=>g._trigger(a,l,u)),this._triggerStateCallbacks("message",s)})}_clearTimer(t){var s;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var s;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(tn.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const o=t.match(/\?/)?"&":"?",a=new URLSearchParams(s);return`${t}${o}${a}`}_workerObjectUrl(t){let s;if(t)s=t;else{const o=new Blob([oj],{type:"application/javascript"});s=URL.createObjectURL(o)}return s}_setConnectionState(t,s=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(t=null){let s;t?s=t:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(o=>{const a={access_token:s,version:KE};s&&o.updateJoinPayload(a),o.joinedOnce&&o._isJoined()&&o._push(tn.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${t}`,s)})}_triggerStateCallbacks(t,s){try{this.stateChangeCallbacks[t].forEach(o=>{try{o(s)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(o){this.log("error",`error triggering ${t} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new Oy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},pa.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var s,o,a,l,u,f,p,g,v;if(this.transport=(s=t?.transport)!==null&&s!==void 0?s:null,this.timeout=(o=t?.timeout)!==null&&o!==void 0?o:Au,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:pa.HEARTBEAT_INTERVAL,this.worker=(l=t?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=t?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(f=t?.heartbeatCallback)!==null&&f!==void 0?f:ru,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=t?.reconnectAfterMs)!==null&&p!==void 0?p:(y=>rj[y-1]||sj),this.encode=(g=t?.encode)!==null&&g!==void 0?g:((y,_)=>_(JSON.stringify(y))),this.decode=(v=t?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class Pd extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function et(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class aj extends Pd{constructor(t,s,o){super(t),this.name="StorageApiError",this.status=s,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Lu extends Pd{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}var lj=function(r,t,s,o){function a(l){return l instanceof s?l:new s(function(u){u(l)})}return new(s||(s=Promise))(function(l,u){function f(v){try{g(o.next(v))}catch(y){u(y)}}function p(v){try{g(o.throw(v))}catch(y){u(y)}}function g(v){v.done?l(v.value):a(v.value).then(f,p)}g((o=o.apply(r,t||[])).next())})};const Dy=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...s)=>qo(async()=>{const{default:o}=await Promise.resolve().then(()=>Bs);return{default:o}},void 0).then(({default:o})=>o(...s)):t=fetch,(...s)=>t(...s)},cj=()=>lj(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield qo(()=>Promise.resolve().then(()=>Bs),void 0)).Response:Response}),$u=r=>{if(Array.isArray(r))return r.map(s=>$u(s));if(typeof r=="function"||r!==Object(r))return r;const t={};return Object.entries(r).forEach(([s,o])=>{const a=s.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));t[a]=$u(o)}),t},uj=r=>{if(typeof r!="object"||r===null)return!1;const t=Object.getPrototypeOf(r);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)};var Dr=function(r,t,s,o){function a(l){return l instanceof s?l:new s(function(u){u(l)})}return new(s||(s=Promise))(function(l,u){function f(v){try{g(o.next(v))}catch(y){u(y)}}function p(v){try{g(o.throw(v))}catch(y){u(y)}}function g(v){v.done?l(v.value):a(v.value).then(f,p)}g((o=o.apply(r,t||[])).next())})};const su=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),dj=(r,t,s)=>Dr(void 0,void 0,void 0,function*(){const o=yield cj();r instanceof o&&!s?.noResolveJson?r.json().then(a=>{const l=r.status||500,u=a?.statusCode||l+"";t(new aj(su(a),l,u))}).catch(a=>{t(new Lu(su(a),a))}):t(new Lu(su(r),r))}),fj=(r,t,s,o)=>{const a={method:r,headers:t?.headers||{}};return r==="GET"||!o?a:(uj(o)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(o)):a.body=o,t?.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),s))};function Go(r,t,s,o,a,l){return Dr(this,void 0,void 0,function*(){return new Promise((u,f)=>{r(s,fj(t,o,a,l)).then(p=>{if(!p.ok)throw p;return o?.noResolveJson?p:p.json()}).then(p=>u(p)).catch(p=>dj(p,f,o))})})}function Na(r,t,s,o){return Dr(this,void 0,void 0,function*(){return Go(r,"GET",t,s,o)})}function fn(r,t,s,o,a){return Dr(this,void 0,void 0,function*(){return Go(r,"POST",t,o,a,s)})}function Mu(r,t,s,o,a){return Dr(this,void 0,void 0,function*(){return Go(r,"PUT",t,o,a,s)})}function hj(r,t,s,o){return Dr(this,void 0,void 0,function*(){return Go(r,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),o)})}function Ly(r,t,s,o,a){return Dr(this,void 0,void 0,function*(){return Go(r,"DELETE",t,o,a,s)})}var pj=function(r,t,s,o){function a(l){return l instanceof s?l:new s(function(u){u(l)})}return new(s||(s=Promise))(function(l,u){function f(v){try{g(o.next(v))}catch(y){u(y)}}function p(v){try{g(o.throw(v))}catch(y){u(y)}}function g(v){v.done?l(v.value):a(v.value).then(f,p)}g((o=o.apply(r,t||[])).next())})};class mj{constructor(t,s){this.downloadFn=t,this.shouldThrowOnError=s}then(t,s){return this.execute().then(t,s)}execute(){return pj(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(et(t))return{data:null,error:t};throw t}})}}var gj=function(r,t,s,o){function a(l){return l instanceof s?l:new s(function(u){u(l)})}return new(s||(s=Promise))(function(l,u){function f(v){try{g(o.next(v))}catch(y){u(y)}}function p(v){try{g(o.throw(v))}catch(y){u(y)}}function g(v){v.done?l(v.value):a(v.value).then(f,p)}g((o=o.apply(r,t||[])).next())})};class vj{constructor(t,s){this.downloadFn=t,this.shouldThrowOnError=s}asStream(){return new mj(this.downloadFn,this.shouldThrowOnError)}then(t,s){return this.execute().then(t,s)}execute(){return gj(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(et(t))return{data:null,error:t};throw t}})}}var Nt=function(r,t,s,o){function a(l){return l instanceof s?l:new s(function(u){u(l)})}return new(s||(s=Promise))(function(l,u){function f(v){try{g(o.next(v))}catch(y){u(y)}}function p(v){try{g(o.throw(v))}catch(y){u(y)}}function g(v){v.done?l(v.value):a(v.value).then(f,p)}g((o=o.apply(r,t||[])).next())})};const yj={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Nm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class wj{constructor(t,s={},o,a){this.shouldThrowOnError=!1,this.url=t,this.headers=s,this.bucketId=o,this.fetch=Dy(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,s,o,a){return Nt(this,void 0,void 0,function*(){try{let l;const u=Object.assign(Object.assign({},Nm),a);let f=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const p=u.metadata;typeof Blob<"u"&&o instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),p&&l.append("metadata",this.encodeMetadata(p)),l.append("",o)):typeof FormData<"u"&&o instanceof FormData?(l=o,l.append("cacheControl",u.cacheControl),p&&l.append("metadata",this.encodeMetadata(p))):(l=o,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType,p&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),a?.headers&&(f=Object.assign(Object.assign({},f),a.headers));const g=this._removeEmptyFolders(s),v=this._getFinalPath(g),y=yield(t=="PUT"?Mu:fn)(this.fetch,`${this.url}/object/${v}`,l,Object.assign({headers:f},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:g,id:y.Id,fullPath:y.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(et(l))return{data:null,error:l};throw l}})}upload(t,s,o){return Nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,o)})}uploadToSignedUrl(t,s,o,a){return Nt(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(t),u=this._getFinalPath(l),f=new URL(this.url+`/object/upload/sign/${u}`);f.searchParams.set("token",s);try{let p;const g=Object.assign({upsert:Nm.upsert},a),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&o instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",o)):typeof FormData<"u"&&o instanceof FormData?(p=o,p.append("cacheControl",g.cacheControl)):(p=o,v["cache-control"]=`max-age=${g.cacheControl}`,v["content-type"]=g.contentType);const y=yield Mu(this.fetch,f.toString(),p,{headers:v});return{data:{path:l,fullPath:y.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(et(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(t,s){return Nt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t);const a=Object.assign({},this.headers);s?.upsert&&(a["x-upsert"]="true");const l=yield fn(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:a}),u=new URL(this.url+l.url),f=u.searchParams.get("token");if(!f)throw new Pd("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:f},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(et(o))return{data:null,error:o};throw o}})}update(t,s,o){return Nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,o)})}move(t,s,o){return Nt(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:o?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}})}copy(t,s,o){return Nt(this,void 0,void 0,function*(){try{return{data:{path:(yield fn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:o?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}})}createSignedUrl(t,s,o){return Nt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),l=yield fn(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:s},o?.transform?{transform:o.transform}:{}),{headers:this.headers});const u=o?.download?`&download=${o.download===!0?"":o.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}})}createSignedUrls(t,s,o){return Nt(this,void 0,void 0,function*(){try{const a=yield fn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),l=o?.download?`&download=${o.download===!0?"":o.download}`:"";return{data:a.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${l}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}})}download(t,s){const a=typeof s?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(s?.transform||{}),u=l?`?${l}`:"",f=this._getFinalPath(t),p=()=>Na(this.fetch,`${this.url}/${a}/${f}${u}`,{headers:this.headers,noResolveJson:!0});return new vj(p,this.shouldThrowOnError)}info(t){return Nt(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const o=yield Na(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:$u(o),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(et(o))return{data:null,error:o};throw o}})}exists(t){return Nt(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield hj(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(et(o)&&o instanceof Lu){const a=o.originalError;if([400,404].includes(a?.status))return{data:!1,error:o}}throw o}})}getPublicUrl(t,s){const o=this._getFinalPath(t),a=[],l=s?.download?`download=${s.download===!0?"":s.download}`:"";l!==""&&a.push(l);const f=typeof s?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(s?.transform||{});p!==""&&a.push(p);let g=a.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${o}${g}`)}}}remove(t){return Nt(this,void 0,void 0,function*(){try{return{data:yield Ly(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}list(t,s,o){return Nt(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},yj),s),{prefix:t||""});return{data:yield fn(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},o),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}})}listV2(t,s){return Nt(this,void 0,void 0,function*(){try{const o=Object.assign({},t);return{data:yield fn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},s),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(et(o))return{data:null,error:o};throw o}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const xj="2.75.0",bj={"X-Client-Info":`storage-js/${xj}`};var ys=function(r,t,s,o){function a(l){return l instanceof s?l:new s(function(u){u(l)})}return new(s||(s=Promise))(function(l,u){function f(v){try{g(o.next(v))}catch(y){u(y)}}function p(v){try{g(o.throw(v))}catch(y){u(y)}}function g(v){v.done?l(v.value):a(v.value).then(f,p)}g((o=o.apply(r,t||[])).next())})};class _j{constructor(t,s={},o,a){this.shouldThrowOnError=!1;const l=new URL(t);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bj),s),this.fetch=Dy(o)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ys(this,void 0,void 0,function*(){try{return{data:yield Na(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(et(t))return{data:null,error:t};throw t}})}getBucket(t){return ys(this,void 0,void 0,function*(){try{return{data:yield Na(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}createBucket(t){return ys(this,arguments,void 0,function*(s,o={public:!1}){try{return{data:yield fn(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:o.type,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}})}updateBucket(t,s){return ys(this,void 0,void 0,function*(){try{return{data:yield Mu(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(et(o))return{data:null,error:o};throw o}})}emptyBucket(t){return ys(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}deleteBucket(t){return ys(this,void 0,void 0,function*(){try{return{data:yield Ly(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}}class Sj extends _j{constructor(t,s={},o,a){super(t,s,o,a)}from(t){return new wj(this.url,this.headers,t,this.fetch)}}const kj="2.75.0";let Oo="";typeof Deno<"u"?Oo="deno":typeof document<"u"?Oo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Oo="react-native":Oo="node";const Ej={"X-Client-Info":`supabase-js-${Oo}/${kj}`},jj={headers:Ej},Cj={schema:"public"},Nj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Tj={};var Pj=function(r,t,s,o){function a(l){return l instanceof s?l:new s(function(u){u(l)})}return new(s||(s=Promise))(function(l,u){function f(v){try{g(o.next(v))}catch(y){u(y)}}function p(v){try{g(o.throw(v))}catch(y){u(y)}}function g(v){v.done?l(v.value):a(v.value).then(f,p)}g((o=o.apply(r,t||[])).next())})};const Rj=r=>{let t;return r?t=r:typeof fetch>"u"?t=jy:t=fetch,(...s)=>t(...s)},Oj=()=>typeof Headers>"u"?Cy:Headers,Aj=(r,t,s)=>{const o=Rj(s),a=Oj();return(l,u)=>Pj(void 0,void 0,void 0,function*(){var f;const p=(f=yield t())!==null&&f!==void 0?f:r;let g=new a(u?.headers);return g.has("apikey")||g.set("apikey",r),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),o(l,Object.assign(Object.assign({},u),{headers:g}))})};var Ij=function(r,t,s,o){function a(l){return l instanceof s?l:new s(function(u){u(l)})}return new(s||(s=Promise))(function(l,u){function f(v){try{g(o.next(v))}catch(y){u(y)}}function p(v){try{g(o.throw(v))}catch(y){u(y)}}function g(v){v.done?l(v.value):a(v.value).then(f,p)}g((o=o.apply(r,t||[])).next())})};function Dj(r){return r.endsWith("/")?r:r+"/"}function Lj(r,t){var s,o;const{db:a,auth:l,realtime:u,global:f}=r,{db:p,auth:g,realtime:v,global:y}=t,_={db:Object.assign(Object.assign({},p),a),auth:Object.assign(Object.assign({},g),l),realtime:Object.assign(Object.assign({},v),u),storage:{},global:Object.assign(Object.assign(Object.assign({},y),f),{headers:Object.assign(Object.assign({},(s=y?.headers)!==null&&s!==void 0?s:{}),(o=f?.headers)!==null&&o!==void 0?o:{})}),accessToken:()=>Ij(this,void 0,void 0,function*(){return""})};return r.accessToken?_.accessToken=r.accessToken:delete _.accessToken,_}function $j(r){const t=r?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Dj(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const $y="2.75.0",ks=30*1e3,Uu=3,ou=Uu*ks,Mj="http://localhost:9999",Uj="supabase.auth.token",Fj={"X-Client-Info":`gotrue-js/${$y}`},Fu="X-Supabase-Api-Version",My={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},zj=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Bj=600*1e3;class zo extends Error{constructor(t,s,o){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=o}}function ve(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class Vj extends zo{constructor(t,s,o){super(t,s,o),this.name="AuthApiError",this.status=s,this.code=o}}function Wj(r){return ve(r)&&r.name==="AuthApiError"}class Nr extends zo{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class lr extends zo{constructor(t,s,o,a){super(t,o,a),this.name=s,this.status=o}}class Zn extends lr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Hj(r){return ve(r)&&r.name==="AuthSessionMissingError"}class ws extends lr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ma extends lr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ga extends lr{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Kj(r){return ve(r)&&r.name==="AuthImplicitGrantRedirectError"}class Tm extends lr{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zu extends lr{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function iu(r){return ve(r)&&r.name==="AuthRetryableFetchError"}class Pm extends lr{constructor(t,s,o){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=o}}class Bu extends lr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ta="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Rm=` 	
\r=`.split(""),qj=(()=>{const r=new Array(128);for(let t=0;t<r.length;t+=1)r[t]=-1;for(let t=0;t<Rm.length;t+=1)r[Rm[t].charCodeAt(0)]=-2;for(let t=0;t<Ta.length;t+=1)r[Ta[t].charCodeAt(0)]=t;return r})();function Om(r,t,s){if(r!==null)for(t.queue=t.queue<<8|r,t.queuedBits+=8;t.queuedBits>=6;){const o=t.queue>>t.queuedBits-6&63;s(Ta[o]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const o=t.queue>>t.queuedBits-6&63;s(Ta[o]),t.queuedBits-=6}}function Uy(r,t,s){const o=qj[r];if(o>-1)for(t.queue=t.queue<<6|o,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Am(r){const t=[],s=u=>{t.push(String.fromCodePoint(u))},o={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=u=>{Qj(u,o,s)};for(let u=0;u<r.length;u+=1)Uy(r.charCodeAt(u),a,l);return t.join("")}function Gj(r,t){if(r<=127){t(r);return}else if(r<=2047){t(192|r>>6),t(128|r&63);return}else if(r<=65535){t(224|r>>12),t(128|r>>6&63),t(128|r&63);return}else if(r<=1114111){t(240|r>>18),t(128|r>>12&63),t(128|r>>6&63),t(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function Jj(r,t){for(let s=0;s<r.length;s+=1){let o=r.charCodeAt(s);if(o>55295&&o<=56319){const a=(o-55296)*1024&65535;o=(r.charCodeAt(s+1)-56320&65535|a)+65536,s+=1}Gj(o,t)}}function Qj(r,t,s){if(t.utf8seq===0){if(r<=127){s(r);return}for(let o=1;o<6;o+=1)if((r>>7-o&1)===0){t.utf8seq=o;break}if(t.utf8seq===2)t.codepoint=r&31;else if(t.utf8seq===3)t.codepoint=r&15;else if(t.utf8seq===4)t.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|r&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function Ps(r){const t=[],s={queue:0,queuedBits:0},o=a=>{t.push(a)};for(let a=0;a<r.length;a+=1)Uy(r.charCodeAt(a),s,o);return new Uint8Array(t)}function Yj(r){const t=[];return Jj(r,s=>t.push(s)),new Uint8Array(t)}function Tr(r){const t=[],s={queue:0,queuedBits:0},o=a=>{t.push(a)};return r.forEach(a=>Om(a,s,o)),Om(null,s,o),t.join("")}function Xj(r){return Math.round(Date.now()/1e3)+r}function Zj(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const t=Math.random()*16|0;return(r=="x"?t:t&3|8).toString(16)})}const It=()=>typeof window<"u"&&typeof document<"u",kr={tested:!1,writable:!1},Fy=()=>{if(!It())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(kr.tested)return kr.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),kr.tested=!0,kr.writable=!0}catch{kr.tested=!0,kr.writable=!1}return kr.writable};function eC(r){const t={},s=new URL(r);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((a,l)=>{t[l]=a})}catch{}return s.searchParams.forEach((o,a)=>{t[a]=o}),t}const zy=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...s)=>qo(async()=>{const{default:o}=await Promise.resolve().then(()=>Bs);return{default:o}},void 0).then(({default:o})=>o(...s)):t=fetch,(...s)=>t(...s)},tC=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Es=async(r,t,s)=>{await r.setItem(t,JSON.stringify(s))},Er=async(r,t)=>{const s=await r.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Qn=async(r,t)=>{await r.removeItem(t)};class Ha{constructor(){this.promise=new Ha.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}Ha.promiseConstructor=Promise;function au(r){const t=r.split(".");if(t.length!==3)throw new Bu("Invalid JWT structure");for(let o=0;o<t.length;o++)if(!zj.test(t[o]))throw new Bu("JWT not in base64url format");return{header:JSON.parse(Am(t[0])),payload:JSON.parse(Am(t[1])),signature:Ps(t[2]),raw:{header:t[0],payload:t[1]}}}async function nC(r){return await new Promise(t=>{setTimeout(()=>t(null),r)})}function rC(r,t){return new Promise((o,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await r(l);if(!t(l,null,u)){o(u);return}}catch(u){if(!t(l,u)){a(u);return}}})()})}function sC(r){return("0"+r.toString(16)).substr(-2)}function oC(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=s.length;let a="";for(let l=0;l<56;l++)a+=s.charAt(Math.floor(Math.random()*o));return a}return crypto.getRandomValues(t),Array.from(t,sC).join("")}async function iC(r){const s=new TextEncoder().encode(r),o=await crypto.subtle.digest("SHA-256",s),a=new Uint8Array(o);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function aC(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const s=await iC(r);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xs(r,t,s=!1){const o=oC();let a=o;s&&(a+="/PASSWORD_RECOVERY"),await Es(r,`${t}-code-verifier`,a);const l=await aC(o);return[l,o===l?"plain":"s256"]}const lC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function cC(r){const t=r.headers.get(Fu);if(!t||!t.match(lC))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function uC(r){if(!r)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(r<=t)throw new Error("JWT has expired")}function dC(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const fC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function bs(r){if(!fC.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function lu(){const r={};return new Proxy(r,{get:(t,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const o=s.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Im(r){return JSON.parse(JSON.stringify(r))}var hC=function(r,t){var s={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&t.indexOf(o)<0&&(s[o]=r[o]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(r);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(r,o[a])&&(s[o[a]]=r[o[a]]);return s};const jr=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),pC=[502,503,504];async function Dm(r){var t;if(!tC(r))throw new zu(jr(r),0);if(pC.includes(r.status))throw new zu(jr(r),r.status);let s;try{s=await r.json()}catch(l){throw new Nr(jr(l),l)}let o;const a=cC(r);if(a&&a.getTime()>=My["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?o=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(o=s.error_code),o){if(o==="weak_password")throw new Pm(jr(s),r.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(o==="session_not_found")throw new Zn}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new Pm(jr(s),r.status,s.weak_password.reasons);throw new Vj(jr(s),r.status||500,o)}const mC=(r,t,s,o)=>{const a={method:r,headers:t?.headers||{}};return r==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(o),Object.assign(Object.assign({},a),s))};async function _e(r,t,s,o){var a;const l=Object.assign({},o?.headers);l[Fu]||(l[Fu]=My["2024-01-01"].name),o?.jwt&&(l.Authorization=`Bearer ${o.jwt}`);const u=(a=o?.query)!==null&&a!==void 0?a:{};o?.redirectTo&&(u.redirect_to=o.redirectTo);const f=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",p=await gC(r,t,s+f,{headers:l,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(p):{data:Object.assign({},p),error:null}}async function gC(r,t,s,o,a,l){const u=mC(t,o,a,l);let f;try{f=await r(s,Object.assign({},u))}catch(p){throw console.error(p),new zu(jr(p),0)}if(f.ok||await Dm(f),o?.noResolveJson)return f;try{return await f.json()}catch(p){await Dm(p)}}function Zt(r){var t;let s=null;wC(r)&&(s=Object.assign({},r),r.expires_at||(s.expires_at=Xj(r.expires_in)));const o=(t=r.user)!==null&&t!==void 0?t:r;return{data:{session:s,user:o},error:null}}function Lm(r){const t=Zt(r);return!t.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0)&&(t.data.weak_password=r.weak_password),t}function er(r){var t;return{data:{user:(t=r.user)!==null&&t!==void 0?t:r},error:null}}function vC(r){return{data:r,error:null}}function yC(r){const{action_link:t,email_otp:s,hashed_token:o,redirect_to:a,verification_type:l}=r,u=hC(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:s,hashed_token:o,redirect_to:a,verification_type:l},p=Object.assign({},u);return{data:{properties:f,user:p},error:null}}function $m(r){return r}function wC(r){return r.access_token&&r.refresh_token&&r.expires_in}const cu=["global","local","others"];var xC=function(r,t){var s={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&t.indexOf(o)<0&&(s[o]=r[o]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(r);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(r,o[a])&&(s[o[a]]=r[o[a]]);return s};class bC{constructor({url:t="",headers:s={},fetch:o}){this.url=t,this.headers=s,this.fetch=zy(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,s=cu[0]){if(cu.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${cu.join(", ")}`);try{return await _e(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(o){if(ve(o))return{data:null,error:o};throw o}}async inviteUserByEmail(t,s={}){try{return await _e(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:er})}catch(o){if(ve(o))return{data:{user:null},error:o};throw o}}async generateLink(t){try{const{options:s}=t,o=xC(t,["options"]),a=Object.assign(Object.assign({},o),s);return"newEmail"in o&&(a.new_email=o?.newEmail,delete a.newEmail),await _e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:yC,redirectTo:s?.redirectTo})}catch(s){if(ve(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await _e(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:er})}catch(s){if(ve(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,o,a,l,u,f,p;try{const g={nextPage:null,lastPage:0,total:0},v=await _e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(s=t?.page)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:"",per_page:(l=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:$m});if(v.error)throw v.error;const y=await v.json(),_=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(p=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return S.length>0&&(S.forEach(E=>{const b=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(E.split(";")[1].split("=")[1]);g[`${k}Page`]=b}),g.total=parseInt(_)),{data:Object.assign(Object.assign({},y),g),error:null}}catch(g){if(ve(g))return{data:{users:[]},error:g};throw g}}async getUserById(t){bs(t);try{return await _e(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:er})}catch(s){if(ve(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){bs(t);try{return await _e(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:er})}catch(o){if(ve(o))return{data:{user:null},error:o};throw o}}async deleteUser(t,s=!1){bs(t);try{return await _e(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:er})}catch(o){if(ve(o))return{data:{user:null},error:o};throw o}}async _listFactors(t){bs(t.userId);try{const{data:s,error:o}=await _e(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:s,error:o}}catch(s){if(ve(s))return{data:null,error:s};throw s}}async _deleteFactor(t){bs(t.userId),bs(t.id);try{return{data:await _e(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(ve(s))return{data:null,error:s};throw s}}async _listOAuthClients(t){var s,o,a,l,u,f,p;try{const g={nextPage:null,lastPage:0,total:0},v=await _e(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(s=t?.page)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:"",per_page:(l=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:$m});if(v.error)throw v.error;const y=await v.json(),_=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(p=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return S.length>0&&(S.forEach(E=>{const b=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(E.split(";")[1].split("=")[1]);g[`${k}Page`]=b}),g.total=parseInt(_)),{data:Object.assign(Object.assign({},y),g),error:null}}catch(g){if(ve(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(t){try{return await _e(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ve(s))return{data:null,error:s};throw s}}async _getOAuthClient(t){try{return await _e(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ve(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(t){try{return await _e(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ve(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(t){try{return await _e(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ve(s))return{data:null,error:s};throw s}}}function Mm(r={}){return{getItem:t=>r[t]||null,setItem:(t,s)=>{r[t]=s},removeItem:t=>{delete r[t]}}}const _s={debug:!!(globalThis&&Fy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class By extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class _C extends By{}async function SC(r,t,s){_s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,t);const o=new globalThis.AbortController;return t>0&&setTimeout(()=>{o.abort(),_s.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async a=>{if(a){_s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,a.name);try{return await s()}finally{_s.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,a.name)}}else{if(t===0)throw _s.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new _C(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(_s.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function kC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Vy(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function EC(r){return parseInt(r,16)}function jC(r){const t=new TextEncoder().encode(r);return"0x"+Array.from(t,o=>o.toString(16).padStart(2,"0")).join("")}function CC(r){var t;const{chainId:s,domain:o,expirationTime:a,issuedAt:l=new Date,nonce:u,notBefore:f,requestId:p,resources:g,scheme:v,uri:y,version:_}=r;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((t=r.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const S=Vy(r.address),E=v?`${v}://${o}`:o,b=r.statement?`${r.statement}
`:"",k=`${E} wants you to sign in with your Ethereum account:
${S}

${b}`;let C=`URI: ${y}
Version: ${_}
Chain ID: ${s}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(a&&(C+=`
Expiration Time: ${a.toISOString()}`),f&&(C+=`
Not Before: ${f.toISOString()}`),p&&(C+=`
Request ID: ${p}`),g){let P=`
Resources:`;for(const R of g){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);P+=`
- ${R}`}C+=P}return`${k}
${C}`}class Ze extends Error{constructor({message:t,code:s,cause:o,name:a}){var l;super(t,{cause:o}),this.__isWebAuthnError=!0,this.name=(l=a??(o instanceof Error?o.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=s}}class Pa extends Ze{constructor(t,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:t}),this.name="WebAuthnUnknownError",this.originalError=s}}function NC({error:r,options:t}){var s,o,a;const{publicKey:l}=t;if(!l)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ze({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((s=l.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new Ze({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(t.mediation==="conditional"&&((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Ze({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Ze({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new Ze({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new Ze({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return l.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new Ze({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new Ze({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const u=window.location.hostname;if(Hy(u)){if(l.rp.id!==u)return new Ze({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new Ze({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new Ze({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function TC({error:r,options:t}){const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ze({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new Ze({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const o=window.location.hostname;if(Hy(o)){if(s.rpId!==o)return new Ze({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new Ze({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}var Wy=function(r,t){var s={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&t.indexOf(o)<0&&(s[o]=r[o]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(r);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(r,o[a])&&(s[o[a]]=r[o[a]]);return s};class PC{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const RC=new PC;function OC(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:t,user:s,excludeCredentials:o}=r,a=Wy(r,["challenge","user","excludeCredentials"]),l=Ps(t).buffer,u=Object.assign(Object.assign({},s),{id:Ps(s.id).buffer}),f=Object.assign(Object.assign({},a),{challenge:l,user:u});if(o&&o.length>0){f.excludeCredentials=new Array(o.length);for(let p=0;p<o.length;p++){const g=o[p];f.excludeCredentials[p]=Object.assign(Object.assign({},g),{id:Ps(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return f}function AC(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:t,allowCredentials:s}=r,o=Wy(r,["challenge","allowCredentials"]),a=Ps(t).buffer,l=Object.assign(Object.assign({},o),{challenge:a});if(s&&s.length>0){l.allowCredentials=new Array(s.length);for(let u=0;u<s.length;u++){const f=s[u];l.allowCredentials[u]=Object.assign(Object.assign({},f),{id:Ps(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return l}function IC(r){var t;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const s=r;return{id:r.id,rawId:r.id,response:{attestationObject:Tr(new Uint8Array(r.response.attestationObject)),clientDataJSON:Tr(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function DC(r){var t;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const s=r,o=r.getClientExtensionResults(),a=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:Tr(new Uint8Array(a.authenticatorData)),clientDataJSON:Tr(new Uint8Array(a.clientDataJSON)),signature:Tr(new Uint8Array(a.signature)),userHandle:a.userHandle?Tr(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Hy(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function Um(){var r,t;return!!(It()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function LC(r){try{const t=await navigator.credentials.create(r);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Pa("Browser returned unexpected credential type",t)}:{data:null,error:new Pa("Empty credential response",t)}}catch(t){return{data:null,error:NC({error:t,options:r})}}}async function $C(r){try{const t=await navigator.credentials.get(r);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Pa("Browser returned unexpected credential type",t)}:{data:null,error:new Pa("Empty credential response",t)}}catch(t){return{data:null,error:TC({error:t,options:r})}}}const MC={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},UC={userVerification:"preferred",hints:["security-key"]};function Ra(...r){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),s=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),o={};for(const a of r)if(a)for(const l in a){const u=a[l];if(u!==void 0)if(Array.isArray(u))o[l]=u;else if(s(u))o[l]=u;else if(t(u)){const f=o[l];t(f)?o[l]=Ra(f,u):o[l]=Ra(u)}else o[l]=u}return o}function FC(r,t){return Ra(MC,r,t||{})}function zC(r,t){return Ra(UC,r,t||{})}class BC{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:s,friendlyName:o,signal:a},l){try{const{data:u,error:f}=await this.client.mfa.challenge({factorId:t,webauthn:s});if(!u)return{data:null,error:f};const p=a??RC.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:g}=u.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${o}`),g.displayName||(g.displayName=g.name)}switch(u.webauthn.type){case"create":{const g=FC(u.webauthn.credential_options.publicKey,l?.create),{data:v,error:y}=await LC({publicKey:g,signal:p});return v?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:y}}case"request":{const g=zC(u.webauthn.credential_options.publicKey,l?.request),{data:v,error:y}=await $C(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:g,signal:p}));return v?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:y}}}}catch(u){return ve(u)?{data:null,error:u}:{data:null,error:new Nr("Unexpected error in challenge",u)}}}async _verify({challengeId:t,factorId:s,webauthn:o}){return this.client.mfa.verify({factorId:s,challengeId:t,webauthn:o})}async _authenticate({factorId:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:a}},l){if(!s)return{data:null,error:new zo("rpId is required for WebAuthn authentication")};try{if(!Um())return{data:null,error:new Nr("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this.challenge({factorId:t,webauthn:{rpId:s,rpOrigins:o},signal:a},{request:l});if(!u)return{data:null,error:f};const{webauthn:p}=u;return this._verify({factorId:t,challengeId:u.challengeId,webauthn:{type:p.type,rpId:s,rpOrigins:o,credential_response:p.credential_response}})}catch(u){return ve(u)?{data:null,error:u}:{data:null,error:new Nr("Unexpected error in authenticate",u)}}}async _register({friendlyName:t,rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:a},l){if(!s)return{data:null,error:new zo("rpId is required for WebAuthn registration")};try{if(!Um())return{data:null,error:new Nr("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this._enroll({friendlyName:t});if(!u)return await this.client.mfa.listFactors().then(v=>{var y;return(y=v.data)===null||y===void 0?void 0:y.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===t&&_.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:f};const{data:p,error:g}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:s,rpOrigins:o},signal:a},{create:l});return p?this._verify({factorId:u.id,challengeId:p.challengeId,webauthn:{rpId:s,rpOrigins:o,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:g}}catch(u){return ve(u)?{data:null,error:u}:{data:null,error:new Nr("Unexpected error in register",u)}}}}kC();const VC={url:Mj,storageKey:Uj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Fj,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Fm(r,t,s){return await s()}const Ss={};class Bo{get jwks(){var t,s;return(s=(t=Ss[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(t){Ss[this.storageKey]=Object.assign(Object.assign({},Ss[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,s;return(s=(t=Ss[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ss[this.storageKey]=Object.assign(Object.assign({},Ss[this.storageKey]),{cachedAt:t})}constructor(t){var s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Bo.nextInstanceID,Bo.nextInstanceID+=1,this.instanceID>0&&It()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},VC),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new bC({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=zy(a.fetch),this.lock=a.lock||Fm,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:It()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=SC:this.lock=Fm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new BC(this)},this.persistSession?(a.storage?this.storage=a.storage:Fy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Mm(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Mm(this.memoryStorage)),It()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${$y}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const s=eC(window.location.href);let o="none";if(this._isImplicitGrantCallback(s)?o="implicit":await this._isPKCECallback(s)&&(o="pkce"),It()&&this.detectSessionInUrl&&o!=="none"){const{data:a,error:l}=await this._getSessionFromURL(s,o);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),Kj(l)){const p=(t=l.details)===null||t===void 0?void 0:t.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:f}=a;return this._debug("#_initialize()","detected session in URL",u,"redirect type",f),await this._saveSession(u),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ve(s)?{error:s}:{error:new Nr("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,o,a;try{const l=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(s=t?.options)===null||s===void 0?void 0:s.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Zt}),{data:u,error:f}=l;if(f||!u)return{data:{user:null,session:null},error:f};const p=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(l){if(ve(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(t){var s,o,a;try{let l;if("email"in t){const{email:v,password:y,options:_}=t;let S=null,E=null;this.flowType==="pkce"&&([S,E]=await xs(this.storage,this.storageKey)),l=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:v,password:y,data:(s=_?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:S,code_challenge_method:E},xform:Zt})}else if("phone"in t){const{phone:v,password:y,options:_}=t;l=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:y,data:(o=_?.data)!==null&&o!==void 0?o:{},channel:(a=_?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:Zt})}else throw new ma("You must provide either an email or phone number and a password");const{data:u,error:f}=l;if(f||!u)return{data:{user:null,session:null},error:f};const p=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(l){if(ve(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(t){try{let s;if("email"in t){const{email:l,password:u,options:f}=t;s=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Lm})}else if("phone"in t){const{phone:l,password:u,options:f}=t;s=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Lm})}else throw new ma("You must provide either an email or phone number and a password");const{data:o,error:a}=s;return a?{data:{user:null,session:null},error:a}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new ws}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:a})}catch(s){if(ve(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,o,a,l;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=t.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;switch(s){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(t){var s,o,a,l,u,f,p,g,v,y,_;let S,E;if("message"in t)S=t.message,E=t.signature;else{const{chain:b,wallet:k,statement:C,options:P}=t;let R;if(It())if(typeof k=="object")R=k;else{const W=window;if("ethereum"in W&&typeof W.ethereum=="object"&&"request"in W.ethereum&&typeof W.ethereum.request=="function")R=W.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=k}const T=new URL((s=P?.url)!==null&&s!==void 0?s:window.location.href),D=await R.request({method:"eth_requestAccounts"}).then(W=>W).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const B=Vy(D[0]);let F=(o=P?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!F){const W=await R.request({method:"eth_chainId"});F=EC(W)}const z={domain:T.host,address:B,statement:C,uri:T.href,version:"1",chainId:F,nonce:(a=P?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(u=(l=P?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(f=P?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(p=P?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(g=P?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(v=P?.signInWithEthereum)===null||v===void 0?void 0:v.resources};S=CC(z),E=await R.request({method:"personal_sign",params:[jC(S),B]})}try{const{data:b,error:k}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:E},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Zt});if(k)throw k;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new ws}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:k})}catch(b){if(ve(b))return{data:{user:null,session:null},error:b};throw b}}async signInWithSolana(t){var s,o,a,l,u,f,p,g,v,y,_,S;let E,b;if("message"in t)E=t.message,b=t.signature;else{const{chain:k,wallet:C,statement:P,options:R}=t;let T;if(It())if(typeof C=="object")T=C;else{const B=window;if("solana"in B&&typeof B.solana=="object"&&("signIn"in B.solana&&typeof B.solana.signIn=="function"||"signMessage"in B.solana&&typeof B.solana.signMessage=="function"))T=B.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=C}const D=new URL((s=R?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in T&&T.signIn){const B=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R?.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),P?{statement:P}:null));let F;if(Array.isArray(B)&&B[0]&&typeof B[0]=="object")F=B[0];else if(B&&typeof B=="object"&&"signedMessage"in B&&"signature"in B)F=B;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)E=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),b=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${D.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(a=(o=R?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=R?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((u=R?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((f=R?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((p=R?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((g=R?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((y=(v=R?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||y===void 0)&&y.length?["Resources",...R.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const B=await T.signMessage(new TextEncoder().encode(E),"utf8");if(!B||!(B instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=B}}try{const{data:k,error:C}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:Tr(b)},!((_=t.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(S=t.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Zt});if(C)throw C;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new ws}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:C})}catch(k){if(ve(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(t){const s=await Er(this.storage,`${this.storageKey}-code-verifier`),[o,a]=(s??"").split("/");try{const{data:l,error:u}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:o},xform:Zt});if(await Qn(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new ws}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:u})}catch(l){if(ve(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(t){try{const{options:s,provider:o,token:a,access_token:l,nonce:u}=t,f=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:a,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Zt}),{data:p,error:g}=f;return g?{data:{user:null,session:null},error:g}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new ws}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:g})}catch(s){if(ve(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,o,a,l,u;try{if("email"in t){const{email:f,options:p}=t;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await xs(this.storage,this.storageKey));const{error:y}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(s=p?.data)!==null&&s!==void 0?s:{},create_user:(o=p?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:g,code_challenge_method:v},redirectTo:p?.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in t){const{phone:f,options:p}=t,{data:g,error:v}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(a=p?.data)!==null&&a!==void 0?a:{},create_user:(l=p?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(u=p?.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:g?.message_id},error:v}}throw new ma("You must provide either an email or phone number.")}catch(f){if(ve(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(t){var s,o;try{let a,l;"options"in t&&(a=(s=t.options)===null||s===void 0?void 0:s.redirectTo,l=(o=t.options)===null||o===void 0?void 0:o.captchaToken);const{data:u,error:f}=await _e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:Zt});if(f)throw f;if(!u)throw new Error("An error occurred on token verification.");const p=u.session,g=u.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(a){if(ve(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var s,o,a;try{let l=null,u=null;return this.flowType==="pkce"&&([l,u]=await xs(this.storage,this.storageKey)),await _e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(o=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&o!==void 0?o:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:vC})}catch(l){if(ve(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:o}=t;if(o)throw o;if(!s)throw new Zn;const{error:a}=await _e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(ve(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:o,type:a,options:l}=t,{error:u}=await _e(this.fetch,"POST",s,{headers:this.headers,body:{email:o,type:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in t){const{phone:o,type:a,options:l}=t,{data:u,error:f}=await _e(this.fetch,"POST",s,{headers:this.headers,body:{phone:o,type:a,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return{data:{user:null,session:null,messageId:u?.message_id},error:f}}throw new ma("You must provide either an email or phone number and a type")}catch(s){if(ve(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await o,await s()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=s();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await Er(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const o=t.expires_at?t.expires_at*1e3-Date.now()<ou:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",t.expires_at),!o){if(this.userStorage){const u=await Er(this.userStorage,this.storageKey+"-user");u?.user?t.user=u.user:t.user=lu()}if(this.storage.isServer&&t.user){let u=this.suppressGetSessionWarning;t=new Proxy(t,{get:(p,g,v)=>(!u&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,g,v))})}return{data:{session:t},error:null}}const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{session:null},error:l}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:er}):await this._useSession(async s=>{var o,a,l;const{data:u,error:f}=s;if(f)throw f;return!(!((o=u.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Zn}:await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:er})})}catch(s){if(ve(s))return Hj(s)&&(await this._removeSession(),await Qn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async o=>{const{data:a,error:l}=o;if(l)throw l;if(!a.session)throw new Zn;const u=a.session;let f=null,p=null;this.flowType==="pkce"&&t.email!=null&&([f,p]=await xs(this.storage,this.storageKey));const{data:g,error:v}=await _e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:p}),jwt:u.access_token,xform:er});if(v)throw v;return u.user=g.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(o){if(ve(o))return{data:{user:null},error:o};throw o}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Zn;const s=Date.now()/1e3;let o=s,a=!0,l=null;const{payload:u}=au(t.access_token);if(u.exp&&(o=u.exp,a=o<=s),a){const{data:f,error:p}=await this._callRefreshToken(t.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!f)return{data:{user:null,session:null},error:null};l=f}else{const{data:f,error:p}=await this._getUser(t.access_token);if(p)throw p;l={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:o-s,expires_at:o},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(s){if(ve(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var o;if(!t){const{data:u,error:f}=s;if(f)throw f;t=(o=u.session)!==null&&o!==void 0?o:void 0}if(!t?.refresh_token)throw new Zn;const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{user:null,session:null},error:l}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(ve(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(t,s){try{if(!It())throw new ga("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ga(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Tm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ga("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Tm("No code detected.");const{data:P,error:R}=await this._exchangeCodeForSession(t.code);if(R)throw R;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:a,access_token:l,refresh_token:u,expires_in:f,expires_at:p,token_type:g}=t;if(!l||!f||!u||!g)throw new ga("No session defined in URL");const v=Math.round(Date.now()/1e3),y=parseInt(f);let _=v+y;p&&(_=parseInt(p));const S=_-v;S*1e3<=ks&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${y}s`);const E=_-y;v-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,_,v):v-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,_,v);const{data:b,error:k}=await this._getUser(l);if(k)throw k;const C={provider_token:o,provider_refresh_token:a,access_token:l,expires_in:y,expires_at:_,refresh_token:u,token_type:g,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:t.type},error:null}}catch(o){if(ve(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await Er(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var o;const{data:a,error:l}=s;if(l)return{error:l};const u=(o=a.session)===null||o===void 0?void 0:o.access_token;if(u){const{error:f}=await this.admin.signOut(u,t);if(f&&!(Wj(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return t!=="others"&&(await this._removeSession(),await Qn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const s=Zj(),o={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:o}}}async _emitInitialSession(t){return await this._useSession(async s=>{var o,a;try{const{data:{session:l},error:u}=s;if(u)throw u;await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}})}async resetPasswordForEmail(t,s={}){let o=null,a=null;this.flowType==="pkce"&&([o,a]=await xs(this.storage,this.storageKey,!0));try{return await _e(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:o,code_challenge_method:a,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(l){if(ve(l))return{data:null,error:l};throw l}}async getUserIdentities(){var t;try{const{data:s,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(s){if(ve(s))return{data:null,error:s};throw s}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var s;try{const{data:o,error:a}=await this._useSession(async l=>{var u,f,p,g,v;const{data:y,error:_}=l;if(_)throw _;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(p=t.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await _e(this.fetch,"GET",S,{headers:this.headers,jwt:(v=(g=y.session)===null||g===void 0?void 0:g.access_token)!==null&&v!==void 0?v:void 0})});if(a)throw a;return It()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:t.provider,url:o?.url},error:null}}catch(o){if(ve(o))return{data:{provider:t.provider,url:null},error:o};throw o}}async linkIdentityIdToken(t){return await this._useSession(async s=>{var o;try{const{error:a,data:{session:l}}=s;if(a)throw a;const{options:u,provider:f,token:p,access_token:g,nonce:v}=t,y=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=l?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:f,id_token:p,access_token:g,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Zt}),{data:_,error:S}=y;return S?{data:{user:null,session:null},error:S}:!_||!_.session||!_.user?{data:{user:null,session:null},error:new ws}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),{data:_,error:S})}catch(a){if(ve(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(t){try{return await this._useSession(async s=>{var o,a;const{data:l,error:u}=s;if(u)throw u;return await _e(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(o=l.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0})})}catch(s){if(ve(s))return{data:null,error:s};throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const o=Date.now();return await rC(async a=>(a>0&&await nC(200*Math.pow(2,a-1)),this._debug(s,"refreshing attempt",a),await _e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Zt})),(a,l)=>{const u=200*Math.pow(2,a);return l&&iu(l)&&Date.now()+u-o<ks})}catch(o){if(this._debug(s,"error",o),ve(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const o=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",o),It()&&!s.skipBrowserRedirect&&window.location.assign(o),{data:{provider:t,url:o},error:null}}async _recoverAndRefresh(){var t,s;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const a=await Er(this.storage,this.storageKey);if(a&&this.userStorage){let u=await Er(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:a.user},await Es(this.userStorage,this.storageKey+"-user",u)),a.user=(t=u?.user)!==null&&t!==void 0?t:lu()}else if(a&&!a.user&&!a.user){const u=await Er(this.storage,this.storageKey+"-user");u&&u?.user?(a.user=u.user,await Qn(this.storage,this.storageKey+"-user"),await Es(this.storage,this.storageKey,a)):a.user=lu()}if(this._debug(o,"session from storage",a),!this._isValidSession(a)){this._debug(o,"session is not valid"),a!==null&&await this._removeSession();return}const l=((s=a.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<ou;if(this._debug(o,`session has${l?"":" not"} expired with margin of ${ou}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:u}=await this._callRefreshToken(a.refresh_token);u&&(console.error(u),iu(u)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:f}=await this._getUser(a.access_token);!f&&u?.user?(a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(o,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(o,"error",a),console.error(a);return}finally{this._debug(o,"end")}}async _callRefreshToken(t){var s,o;if(!t)throw new Zn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Ha;const{data:l,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!l.session)throw new Zn;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const f={data:l.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(l){if(this._debug(a,"error",l),ve(l)){const u={data:null,error:l};return iu(l)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(u),u}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,s,o=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",s,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:t,session:s});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,s)}catch(p){l.push(p)}});if(await Promise.all(u),l.length>0){for(let f=0;f<l.length;f+=1)console.error(l[f]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const s=Object.assign({},t),o=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&s.user&&await Es(this.userStorage,this.storageKey+"-user",{user:s.user});const a=Object.assign({},s);delete a.user;const l=Im(a);await Es(this.storage,this.storageKey,l)}else{const a=Im(s);await Es(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Qn(this.storage,this.storageKey),await Qn(this.storage,this.storageKey+"-code-verifier"),await Qn(this.storage,this.storageKey+"-user"),this.userStorage&&await Qn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&It()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ks);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:o}}=s;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((o.expires_at*1e3-t)/ks);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${ks}ms, refresh threshold is ${Uu} ticks`),a<=Uu&&await this._callRefreshToken(o.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof By)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!It()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,o){const a=[`provider=${encodeURIComponent(s)}`];if(o?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&a.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[l,u]=await xs(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});a.push(f.toString())}if(o?.queryParams){const l=new URLSearchParams(o.queryParams);a.push(l.toString())}return o?.skipBrowserRedirect&&a.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var o;const{data:a,error:l}=s;return l?{data:null,error:l}:await _e(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token})})}catch(s){if(ve(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var o,a;const{data:l,error:u}=s;if(u)return{data:null,error:u};const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:p,error:g}=await _e(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(o=l?.session)===null||o===void 0?void 0:o.access_token});return g?{data:null,error:g}:(t.factorType==="totp"&&p.type==="totp"&&(!((a=p?.totp)===null||a===void 0)&&a.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(s){if(ve(s))return{data:null,error:s};throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var o;const{data:a,error:l}=s;if(l)return{data:null,error:l};const u=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?IC(t.webauthn.credential_response):DC(t.webauthn.credential_response)})}:{code:t.code}),{data:f,error:p}=await _e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:u,headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:p})})}catch(s){if(ve(s))return{data:null,error:s};throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var o;const{data:a,error:l}=s;if(l)return{data:null,error:l};const u=await _e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token});if(u.error)return u;const{data:f}=u;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:OC(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:AC(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(ve(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(t){const{data:s,error:o}=await this._challenge({factorId:t.factorId});return o?{data:null,error:o}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){var t;const{data:{user:s},error:o}=await this.getUser();if(o)return{data:null,error:o};const a={all:[],phone:[],totp:[],webauthn:[]};for(const l of(t=s?.factors)!==null&&t!==void 0?t:[])a.all.push(l),l.status==="verified"&&a[l.factor_type].push(l);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var s,o;const{data:{session:a},error:l}=t;if(l)return{data:null,error:l};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=au(a.access_token);let f=null;u.aal&&(f=u.aal);let p=f;((o=(s=a.user.factors)===null||s===void 0?void 0:s.filter(y=>y.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(p="aal2");const v=u.amr||[];return{data:{currentLevel:f,nextLevel:p,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(t,s={keys:[]}){let o=s.keys.find(f=>f.kid===t);if(o)return o;const a=Date.now();if(o=this.jwks.keys.find(f=>f.kid===t),o&&this.jwks_cached_at+Bj>a)return o;const{data:l,error:u}=await _e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,o=l.keys.find(f=>f.kid===t),!o)?null:o}async getClaims(t,s={}){try{let o=t;if(!o){const{data:S,error:E}=await this.getSession();if(E||!S.session)return{data:null,error:E};o=S.session.access_token}const{header:a,payload:l,signature:u,raw:{header:f,payload:p}}=au(o);s?.allowExpired||uC(l.exp);const g=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!g){const{error:S}=await this.getUser(o);if(S)throw S;return{data:{claims:l,header:a,signature:u},error:null}}const v=dC(a.alg),y=await crypto.subtle.importKey("jwk",g,v,!0,["verify"]);if(!await crypto.subtle.verify(v,y,u,Yj(`${f}.${p}`)))throw new Bu("Invalid JWT signature");return{data:{claims:l,header:a,signature:u},error:null}}catch(o){if(ve(o))return{data:null,error:o};throw o}}}Bo.nextInstanceID=0;const WC=Bo;class HC extends WC{constructor(t){super(t)}}var KC=function(r,t,s,o){function a(l){return l instanceof s?l:new s(function(u){u(l)})}return new(s||(s=Promise))(function(l,u){function f(v){try{g(o.next(v))}catch(y){u(y)}}function p(v){try{g(o.throw(v))}catch(y){u(y)}}function g(v){v.done?l(v.value):a(v.value).then(f,p)}g((o=o.apply(r,t||[])).next())})};class qC{constructor(t,s,o){var a,l,u;this.supabaseUrl=t,this.supabaseKey=s;const f=$j(t);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const p=`sb-${f.hostname.split(".")[0]}-auth-token`,g={db:Cj,realtime:Tj,auth:Object.assign(Object.assign({},Nj),{storageKey:p}),global:jj},v=Lj(o??{},g);this.storageKey=(a=v.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=v.global.headers)!==null&&l!==void 0?l:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(y,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=v.auth)!==null&&u!==void 0?u:{},this.headers,v.global.fetch),this.fetch=Aj(s,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new VE(new URL("rest/v1",f).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new Sj(this.storageUrl.href,this.headers,this.fetch,o?.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new AE(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},o={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,s,o)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return KC(this,void 0,void 0,function*(){var t,s;if(this.accessToken)return yield this.accessToken();const{data:o}=yield this.auth.getSession();return(s=(t=o.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:o,storage:a,userStorage:l,storageKey:u,flowType:f,lock:p,debug:g},v,y){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new HC({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),v),storageKey:u,autoRefreshToken:t,persistSession:s,detectSessionInUrl:o,storage:a,userStorage:l,flowType:f,lock:p,debug:g,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new ij(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,o)=>{this._handleTokenChanged(s,"CLIENT",o?.access_token)})}_handleTokenChanged(t,s,o){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==o?(this.changedAccessToken=o,this.realtime.setAuth(o)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const GC=(r,t,s)=>new qC(r,t,s);function JC(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const t=r.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}JC()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");GC(`https://${Me}.supabase.co`,We);function QC({onStatsUpdate:r}){const[t,s]=x.useState([]),[o,a]=x.useState(!0),[l,u]=x.useState(!1),[f,p]=x.useState(null),[g,v]=x.useState({title:"",subtitle:"",image:"",description:""}),[y,_]=x.useState(!1),[S,E]=x.useState(null),[b,k]=x.useState("");x.useEffect(()=>{T()},[]);const C=async W=>{try{const J=W.name.split(".").pop(),te=`category-${Date.now()}.${J}`,Y=`categories/${te}`;if(W.size>5*1024*1024)throw new Error("파일 크기는 5MB를 초과할 수 없습니다.");if(!W.type.startsWith("image/"))throw new Error("이미지 파일만 업로드 가능합니다.");console.log("Uploading file:",te,"Size:",W.size,"Type:",W.type);const re=new FormData;re.append("file",W),re.append("filePath",Y);const H=await fetch(`https://${Me}.supabase.co/functions/v1/make-server-a8898ff1/images/upload`,{method:"POST",headers:{Authorization:`Bearer ${We}`},cache:"no-store",body:re}),oe=await H.json();if(!H.ok)throw console.error("Upload error:",oe.error||H.statusText),new Error(oe.error||"이미지 업로드에 실패했습니다.");return console.log("Upload successful:",oe),oe.publicUrl.publicUrl}catch(J){throw console.error("Upload image error:",J),J}},P=W=>{const J=W.target.files?.[0];if(J){E(J);const te=new FileReader;te.onload=Y=>{k(Y.target?.result)},te.readAsDataURL(J)}},R=()=>{E(null),k("")},T=async()=>{try{const W=await fetch(`https://${Me}.supabase.co/functions/v1/make-server-a8898ff1/categories`,{headers:{Authorization:`Bearer ${We}`},cache:"no-store"});if(!W.ok)throw new Error("Failed to fetch categories");const J=await W.json();s(J.categories||[])}catch(W){console.error("Error loading categories:",W),s([{id:"fire",title:"화재발생 시 대응요령",subtitle:"객실 화재 발생 시 승무원 행동요령",image:"https://images.unsplash.com/photo-1581578731548-c64695cc6952?w=400&h=300&fit=crop",description:"지하철 화재 발생 시 대응 방법을 학습합니다."},{id:"safety",title:"지하철 안전운행",subtitle:"안전한 지하철 운행을 위한 기본 수칙",image:"https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?w=400&h=300&fit=crop",description:"지하철 운행 안전 수칙과 주의사항을 학습합니다."}])}finally{a(!1)}},D=async W=>{W.preventDefault(),_(!0);try{let J=g.image;if(S)try{J=await C(S)}catch(Z){if(!confirm(`이미지 업로드에 실패했습니다.

${Z instanceof Error?Z.message:"알 수 없는 오류"}

이미지 없이 카테고리를 저장하시겠습니까?`))throw Z;J=g.image||"https://via.placeholder.com/400x300/f0f0f0/666?text=No+Image"}const te={...g,image:J},Y=f?`https://${Me}.supabase.co/functions/v1/make-server-a8898ff1/categories/${f.id}`:`https://${Me}.supabase.co/functions/v1/make-server-a8898ff1/categories`,oe=await(await fetch(Y,{method:f?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${We}`},cache:"no-store",body:JSON.stringify(te)})).json();oe.success?(await T(),r(),u(!1),z()):alert(oe.error||"카테고리 저장에 실패했습니다.")}catch(J){console.error("Error saving category:",J);let te="카테고리 저장 중 오류가 발생했습니다.";J instanceof Error&&(J.message.includes("row-level security policy")||J.message.includes("RLS")?te=`이미지 업로드 권한이 없습니다.

Supabase Storage에서 다음 설정이 필요합니다:
1. Storage > Settings에서 RLS 비활성화
2. 또는 Public 정책 추가

관리자에게 문의하세요.`:J.message.includes("파일 크기")||J.message.includes("이미지 파일")?te=J.message:te=`저장 실패: ${J.message}`),alert(te)}finally{_(!1)}},B=async W=>{if(confirm("정말로 이 카테고리를 삭제하시겠습니까? 해당 카테고리의 모든 영상도 함께 삭제됩니다."))try{const te=await(await fetch(`https://${Me}.supabase.co/functions/v1/make-server-a8898ff1/categories/${W}`,{method:"DELETE",headers:{Authorization:`Bearer ${We}`,cache:"no-store"}})).json();te.success?(await T(),r()):alert(te.error||"카테고리 삭제에 실패했습니다.")}catch(J){console.error("Error deleting category:",J),alert("카테고리 삭제 중 오류가 발생했습니다.")}},F=W=>{p(W),v({title:W.title,subtitle:W.subtitle,image:W.image,description:W.description}),k(W.image),E(null),u(!0)},z=()=>{p(null),v({title:"",subtitle:"",image:"",description:""}),E(null),k("")};return o?d.jsx(ct,{children:d.jsx(ht,{className:"flex items-center justify-center py-12",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),d.jsx("p",{children:"데이터를 불러오는 중..."})]})})}):d.jsx("div",{className:"space-y-6",children:d.jsxs(ct,{children:[d.jsxs(Vt,{children:[d.jsx(Wt,{children:"카테고리 관리"}),d.jsx(Pr,{children:"교육 카테고리를 추가, 수정, 삭제할 수 있습니다."})]}),d.jsxs(ht,{children:[d.jsx("div",{className:"flex justify-end mb-6",children:d.jsxs(xd,{open:l,onOpenChange:u,children:[d.jsx(bd,{asChild:!0,children:d.jsxs(Te,{onClick:z,children:[d.jsx(Xu,{className:"h-4 w-4 mr-2"}),"새 카테고리 추가"]})}),d.jsxs(_d,{className:"max-w-lg",children:[d.jsxs(Sd,{children:[d.jsx(Ed,{children:f?"카테고리 수정":"새 카테고리 추가"}),d.jsx(jd,{children:f?"카테고리 정보를 수정합니다.":"새로운 교육 카테고리를 추가합니다."})]}),d.jsxs("form",{onSubmit:D,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(Ye,{htmlFor:"title",children:"카테고리 제목"}),d.jsx(yt,{id:"title",value:g.title,onChange:W=>v(J=>({...J,title:W.target.value})),placeholder:"카테고리 제목을 입력하세요",required:!0})]}),d.jsxs("div",{children:[d.jsx(Ye,{htmlFor:"subtitle",children:"부제목"}),d.jsx(yt,{id:"subtitle",value:g.subtitle,onChange:W=>v(J=>({...J,subtitle:W.target.value})),placeholder:"카테고리 부제목을 입력하세요",required:!0})]}),d.jsxs("div",{children:[d.jsx(Ye,{htmlFor:"image",children:"카테고리 이미지"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(yt,{id:"image",type:"file",accept:"image/*",onChange:P,className:"file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),S&&d.jsx(Te,{type:"button",variant:"outline",size:"sm",onClick:R,children:d.jsx(wg,{className:"h-4 w-4"})})]}),(b||g.image)&&d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ye,{className:"text-sm text-gray-600",children:"미리보기:"}),d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("img",{src:b||g.image,alt:"미리보기",className:"w-24 h-18 object-cover rounded border"}),S&&d.jsxs("div",{className:"text-sm text-gray-600",children:[d.jsxs("p",{children:["선택된 파일: ",S.name]}),d.jsxs("p",{children:["크기: ",(S.size/1024/1024).toFixed(2),"MB"]})]})]})]}),!f&&!S&&d.jsx("p",{className:"text-sm text-gray-500",children:"JPG, PNG, GIF 형식의 이미지를 업로드하세요. (최대 5MB)"}),f&&!S&&d.jsx("p",{className:"text-sm text-gray-500",children:"새 이미지를 선택하지 않으면 기존 이미지가 유지됩니다."})]})]}),d.jsxs("div",{children:[d.jsx(Ye,{htmlFor:"description",children:"설명"}),d.jsx(tv,{id:"description",value:g.description,onChange:W=>v(J=>({...J,description:W.target.value})),placeholder:"카테고리에 대한 설명을 입력하세요",rows:3,required:!0})]}),d.jsxs(kd,{children:[d.jsx(Te,{type:"button",variant:"outline",onClick:()=>u(!1),disabled:y,children:"취소"}),d.jsx(Te,{type:"submit",disabled:y,children:y?d.jsxs(d.Fragment,{children:[d.jsx(mg,{className:"h-4 w-4 mr-2 animate-spin"}),"업로드 중..."]}):f?"수정":"추가"})]})]})]})]})}),d.jsx("div",{className:"rounded-md border",children:d.jsxs(Lo,{children:[d.jsx($o,{children:d.jsxs(Tt,{children:[d.jsx(Le,{children:"이미지"}),d.jsx(Le,{children:"제목"}),d.jsx(Le,{children:"부제목"}),d.jsx(Le,{children:"설명"}),d.jsx(Le,{children:"작업"})]})}),d.jsx(Mo,{children:t.length===0?d.jsx(Tt,{children:d.jsxs(Ae,{colSpan:5,className:"text-center py-8 text-gray-500",children:[d.jsx(fg,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),d.jsx("p",{children:"등록된 카테고리가 없습니다."})]})}):t.map(W=>d.jsxs(Tt,{children:[d.jsx(Ae,{children:d.jsx("img",{src:W.image,alt:W.title,className:"w-16 h-12 object-cover rounded"})}),d.jsx(Ae,{className:"font-medium",children:W.title}),d.jsx(Ae,{className:"text-gray-600",children:W.subtitle}),d.jsx(Ae,{className:"max-w-xs",children:d.jsx("div",{className:"truncate text-sm text-gray-600",title:W.description,children:W.description})}),d.jsx(Ae,{children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Te,{variant:"outline",size:"sm",onClick:()=>window.open(W.image,"_blank"),title:"이미지 원본 보기",children:d.jsx(pu,{className:"h-3 w-3"})}),d.jsx(Te,{variant:"outline",size:"sm",onClick:()=>F(W),children:d.jsx(Zu,{className:"h-3 w-3"})}),d.jsx(Te,{variant:"outline",size:"sm",onClick:()=>B(W.id),className:"text-red-600 hover:text-red-700",children:d.jsx(ed,{className:"h-3 w-3"})})]})})]},W.id))})]})})]})]})})}function YC({currentAdmin:r}){const[t,s]=x.useState([]),[o,a]=x.useState(!0),[l,u]=x.useState(!1),[f,p]=x.useState(null),[g,v]=x.useState({name:"",employeeId:"",password:""});x.useEffect(()=>{y()},[]);const y=async()=>{try{const C=await fetch(`https://${Me}.supabase.co/functions/v1/make-server-a8898ff1/admin/list`,{headers:{Authorization:`Bearer ${We}`,cache:"no-store"}});if(!C.ok)throw new Error("Failed to fetch admins");const P=await C.json();s(P.admins||[])}catch(C){console.error("Error loading admins:",C);const P=[{id:"admin_001",name:"시스템 관리자",employeeId:"ADMIN001",isMainAdmin:!0,createdAt:new Date().toISOString()},{id:"admin_002",name:"김철수",employeeId:"EMP001",isMainAdmin:!1,createdAt:new Date().toISOString()}];s(P)}finally{a(!1)}},_=async C=>{C.preventDefault();try{const P=f?`https://${Me}.supabase.co/functions/v1/make-server-a8898ff1/admin/${f.id}`:`https://${Me}.supabase.co/functions/v1/make-server-a8898ff1/admin/create`,D=await(await fetch(P,{method:f?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${We}`,cache:"no-store"},body:JSON.stringify(g)})).json();D.success?(await y(),u(!1),b()):alert(D.error||"관리자 저장에 실패했습니다.")}catch(P){console.error("Error saving admin:",P),alert("관리자 저장 중 오류가 발생했습니다.")}},S=async(C,P)=>{if(P.isMainAdmin){alert("메인 관리자는 삭제할 수 없습니다.");return}if(P.id===r.id){alert("현재 로그인한 계정은 삭제할 수 없습니다.");return}if(confirm(`정말로 관리자 "${P.name}"을 삭제하시겠습니까?`))try{const T=await(await fetch(`https://${Me}.supabase.co/functions/v1/make-server-a8898ff1/admin/${C}`,{method:"DELETE",headers:{Authorization:`Bearer ${We}`,cache:"no-store"}})).json();T.success?await y():alert(T.error||"관리자 삭제에 실패했습니다.")}catch(R){console.error("Error deleting admin:",R),alert("관리자 삭제 중 오류가 발생했습니다.")}},E=C=>{p(C),v({name:C.name,employeeId:C.employeeId,password:""}),u(!0)},b=()=>{p(null),v({name:"",employeeId:"",password:""})},k=C=>new Date(C).toLocaleString("ko-KR");return o?d.jsx(ct,{children:d.jsx(ht,{className:"flex items-center justify-center py-12",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),d.jsx("p",{children:"데이터를 불러오는 중..."})]})})}):d.jsx("div",{className:"space-y-6",children:d.jsxs(ct,{children:[d.jsxs(Vt,{children:[d.jsx(Wt,{children:"관리자 계정 관리"}),d.jsx(Pr,{children:"관리자 계정을 추가, 수정, 삭제할 수 있습니다. 메인 관리자는 삭제할 수 없습니다."})]}),d.jsxs(ht,{children:[d.jsx("div",{className:"flex justify-end mb-6",children:d.jsxs(xd,{open:l,onOpenChange:u,children:[d.jsx(bd,{asChild:!0,children:d.jsxs(Te,{onClick:b,children:[d.jsx(Xu,{className:"h-4 w-4 mr-2"}),"새 관리자 추가"]})}),d.jsxs(_d,{className:"max-w-lg",children:[d.jsxs(Sd,{children:[d.jsx(Ed,{children:f?"관리자 수정":"새 관리자 추가"}),d.jsx(jd,{children:f?"관리자 정보를 수정합니다.":"새로운 관리자 계정을 추가합니다."})]}),d.jsxs("form",{onSubmit:_,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(Ye,{htmlFor:"name",children:"이름"}),d.jsx(yt,{id:"name",value:g.name,onChange:C=>v(P=>({...P,name:C.target.value})),placeholder:"관리자 이름을 입력하세요",required:!0})]}),d.jsxs("div",{children:[d.jsx(Ye,{htmlFor:"employeeId",children:"사번"}),d.jsx(yt,{id:"employeeId",value:g.employeeId,onChange:C=>v(P=>({...P,employeeId:C.target.value})),placeholder:"사번을 입력하세요",required:!0})]}),d.jsxs("div",{children:[d.jsxs(Ye,{htmlFor:"password",children:["비밀번호 ",f&&d.jsx("span",{className:"text-sm text-gray-500",children:"(변경하지 않으려면 비워두세요)"})]}),d.jsx(yt,{id:"password",type:"password",value:g.password,onChange:C=>v(P=>({...P,password:C.target.value})),placeholder:"비밀번호를 입력하세요",required:!f})]}),f&&f.isMainAdmin&&d.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-yellow-50 border border-yellow-200 rounded",children:[d.jsx(Mb,{className:"h-4 w-4 text-yellow-600"}),d.jsx("span",{className:"text-sm text-yellow-800",children:"메인 관리자 계정입니다. 신중하게 수정해 주세요."})]}),d.jsxs(kd,{children:[d.jsx(Te,{type:"button",variant:"outline",onClick:()=>u(!1),children:"취소"}),d.jsx(Te,{type:"submit",children:f?"수정":"추가"})]})]})]})]})}),d.jsx("div",{className:"rounded-md border",children:d.jsxs(Lo,{children:[d.jsx($o,{children:d.jsxs(Tt,{children:[d.jsx(Le,{children:"이름"}),d.jsx(Le,{children:"사번"}),d.jsx(Le,{children:"권한"}),d.jsx(Le,{children:"등록일"}),d.jsx(Le,{children:"마지막 수정"}),d.jsx(Le,{children:"작업"})]})}),d.jsx(Mo,{children:t.length===0?d.jsx(Tt,{children:d.jsxs(Ae,{colSpan:6,className:"text-center py-8 text-gray-500",children:[d.jsx(vg,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),d.jsx("p",{children:"등록된 관리자가 없습니다."})]})}):t.map(C=>d.jsxs(Tt,{className:C.id===r.id?"bg-blue-50":"",children:[d.jsx(Ae,{className:"font-medium",children:d.jsxs("div",{className:"flex items-center space-x-2",children:[C.isMainAdmin&&d.jsx(Ib,{className:"h-4 w-4 text-blue-600"}),d.jsx("span",{children:C.name}),C.id===r.id&&d.jsx(nn,{variant:"secondary",className:"text-xs",children:"본인"})]})}),d.jsx(Ae,{children:C.employeeId}),d.jsx(Ae,{children:d.jsx(nn,{variant:C.isMainAdmin?"default":"secondary",className:C.isMainAdmin?"bg-blue-600":"",children:C.isMainAdmin?"메인 관리자":"일반 관리자"})}),d.jsx(Ae,{className:"text-sm text-gray-600",children:k(C.createdAt)}),d.jsx(Ae,{className:"text-sm text-gray-600",children:C.updatedAt?k(C.updatedAt):"-"}),d.jsx(Ae,{children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Te,{variant:"outline",size:"sm",onClick:()=>E(C),children:d.jsx(Zu,{className:"h-3 w-3"})}),d.jsx(Te,{variant:"outline",size:"sm",onClick:()=>S(C.id,C),disabled:C.isMainAdmin||C.id===r.id,className:!C.isMainAdmin&&C.id!==r.id?"text-red-600 hover:text-red-700":"",children:d.jsx(ed,{className:"h-3 w-3"})})]})})]},C.id))})]})}),d.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[d.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"권한 안내"}),d.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[d.jsxs("li",{children:["• ",d.jsx("strong",{children:"메인 관리자:"})," 모든 기능에 접근 가능하며, 다른 관리자를 관리할 수 있습니다. 삭제할 수 없습니다."]}),d.jsxs("li",{children:["• ",d.jsx("strong",{children:"일반 관리자:"})," 영상, 카테고리, 사용자 관리 기능에 접근할 수 있습니다."]}),d.jsx("li",{children:"• 현재 로그인한 계정은 삭제할 수 없습니다."})]})]})]})]})})}function XC({admin:r,onLogout:t}){const[s,o]=x.useState({totalUsers:0,totalVideos:0,totalCategories:0,totalProgress:0});x.useEffect(()=>{a()},[]);const a=async()=>{try{const l=await fetch(`https://${Me}.supabase.co/functions/v1/make-server-a8898ff1/categories`,{headers:{Authorization:`Bearer ${We}`}});if(!l.ok)throw new Error("Failed to fetch categories");const u=await l.json(),f=await fetch(`https://${Me}.supabase.co/functions/v1/make-server-a8898ff1/admin/progress`,{headers:{Authorization:`Bearer ${We}`}});if(!f.ok)throw new Error("Failed to fetch progress");const p=await f.json(),g=u.categories||[],v=p.progress||[];let y=0;for(const S of g){const E=await fetch(`https://${Me}.supabase.co/functions/v1/make-server-a8898ff1/videos/${S.id}`,{headers:{Authorization:`Bearer ${We}`}});if(E.ok){const b=await E.json();y+=(b.videos||[]).length}}const _=new Set(v.map(S=>S.userId)).size;o({totalUsers:_,totalVideos:y,totalCategories:g.length,totalProgress:v.length})}catch(l){console.error("Error loading stats:",l),console.log("Server unavailable, falling back to demo mode"),o({totalUsers:5,totalVideos:8,totalCategories:3,totalProgress:12})}};return d.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d.jsx("header",{className:"bg-white shadow-sm border-b",children:d.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:d.jsxs("div",{className:"flex justify-between items-center h-16",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("img",{src:Ia,alt:"서울교통공사",className:"h-12 w-12"}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"관리자 대시보드"}),d.jsx("p",{className:"text-sm text-gray-600",children:"안전교육허브 관리 시스템"})]})]}),d.jsx("div",{className:"flex items-center space-x-4",children:d.jsxs(Te,{variant:"outline",size:"sm",onClick:t,children:[d.jsx(hg,{className:"h-4 w-4 mr-2"}),"로그아웃"]})})]})})}),d.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[We==="placeholder-anon-key",d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[d.jsxs(ct,{children:[d.jsxs(Vt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Wt,{className:"text-sm font-medium",children:"총 사용자"}),d.jsx(vg,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(ht,{children:[d.jsx("div",{className:"text-2xl font-bold",children:s.totalUsers}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"시청 기록이 있는 사용자"})]})]}),d.jsxs(ct,{children:[d.jsxs(Vt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Wt,{className:"text-sm font-medium",children:"총 영상"}),d.jsx(yg,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(ht,{children:[d.jsx("div",{className:"text-2xl font-bold",children:s.totalVideos}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"등록된 교육 영상"})]})]}),d.jsxs(ct,{children:[d.jsxs(Vt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Wt,{className:"text-sm font-medium",children:"총 카테고리"}),d.jsx(fg,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(ht,{children:[d.jsx("div",{className:"text-2xl font-bold",children:s.totalCategories}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"교육 카테고리"})]})]}),d.jsxs(ct,{children:[d.jsxs(Vt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Wt,{className:"text-sm font-medium",children:"시청 기록"}),d.jsx(pg,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(ht,{children:[d.jsx("div",{className:"text-2xl font-bold",children:s.totalProgress}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"총 시청 기록"})]})]})]}),d.jsxs(Zg,{defaultValue:"users",className:"space-y-4",children:[d.jsxs(ev,{className:"grid w-full grid-cols-4",children:[d.jsx(js,{value:"users",children:"사용자 관리"}),d.jsx(js,{value:"videos",children:"영상 관리"}),d.jsx(js,{value:"categories",children:"카테고리 관리"}),d.jsx(js,{value:"admins",children:"관리자 관리"})]}),d.jsx(Cs,{value:"users",children:d.jsx(G_,{})}),d.jsx(Cs,{value:"videos",children:d.jsx(NE,{onStatsUpdate:a})}),d.jsx(Cs,{value:"categories",children:d.jsx(QC,{onStatsUpdate:a})}),d.jsx(Cs,{value:"admins",children:d.jsx(YC,{currentAdmin:r})})]})]})]})}function ZC({onLogin:r,onBack:t}){const[s,o]=x.useState(""),[a,l]=x.useState(""),[u,f]=x.useState(""),[p,g]=x.useState(!1),v=E=>/^2\d{7}$/.test(E),y=E=>/^[가-힣]+$/.test(E)&&E.length>=2&&E.length<=5,_=async()=>{if(f(""),!s.trim()){f("사번을 입력해주세요.");return}if(!v(s)){f("사번은 2로 시작하는 8자리 숫자여야 합니다.");return}if(!a.trim()){f("이름을 입력해주세요.");return}if(!y(a.trim())){f("이름은 2-5자리 한글만 입력 가능합니다.");return}g(!0);try{const E={employeeId:s.trim(),name:a.trim(),loginDate:new Date().toISOString(),isNewUser:!localStorage.getItem(`user_${s.trim()}`)};localStorage.setItem(`user_${s.trim()}`,JSON.stringify(E)),localStorage.setItem("currentUser",JSON.stringify(E)),r(E)}catch{f("로그인 중 오류가 발생했습니다. 다시 시도해주세요.")}finally{g(!1)}},S=E=>{E.key==="Enter"&&_()};return d.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4 relative",children:d.jsxs("div",{className:"w-full max-w-md space-y-6",children:[d.jsxs("div",{className:"text-center space-y-4",children:[d.jsxs(Te,{variant:"ghost",onClick:t,className:"absolute top-4 left-4 flex items-center gap-2",children:[d.jsx(Yu,{className:"w-4 h-4"}),"뒤로"]}),d.jsx("div",{className:"flex justify-center",children:d.jsx("img",{src:Ia,alt:"서울교통공사 로고",className:"w-24 h-24"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"mb-2",children:"사용자 로그인"}),d.jsx("p",{className:"text-muted-foreground",children:"서울교통공사 안전교육허브에 로그인하세요"})]})]}),d.jsxs(ct,{children:[d.jsxs(Vt,{children:[d.jsxs(Wt,{className:"flex items-center gap-2",children:[d.jsx(gg,{className:"w-5 h-5"}),"로그인 정보 입력"]}),d.jsx(Pr,{children:"사번과 이름을 입력하시면 자동으로 회원가입이 완료됩니다."})]}),d.jsxs(ht,{className:"space-y-4",children:[u&&d.jsx(Pu,{variant:"destructive",children:d.jsx(Ru,{children:u})}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ye,{htmlFor:"employeeId",children:"사번"}),d.jsx(yt,{id:"employeeId",type:"text",placeholder:"20000000 (2로 시작하는 8자리)",value:s,onChange:E=>{const b=E.target.value.replace(/\D/g,"").slice(0,8);o(b)},onKeyPress:S,maxLength:8,className:"text-center tracking-wider"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"2로 시작하는 8자리 숫자를 입력하세요"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ye,{htmlFor:"name",children:"이름"}),d.jsx(yt,{id:"name",type:"text",placeholder:"홍길동",value:a,onChange:E=>{const b=E.target.value;l(b)},maxLength:5,className:"text-center"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"한글 이름을 입력하세요 (2-5자)"})]}),d.jsx(Te,{onClick:_,disabled:p||!s||!a,className:"w-full",children:p?"로그인 중...":"로그인"}),d.jsxs("div",{className:"text-xs text-muted-foreground text-center space-y-1",children:[d.jsx("p",{children:"• 처음 로그인하시는 경우 자동으로 회원가입됩니다"}),d.jsx("p",{children:"• 개인정보는 학습 진행률 저장을 위해서만 사용됩니다"})]})]})]}),d.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[d.jsx("p",{children:"서울교통공사 동대문승무사업소"}),d.jsx("p",{children:"안전교육허브"})]})]})})}function eN(){const[r,t]=x.useState("topics"),[s,o]=x.useState(""),[a,l]=x.useState(null),[u,f]=x.useState(null),[p,g]=x.useState(null),[v,y]=x.useState([]),[_,S]=x.useState(!0),[E,b]=x.useState({}),[k,C]=x.useState(!1);x.useEffect(()=>{const H=localStorage.getItem("currentUser");if(H)try{g(JSON.parse(H))}catch(oe){console.error("Failed to parse saved user:",oe),localStorage.removeItem("currentUser")}},[]),x.useEffect(()=>{P()},[]);const P=async()=>{try{const H=await fetch(`https://${Me}.supabase.co/functions/v1/make-server-a8898ff1/categories`,{headers:{Authorization:`Bearer ${We}`},cache:"no-store"});if(!H.ok)throw new Error("Failed to fetch categories");const Z=(await H.json()).categories||[];y(Z);const ne={};for(const j of Z)try{const U=await fetch(`https://${Me}.supabase.co/functions/v1/make-server-a8898ff1/videos/${j.id}`,{headers:{Authorization:`Bearer ${We}`},cache:"no-store"});if(U.ok){const K=await U.json(),A=Array.isArray(K.videos)?K.videos:[];ne[j.id]=A}else ne[j.id]=Bc[j.id]||[]}catch(U){console.error(`Error loading videos for category ${j.id}:`,U),ne[j.id]=Bc[j.id]||[]}b(ne)}catch(H){console.error("Error loading categories:",H)}finally{S(!1)}},R=H=>{o(H),re(H),t("videoList")},T=H=>{l(H),t("videoPlayer")},D=()=>{t("topics"),o("")},B=()=>{t("videoList"),l(null)},F=H=>{f(H),t("adminDashboard")},z=()=>{f(null),t("topics")},W=H=>{g(H),t("topics")},J=()=>{g(null),localStorage.removeItem("currentUser"),t("topics")},te=()=>E[s]||[],Y=()=>v.find(H=>H.id===s),re=async H=>{if(H)try{C(!0);const oe=await fetch(`https://${Me}.supabase.co/functions/v1/make-server-a8898ff1/videos/${H}`,{headers:{Authorization:`Bearer ${We}`},cache:"no-store"});if(!oe.ok)throw new Error("Failed to fetch videos");const Z=await oe.json(),ne=Array.isArray(Z.videos)?Z.videos:[];b(j=>({...j,[H]:ne}))}catch(oe){console.error("Error loading videos:",oe),b(Z=>({...Z,[H]:Bc[H]||[]}))}finally{C(!1)}};return r==="adminLogin"?d.jsx(k_,{onLogin:F,onBack:()=>t("topics")}):r==="adminDashboard"?d.jsx(XC,{admin:u,onLogout:z}):r==="userLogin"?d.jsx(ZC,{onLogin:W,onBack:()=>t("topics")}):d.jsxs("div",{className:"min-h-screen bg-background",children:[d.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:d.jsx("div",{className:"container mx-auto px-4 py-4",children:d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{className:"flex items-center gap-4",children:[r!=="topics"&&d.jsxs(Te,{variant:"ghost",size:"sm",onClick:r==="videoList"?D:B,className:"flex items-center gap-2",children:[d.jsx(Yu,{className:"w-4 h-4"}),"뒤로"]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("img",{src:Ia,alt:"Logo",className:"w-8 h-8 object-contain self-center"}),d.jsx("h1",{children:"서울교통공사 동대문승무사업소 안전교육허브"})]})]})})})}),d.jsxs("main",{className:"container mx-auto px-4 py-4",children:[r==="topics"&&d.jsxs("div",{children:[d.jsx("div",{className:"mb-12 text-center",children:d.jsx("div",{className:"mb-6",children:p?d.jsxs("div",{children:[d.jsxs("h1",{className:"mb-4",children:[p.name,"님, 안전교육허브에 오신 것을 환영합니다! 👋"]}),d.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"안전한 지하철을 만들기 위한 학습을 시작해보세요."}),d.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"동대문승무사업소 학습동아리가 준비한 안전교육영상으로 지금 배워보세요."}),p.isNewUser&&d.jsx("div",{className:"mt-4 p-4 bg-primary/10 border border-primary/20 rounded-lg max-w-md mx-auto",children:d.jsx("p",{className:"text-sm text-primary",children:"🎉 처음 방문하신 것을 환영합니다! 학습 진행률이 자동으로 저장됩니다."})})]}):d.jsxs("div",{children:[d.jsx("h1",{className:"mb-4",children:"서울교통공사 안전교육허브에 오신 것을 환영합니다! 👋"}),d.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"더 안전한 지하철을 만들 준비가 되셨나요?"}),d.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"동대문승무사업소 학습동아리가 준비한 안전교육영상으로 지금 배워보세요."}),d.jsx("div",{className:"mt-6",children:d.jsxs(Te,{onClick:()=>t("userLogin"),className:"flex items-center gap-2 mx-auto",children:[d.jsx(gg,{className:"w-4 h-4"}),"로그인하고 학습 시작하기"]})})]})})}),d.jsxs("div",{className:"mb-8",children:[d.jsx("h2",{className:"mb-2",children:"학습 주제를 선택하세요"}),d.jsxs("p",{className:"text-muted-foreground",children:["관심있는 주제를 클릭하여 교육 영상들을 확인해보세요.",!p&&" 로그인하시면 학습 진행률이 저장됩니다."]})]}),_?d.jsx("div",{className:"flex items-center justify-center py-12",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),d.jsx("p",{children:"카테고리를 불러오는 중..."})]})}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(H=>d.jsx($x,{topic:{id:H.id,title:H.title,description:H.subtitle,thumbnail:H.image,videoCount:E[H.id]?.length||0},onSelect:R},H.id))})]}),r==="videoList"&&d.jsxs("div",{children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h2",{className:"mb-2",children:Y()?.title}),d.jsx("p",{className:"text-muted-foreground",children:Y()?.description}),d.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[d.jsx(mu,{className:"w-4 h-4"}),d.jsxs("span",{className:"text-sm",children:["총 ",te().length,"개의 영상"]})]})]}),d.jsx("div",{className:"space-y-4",children:te().map(H=>d.jsx(Jb,{video:H,onSelect:T},H.id))})]}),r==="videoPlayer"&&a&&d.jsx("div",{className:"max-w-6xl mx-auto",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[d.jsx("div",{className:"lg:col-span-2 space-y-6",children:d.jsx(x_,{video:a,categoryId:s})}),d.jsxs("div",{className:"space-y-6",children:[d.jsx(b_,{video:a}),d.jsxs("div",{children:[d.jsx("h3",{className:"mb-4",children:"이 주제의 다른 영상"}),d.jsx("div",{className:"space-y-3",children:te().filter(H=>H.id!==a.id).slice(0,3).map(H=>d.jsxs("div",{className:"flex gap-3 p-3 rounded-lg hover:bg-muted cursor-pointer transition-colors",onClick:()=>T(H),children:[d.jsx("img",{src:H.thumbnail,alt:H.title,className:"w-20 h-12 object-cover rounded"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h4",{className:"line-clamp-2 text-sm mb-1",children:H.title}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.floor(H.duration/60),"분"]})]})]},H.id))})]})]})]})})]}),d.jsxs("div",{className:"flex items-center gap-2 mx-auto",children:[p?d.jsx("div",{className:"flex items-center gap-3 mx-auto",children:d.jsxs(Te,{variant:"outline",size:"sm",onClick:J,className:"flex items-center gap-2 mx-auto",children:[d.jsx(hg,{className:"w-4 h-4"}),"로그아웃"]})}):null,d.jsxs(Te,{variant:"outline",size:"sm",onClick:()=>t("adminLogin"),className:"flex items-center gap-2 mx-auto",children:[d.jsx(pg,{className:"w-4 h-4"}),"관리자"]})]})]})}Y0.createRoot(document.getElementById("root")).render(d.jsx(eN,{}));
